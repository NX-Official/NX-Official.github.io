<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>NX ã® åšå®¢</title>
  <icon>https://www.nickxu.top/static/favicon.jpg</icon>
  
  <link href="https://www.nickxu.top/atom.xml" rel="self"/>
  
  <link href="https://www.nickxu.top/"/>
  <updated>2023-06-17T14:16:02.922Z</updated>
  <id>https://www.nickxu.top/</id>
  
  <author>
    <name>Nick Xu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€ç®—æ³•æ‹¾é—ã€äºŒå‰æ ‘ï¼ˆBinary Treeï¼‰</title>
    <link href="https://www.nickxu.top/posts/281.html"/>
    <id>https://www.nickxu.top/posts/281.html</id>
    <published>2023-06-17T14:13:47.000Z</published>
    <updated>2023-06-17T14:16:02.922Z</updated>
    
    <content type="html"><![CDATA[<p>å¤§æ¦‚å¤ä¹ äº†ä¸€é</p><p>åªèƒ½ç­‰æœŸæœ«è€ƒè¯•åå†å¥½å¥½æ•´ç†äº†ï¼ˆ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¤§æ¦‚å¤ä¹ äº†ä¸€é&lt;/p&gt;
&lt;p&gt;åªèƒ½ç­‰æœŸæœ«è€ƒè¯•åå†å¥½å¥½æ•´ç†äº†ï¼ˆ&lt;/p&gt;
</summary>
      
    
    
    
    <category term="æ•°æ®ç»“æ„ä¸ç®—æ³•" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"/>
    
    <category term="ç®—æ³•æ‹¾é—" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/"/>
    
    <category term="äºŒå‰æ ‘" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
    
    <category term="æ ‘" scheme="https://www.nickxu.top/tags/%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç®—æ³•æ‹¾é—ã€è·³è¡¨ï¼ˆSkip Listï¼‰</title>
    <link href="https://www.nickxu.top/posts/280.html"/>
    <id>https://www.nickxu.top/posts/280.html</id>
    <published>2023-06-13T16:54:15.000Z</published>
    <updated>2023-06-17T14:14:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ«æ€¥ï¼Œè¿™å‘¨å†…ä¼šå†™</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åˆ«æ€¥ï¼Œè¿™å‘¨å†…ä¼šå†™&lt;/p&gt;
</summary>
      
    
    
    
    <category term="æ•°æ®ç»“æ„ä¸ç®—æ³•" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"/>
    
    <category term="ç®—æ³•æ‹¾é—" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/"/>
    
    <category term="è·³è¡¨" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/%E8%B7%B3%E8%A1%A8/"/>
    
    
    <category term="è·³è¡¨" scheme="https://www.nickxu.top/tags/%E8%B7%B3%E8%A1%A8/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç®—æ³•æ‹¾é—ã€é‡å­¦ä¸»æµæ’åºç®—æ³•</title>
    <link href="https://www.nickxu.top/posts/279.html"/>
    <id>https://www.nickxu.top/posts/279.html</id>
    <published>2023-06-13T04:21:54.000Z</published>
    <updated>2023-06-13T04:22:56.547Z</updated>
    
    
    
    
    <category term="æ•°æ®ç»“æ„ä¸ç®—æ³•" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"/>
    
    <category term="ç®—æ³•æ‹¾é—" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/"/>
    
    <category term="æ’åº" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/%E6%8E%92%E5%BA%8F/"/>
    
    
  </entry>
  
  <entry>
    <title>ç›´è§‚ç†è§£å‰åç«¯æ¦‚å¿µ â€”â€” ä»¥é€†å‘å­¦é™¢æ•™è¯„ç³»ç»Ÿä¸ºä¾‹</title>
    <link href="https://www.nickxu.top/posts/279.html"/>
    <id>https://www.nickxu.top/posts/279.html</id>
    <published>2023-06-04T05:29:53.000Z</published>
    <updated>2023-06-04T06:49:04.388Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚å¿µç†è§£">æ¦‚å¿µç†è§£</h1><h2 id="å‰ç«¯æ¦‚å¿µ">å‰ç«¯æ¦‚å¿µ</h2><p>ç»™ç”¨æˆ·ç”»ç”»ï¼Œå‘ˆç°ç•Œé¢</p><ul><li>html æœ‰ä»€ä¹ˆ</li><li>css é•¿ä»€ä¹ˆæ ·</li><li>js äº¤äº’é€»è¾‘ã€ä¸åç«¯äº¤äº’</li></ul><h2 id="åç«¯æ¦‚å¿µ">åç«¯æ¦‚å¿µ</h2><p>æä¾›æ¥å£ç»™å‰ç«¯è°ƒç”¨</p><p>å“åº”å‰ç«¯è¯·æ±‚ï¼Œè·å–æ•°æ®</p><hr><h1 id="å®æ“">å®æ“</h1><p><a href="http://www.teachingevaluationsystem.cn:8088/#/login">http://www.teachingevaluationsystem.cn:8088/#/login</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ¦‚å¿µç†è§£&quot;&gt;æ¦‚å¿µç†è§£&lt;/h1&gt;
&lt;h2 id=&quot;å‰ç«¯æ¦‚å¿µ&quot;&gt;å‰ç«¯æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;ç»™ç”¨æˆ·ç”»ç”»ï¼Œå‘ˆç°ç•Œé¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;html æœ‰ä»€ä¹ˆ&lt;/li&gt;
&lt;li&gt;css é•¿ä»€ä¹ˆæ ·&lt;/li&gt;
&lt;li&gt;js äº¤äº’é€»è¾‘ã€ä¸åç«¯äº¤äº’&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 </summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>åç«¯å±‚ä¸å±‚ä¼ é€’ç»“æ„ä½“æ—¶è‡ªåŠ¨è½¬æ¢ç±»å‹</title>
    <link href="https://www.nickxu.top/posts/278.html"/>
    <id>https://www.nickxu.top/posts/278.html</id>
    <published>2023-06-02T14:41:24.000Z</published>
    <updated>2023-06-02T14:44:50.841Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœªå®Œæˆ</p></blockquote><p>model çš„ time.time</p><p>ä¼ åˆ°ä¸‹ä¸€å±‚ int64</p><p>ä½¿ç”¨ jinzhu çš„ copy.copy() è‡ªåŠ¨è½¬</p><p>ï¼ˆè‡ªå·±å†™ä¸€ä¸ª gorm.modelï¼Œå¯¹é‚£ä¸ªå­—æ®µå®ç°è½¬æ¢çš„æ–¹æ³•ï¼‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœªå®Œæˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;model çš„ time.time&lt;/p&gt;
&lt;p&gt;ä¼ åˆ°ä¸‹ä¸€å±‚ int64&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ jinzhu çš„ copy.copy() è‡ªåŠ¨è½¬&lt;/p&gt;
&lt;p&gt;ï¼ˆè‡ªå·±å†™ä¸€ä¸ª gorm.modelï¼Œå¯¹é‚£</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>åç«¯å‘é€ lua è„šæœ¬ç»™ Redis æ‰§è¡Œ</title>
    <link href="https://www.nickxu.top/posts/277.html"/>
    <id>https://www.nickxu.top/posts/277.html</id>
    <published>2023-06-02T14:33:17.000Z</published>
    <updated>2023-06-02T14:44:32.544Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœªå®Œæˆ</p></blockquote><p><a href="https://chat.openai.com/share/b589c637-0b1c-4ac4-83e2-d5a6a84e0d37">https://chat.openai.com/share/b589c637-0b1c-4ac4-83e2-d5a6a84e0d37</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœªå®Œæˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://chat.openai.com/share/b589c637-0b1c-4ac4-83e2-d5a6a84e0d37&quot;&gt;https://chat.openai.co</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åœ¨ä¸€ä¸ªä»“åº“ä¸­åŒæ—¶å¼€å‘å‰åç«¯é¡¹ç›®</title>
    <link href="https://www.nickxu.top/posts/276.html"/>
    <id>https://www.nickxu.top/posts/276.html</id>
    <published>2023-06-01T09:31:30.000Z</published>
    <updated>2023-06-02T02:43:37.751Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306011733625.png" alt="image-20230601ä¸‹åˆ53301310"></p><blockquote><p>å¦‚å›¾ï¼Œä»Šå¤©åœ¨ç¾¤é‡Œé—®äº†ä¸ªå°é—®é¢˜</p></blockquote><p>TLDR; ç›´æ¥è¯´ç»“è®ºå§</p><ul><li><p>å°é¡¹ç›®ç›´æ¥å¼€å­ç›®å½•ï¼Œç„¶åå¯ä»¥åˆ†åˆ«ç‹¬ç«‹æ‰“åŒ…æˆ–è€…ä½¿ç”¨ <code>go embed</code></p></li><li><p>ä¸åŒåˆ†æ”¯çš„æ–¹æ³•åº”è¯¥æ²¡å¿…è¦ç”¨</p><p>å¦‚æœæƒ³åšæˆä¸¤ä¸ªç‹¬ç«‹é¡¹ç›®å°±ç”¨ submodule</p><details class="toggle" ><summary class="toggle-button" style="">gpt å¯¹ submodule çš„ä»‹ç»</summary><div class="toggle-content"><p>Git çš„ Submodule æ˜¯ä¸€ç§åœ¨ä¸€ä¸ª Git ä»“åº“ä¸­åµŒå¥—ä½¿ç”¨å¦ä¸€ä¸ª Git ä»“åº“çš„æœºåˆ¶ã€‚å®ƒå…è®¸ä½ å°†ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå­é¡¹ç›®åµŒå…¥åˆ°å¦ä¸€ä¸ª Git ä»“åº“ä¸­ï¼Œå¹¶ä¸”èƒ½å¤Ÿç‹¬ç«‹åœ°ç®¡ç†å­é¡¹ç›®çš„ç‰ˆæœ¬å’Œæäº¤å†å²ã€‚</p><p>ä½¿ç”¨ Git Submodule çš„ä¸»è¦ç›®çš„æ˜¯åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨å¤–éƒ¨ä¾èµ–ï¼Œè€Œä¸æ˜¯å°†å®ƒä»¬ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ç›®å½•ä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥æ–¹ä¾¿åœ°æ›´æ–°å’Œç»´æŠ¤å¤–éƒ¨ä¾èµ–ï¼Œå¹¶ä¸”å¯ä»¥ä¿æŒé¡¹ç›®çš„ç‹¬ç«‹æ€§ã€‚</p><p>ä¸‹é¢æ˜¯ä½¿ç”¨ Git Submodule çš„åŸºæœ¬å·¥ä½œæµç¨‹ï¼š</p><ol><li><p>æ·»åŠ  Submoduleï¼šåœ¨ä¸»é¡¹ç›®çš„ä»“åº“ä¸­ï¼Œä½¿ç”¨ <code>git submodule add</code> å‘½ä»¤æ·»åŠ ä¸€ä¸ªå­é¡¹ç›®ä½œä¸º Submoduleã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add &lt;URL to submodule&gt; &lt;submodule path&gt;</span><br></pre></td></tr></table></figure><p>è¿™å°†åœ¨ä¸»é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ª Submoduleï¼Œå¹¶å°†å…¶å…‹éš†åˆ°æŒ‡å®šçš„å­ç›®å½•ä¸­ã€‚</p></li><li><p>åˆå§‹åŒ–å’Œæ›´æ–° Submoduleï¼šåœ¨ä¸»é¡¹ç›®çš„ä»“åº“ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆå§‹åŒ–å’Œæ›´æ–° Submoduleï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git submodule init    # åˆå§‹åŒ– Submoduleï¼Œåªéœ€æ‰§è¡Œä¸€æ¬¡</span><br><span class="line">git submodule update  # æ›´æ–° Submoduleï¼Œæ¯æ¬¡å­é¡¹ç›®å‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œ</span><br></pre></td></tr></table></figure><p><code>git submodule init</code> å‘½ä»¤ä¼šåˆå§‹åŒ– Submodule å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šçš„æäº¤ã€‚<code>git submodule update</code> å‘½ä»¤ä¼šæ›´æ–° Submodule çš„ä»£ç ï¼Œå¯ä»¥åœ¨æ¯æ¬¡å­é¡¹ç›®å‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œè¯¥å‘½ä»¤ã€‚</p></li><li><p>åˆ‡æ¢ Submodule ç‰ˆæœ¬ï¼šåœ¨ä¸»é¡¹ç›®ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>cd</code> å‘½ä»¤åˆ‡æ¢åˆ° Submodule çš„ç›®å½•ä¸­ï¼Œç„¶ååƒåœ¨ç‹¬ç«‹çš„ Git ä»“åº“ä¸­ä¸€æ ·æ‰§è¡Œå„ç§ Git æ“ä½œï¼Œä¾‹å¦‚åˆ‡æ¢åˆ†æ”¯ã€æäº¤å˜æ›´ç­‰ã€‚</p></li><li><p>æäº¤å’Œæ›´æ–° Submoduleï¼šå½“ Submodule ä¸­å‘ç”Ÿå˜åŒ–å¹¶ä¸”éœ€è¦å°†è¿™äº›å˜åŒ–åº”ç”¨åˆ°ä¸»é¡¹ç›®ä¸­æ—¶ï¼Œéœ€è¦å…ˆåˆ‡æ¢åˆ°ä¸»é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæäº¤å’Œæ›´æ–°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;submodule path&gt;</span><br><span class="line">git commit -m &quot;Update submodule&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å…¶ä»–å¼€å‘è€…å…‹éš†ä¸»é¡¹ç›®æ—¶ï¼ŒSubmodule çš„ä»£ç ä¸ä¼šè‡ªåŠ¨è·å–ã€‚ä»–ä»¬éœ€è¦æ‰§è¡Œ <code>git submodule init</code> å’Œ <code>git submodule update</code> å‘½ä»¤æ¥è·å–å’Œæ›´æ–° Submodule çš„ä»£ç ã€‚</p><p>ä½¿ç”¨ Git Submodule éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>Submodule æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Git ä»“åº“ï¼Œå…·æœ‰è‡ªå·±çš„æäº¤å†å²å’Œç‰ˆæœ¬ç®¡ç†ã€‚</li><li>ä¸»é¡¹ç›®åªä¿å­˜ Submodule çš„å…ƒæ•°æ®å’Œè¿æ¥ä¿¡æ¯ï¼Œè€Œä¸ä¼šåŒ…å« Submodule çš„å®é™…ä»£ç ã€‚</li><li>ä¸»é¡¹ç›®å’Œ Submodule æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ä»“åº“ï¼Œéœ€è¦åˆ†åˆ«è¿›è¡Œæ“ä½œå’Œç®¡ç†ã€‚</li><li>Submodule å¯ä»¥æ˜¯å…¬å…±çš„ä»“åº“ï¼ˆå¦‚ GitHub ä¸Šçš„ä»“åº“ï¼‰æˆ–è€…æ˜¯ç§æœ‰çš„ä»“åº“ã€‚</li></ul><p>Git Submodule æ˜¯ä¸€ç§å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ ç®¡ç†é¡¹ç›®ä¸­çš„å¤–éƒ¨</p><p>ä¾èµ–ï¼Œå¹¶ä¸ä¸»é¡¹ç›®ä¿æŒç‹¬ç«‹å’Œå¯ç»´æŠ¤ã€‚ä½†åŒæ—¶ä¹Ÿéœ€è¦æ³¨æ„å®ƒçš„å¤æ‚æ€§å’Œæ­£ç¡®çš„ä½¿ç”¨æ–¹å¼ï¼Œä»¥é¿å…å‡ºç°é—®é¢˜ã€‚</p></div></details><p>submoduleæœ‰ä¸ªå¥½å¤„æ˜¯å­æ¨¡å—ä¹Ÿæ˜¯ä¸ªä»“åº“ æ¯”å¦‚åšå®¢ä¸»é¢˜è¿™ç§å°±å¯ä»¥ä¸»é¢˜ä¸€ä¸ªä»“åº“ ç„¶ådemoä»“åº“å¼•ç”¨ä¸»é¢˜çš„ä»“åº“è¿™æ ·åŒæ­¥</p></li><li><p>ç±»ä¼¼çš„ç©æ³•è¿˜æœ‰ monorepo ï¼Œä¸è¿‡å‰ç«¯å’Œåç«¯goæ²¡å•¥åŸºç¡€è®¾æ–½å…±äº« æ²¡æœ‰monrepoçš„åœºæ™¯</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306011733625.png&quot; alt=&quot;image-20230601ä¸‹åˆ53301310&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚å›¾ï¼Œä»Šå¤©åœ¨</summary>
      
    
    
    
    <category term="æ–°æŠ€èƒ½ Got" scheme="https://www.nickxu.top/categories/%E6%96%B0%E6%8A%80%E8%83%BD-Got/"/>
    
    
    <category term="git" scheme="https://www.nickxu.top/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç®—æ³•æ‹¾é—ã€é“¾è¡¨ï¼ˆLinked Listï¼‰</title>
    <link href="https://www.nickxu.top/posts/275.html"/>
    <id>https://www.nickxu.top/posts/275.html</id>
    <published>2023-05-31T12:59:45.000Z</published>
    <updated>2023-06-04T03:33:39.762Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸¤å¤©åœ¨å¤ä¹ é“¾è¡¨ï¼Œæˆ‘ä¸€æƒ³ï¼Œè¿™é“¾è¡¨è¿™ä¹ˆç®€å•çš„ä¸œè¥¿è¿˜æœ‰ä»€ä¹ˆå¤ä¹ çš„ï¼Œç®€å•è¿‡ä¸€éä¸å°±è¡Œäº†</p><p>ç„¶è€Œé©¬ä¸Šæ‰“è„¸ï¼Œæœ‰äº›é¢˜ç›®æˆ‘å±…ç„¶è¿˜å†™ä¸å‡ºæ¥ï¼ˆä¹</p><hr><h1 id="ç†è®ºåŸºç¡€">ç†è®ºåŸºç¡€</h1><p>å…ˆæ¥ç‚¹ä½ è‚¯å®šçŸ¥é“çš„ä¸œè¥¿ï¼Œç®€å•è¿‡ä¸€é</p><h2 id="æ˜¯ä»€ä¹ˆ">æ˜¯ä»€ä¹ˆ</h2><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306021230054.png" alt="image-20230602ä¸‹åˆ123049988"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œé“¾è¡¨æ˜¯ä¸€ç§é“¾å¼ç»“æ„ï¼Œä»¥æœ€ç®€å•çš„å•é“¾è¡¨ä¸ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ListNode <span class="keyword">struct</span> &#123;</span><br><span class="line">    Val  <span class="type">int</span></span><br><span class="line">    Next *ListNode</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä¸‹ä¸€ä¸ªèŠ‚ç‚¹å†æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯å°¾èŠ‚ç‚¹å°±æŒ‡å‘ <code>NULL</code> ï¼ˆæˆ–è€…è¯´æ˜¯ Golang é‡Œçš„ <code>nil</code> ï¼‰</p><h2 id="åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</h2><h3 id="åˆ é™¤èŠ‚ç‚¹">åˆ é™¤èŠ‚ç‚¹</h3><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306021253830.png" alt="image-20230602ä¸‹åˆ125326797"></p><p>è®©å‰é¢èŠ‚ç‚¹è®¤ä¸ºå®ƒçš„åé¢æ˜¯åé¢çš„èŠ‚ç‚¹</p><p>åˆ é™¤çš„èŠ‚ç‚¹è®© GC è‡ªåŠ¨å›æ”¶æ‰å³å¯</p><h3 id="æ·»åŠ èŠ‚ç‚¹">æ·»åŠ èŠ‚ç‚¹</h3><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306021302406.png" alt="image-20230602ä¸‹åˆ10229378"></p><p>è®©æ–°èŠ‚ç‚¹æŒ‡å‘åé¢èŠ‚ç‚¹ï¼Œè®©å‰é¢èŠ‚ç‚¹æŒ‡å‘æ–°èŠ‚ç‚¹</p><h2 id="é“¾è¡¨çš„å‡ ç§å˜ä½“">é“¾è¡¨çš„å‡ ç§å˜ä½“</h2><h3 id="æœ‰å¤´é“¾è¡¨">æœ‰å¤´é“¾è¡¨</h3><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306021338969.png" alt="image-20230602ä¸‹åˆ13821938"></p><p>å‡å°‘å¯¹å¤´èŠ‚ç‚¹çš„ç‰¹æ®Šå¤„ç†</p><h3 id="åŒå‘é“¾è¡¨">åŒå‘é“¾è¡¨</h3><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306021343996.png" alt="image-20230602ä¸‹åˆ14306969"></p><p>å¯ä»¥æ–¹ä¾¿åœ°æ‰¾åˆ°å‰é©±èŠ‚ç‚¹</p><p>å¯¹äºä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨çš„æŒ‰å€¼æŸ¥è¯¢æ•ˆç‡è¦æ¯”å•é“¾è¡¨é«˜ä¸€äº›ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥è®°å½•ä¸Šæ¬¡æŸ¥æ‰¾çš„ä½ç½®pï¼Œæ¯ä¸€æ¬¡æŸ¥è¯¢æ—¶ï¼Œæ ¹æ®è¦æŸ¥æ‰¾çš„å€¼ä¸pçš„å¤§å°å…³ç³»ï¼Œå†³å®šæ˜¯å¾€å‰è¿˜æ˜¯å¾€åæŸ¥æ‰¾ï¼Œæ‰€ä»¥å¹³å‡åªéœ€è¦æŸ¥æ‰¾ä¸€åŠçš„æ•°æ®ã€‚</p><h3 id="å¾ªç¯é“¾è¡¨">å¾ªç¯é“¾è¡¨</h3><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306021346003.png" alt="image-20230602ä¸‹åˆ14652973"></p><p>èƒ½è§£å†³çº¦ç‘Ÿå¤«é—®é¢˜</p><h3 id="æœ‰å¤´åŒå‘å¾ªç¯é“¾è¡¨"><s>æœ‰å¤´åŒå‘å¾ªç¯é“¾è¡¨</s></h3><p>buff å æ»¡ï¼Œè¯·è§ <a href="https://www.bilibili.com/video/BV1xN4y1L7TQ/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">ã€æœ‰å¤´åŒå‘å¾ªç¯é“¾è¡¨ä¹‹ç¾ï¼Œè¿™ä¸ªæ•°æ®ç»“æ„ç®€å•åˆä¼˜é›…ï¼Œå­¦ä¼šäº†ä¸äºã€‘</a></p><h2 id="é“¾è¡¨-vs-æ•°ç»„">é“¾è¡¨ vs æ•°ç»„</h2><table><thead><tr><th></th><th>æ’å…¥åˆ é™¤</th><th>éšæœºè®¿é—®</th></tr></thead><tbody><tr><td>æ•°ç»„</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>é“¾è¡¨</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td></tr></tbody></table><hr><h1 id="å¿…çŸ¥å¿…ä¼šçš„é¢˜ç›®">å¿…çŸ¥å¿…ä¼šçš„é¢˜ç›®</h1><h2 id="707-è®¾è®¡é“¾è¡¨"><a href="https://leetcode.cn/problems/design-linked-list/">707. è®¾è®¡é“¾è¡¨</a></h2><p>å®ç°ä¸€ä¸ªé“¾è¡¨ï¼Œè¿™é‡Œå°±ä»¥å¸¦å¤´å•é“¾è¡¨ä¸ºä¾‹</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MyLinkedList <span class="keyword">struct</span> &#123;</span><br><span class="line">head *ListNode</span><br><span class="line">size <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ListNode <span class="keyword">struct</span> &#123;</span><br><span class="line">val  <span class="type">int</span></span><br><span class="line">next *ListNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Constructor åˆå§‹åŒ– MyLinkedList å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span></span> MyLinkedList &#123;</span><br><span class="line">dummyHead := &amp;ListNode&#123;&#125;</span><br><span class="line"><span class="keyword">return</span> MyLinkedList&#123;</span><br><span class="line">head: dummyHead,</span><br><span class="line">size: <span class="number">0</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get è·å–é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœä¸‹æ ‡æ— æ•ˆï¼Œåˆ™è¿”å› -1</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> Get(index <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line"><span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= this.size &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line">cur := this.head.next</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> cur.val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AddAtHead å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ã€‚åœ¨æ’å…¥å®Œæˆåï¼Œæ–°èŠ‚ç‚¹ä¼šæˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtHead(val <span class="type">int</span>) &#123;</span><br><span class="line">newNode := &amp;ListNode&#123;val: val&#125;</span><br><span class="line">newNode.next = this.head.next</span><br><span class="line">this.head.next = newNode</span><br><span class="line">this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AddAtTail å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨ä¸­ä½œä¸ºé“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtTail(val <span class="type">int</span>) &#123;</span><br><span class="line">newNode := &amp;ListNode&#123;val: val&#125;</span><br><span class="line">cur := this.head</span><br><span class="line"><span class="keyword">for</span> cur.next != <span class="literal">nil</span> &#123;</span><br><span class="line">cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line">cur.next = newNode</span><br><span class="line">this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AddAtIndex å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹ä¹‹å‰ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœ index ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹ä¼šè¢«è¿½åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœ index æ¯”é•¿åº¦æ›´å¤§ï¼Œè¯¥èŠ‚ç‚¹å°† ä¸ä¼šæ’å…¥ åˆ°é“¾è¡¨ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtIndex(index <span class="type">int</span>, val <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt; this.size &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> index == this.size &#123;</span><br><span class="line">this.AddAtTail(val)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">cur := this.head</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line">newNode := &amp;ListNode&#123;val: val&#125;</span><br><span class="line">newNode.next = cur.next</span><br><span class="line">cur.next = newNode</span><br><span class="line">this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// DeleteAtIndex å¦‚æœä¸‹æ ‡æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> DeleteAtIndex(index <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= this.size &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">cur := this.head</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line">cur.next = cur.next.next</span><br><span class="line">this.size--</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="206-åè½¬é“¾è¡¨"><a href="https://leetcode.cn/problems/reverse-linked-list/">206. åè½¬é“¾è¡¨</a></h2><p>å­—é¢æ„æ€ï¼Œç¿»è½¬ä¸€ä¸ªé“¾è¡¨</p><p>æ“ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol start="0"><li>åˆå§‹åŒ–å½“å‰èŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹</li><li>æš‚å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li><li>å°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹</li><li>å‰é©±èŠ‚ç‚¹åç§»</li><li>å½“å‰èŠ‚ç‚¹åç§»</li><li>é‡å¤ 1-4ï¼Œåªåˆ°å½“å‰èŠ‚ç‚¹ä¸º <code>NULL</code> ï¼Œè¾“å‡ºå‰é©±ç»“ç‚¹ä¸ºæ–°çš„å¤´ç»“ç‚¹</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseList</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// å®šä¹‰å‰é©±èŠ‚ç‚¹ã€å½“å‰èŠ‚ç‚¹ã€åç»§èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">var</span> prev *ListNode = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">var</span> next *ListNode = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">var</span> curr *ListNode = head</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†é“¾è¡¨</span></span><br><span class="line"><span class="keyword">for</span> curr != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="comment">// ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">next = curr.Next</span><br><span class="line"><span class="comment">// å½“å‰èŠ‚ç‚¹æŒ‡å‘å‰é©±èŠ‚ç‚¹</span></span><br><span class="line">curr.Next = prev</span><br><span class="line"><span class="comment">// å‰é©±èŠ‚ç‚¹åç§»</span></span><br><span class="line">prev = curr</span><br><span class="line"><span class="comment">// å½“å‰èŠ‚ç‚¹åç§»</span></span><br><span class="line">curr = next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å‰é©±èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">return</span> prev</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä¸€å¼€å§‹ä¹Ÿä¸æ˜¯å¾ˆæ‡‚ï¼Œæ‰€ä»¥æˆ‘ç”»äº†ä¸ªå›¾ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œå›¾ç”»å‡ºæ¥æˆ‘å°±æ‡‚äº†</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202306021637081.png" alt="image-20230601ä¸‹åˆ103709377"></p><p>ç±»ä¼¼åœ°ï¼Œè¿˜æœ‰ä¸€ä¸ªé€’å½’çš„å†™æ³•</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseList</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›åŸé“¾è¡¨</span></span><br><span class="line"><span class="keyword">if</span> head == <span class="literal">nil</span> || head.Next == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> head</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€’å½’åè½¬é™¤å¤´èŠ‚ç‚¹å¤–çš„å­é“¾è¡¨</span></span><br><span class="line">p := reverseList(head.Next)</span><br><span class="line"><span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œå®ç°åè½¬</span></span><br><span class="line">head.Next.Next = head</span><br><span class="line"><span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç½®ç©ºï¼Œæ–­å¼€åŸé“¾è¡¨ä¸­çš„è¿æ¥</span></span><br><span class="line">head.Next = <span class="literal">nil</span></span><br><span class="line"><span class="comment">// è¿”å›åè½¬åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹"><a href="https://leetcode.cn/problems/middle-of-the-linked-list/">876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</a></h2><p>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼ˆ <code>i</code> èµ°ä¸€æ­¥ï¼Œ <code>j</code> èµ°ä¸¤æ­¥ï¼‰</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">middleNode</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// å®šä¹‰å¿«æ…¢æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">var</span> fast *ListNode = head</span><br><span class="line"><span class="keyword">var</span> slow *ListNode = head</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆèµ°ä¸€æ­¥</span></span><br><span class="line"><span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">fast = fast.Next.Next</span><br><span class="line">slow = slow.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›æ…¢æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">return</span> slow</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="https://leetcode.cn/problems/merge-two-sorted-lists/">21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a></h2><p>ç¬¬ä¸€ç‰ˆä»¥ä¸ºä¸èƒ½ä¿®æ”¹ä»–ç»™å‡ºçš„é“¾è¡¨ï¼Œæ¯æ¬¡éƒ½ new ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç»“æœ TLE äº†ï¼Œå¥½å°´å°¬</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeTwoLists</span><span class="params">(list1 *ListNode, list2 *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ä½œä¸ºæ–°é“¾è¡¨çš„å¤´éƒ¨</span></span><br><span class="line">  dummy := &amp;ListNode&#123;&#125;</span><br><span class="line">curr := dummy</span><br><span class="line"></span><br><span class="line">  <span class="comment">// éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œæ¯”è¾ƒèŠ‚ç‚¹çš„å€¼ï¼Œå°†è¾ƒå°å€¼çš„èŠ‚ç‚¹æ·»åŠ åˆ°æ–°é“¾è¡¨ä¸­</span></span><br><span class="line"><span class="keyword">for</span> list1 != <span class="literal">nil</span> &amp;&amp; list2 != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">if</span> list1.Val &lt; list2.Val &#123;</span><br><span class="line">curr.Next = list1</span><br><span class="line">list1 = list1.Next</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">curr.Next = list2</span><br><span class="line">list2 = list2.Next</span><br><span class="line">&#125;</span><br><span class="line">curr = curr.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¦‚æœå…¶ä¸­ä¸€ä¸ªé“¾è¡¨å·²ç»éå†å®Œäº†ï¼Œç›´æ¥å°†å¦ä¸€ä¸ªé“¾è¡¨å‰©ä½™éƒ¨åˆ†æ·»åŠ åˆ°æ–°é“¾è¡¨ä¸­</span></span><br><span class="line"><span class="keyword">for</span> list1 != <span class="literal">nil</span> &#123;</span><br><span class="line">curr.Next = list1</span><br><span class="line">list1 = list1.Next</span><br><span class="line">curr = curr.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> list2 != <span class="literal">nil</span> &#123;</span><br><span class="line">curr.Next = list2</span><br><span class="line">list2 = list2.Next</span><br><span class="line">curr = curr.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="234-å›æ–‡é“¾è¡¨"><a href="https://leetcode.cn/problems/palindrome-linked-list/">234. å›æ–‡é“¾è¡¨</a></h2><p>ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°ä¸­ç‚¹ï¼Œç„¶ååè½¬ååŠéƒ¨åˆ†ï¼Œä»å¼€å§‹å’Œä¸­é—´å‘åè¿›è¡Œæ¯”è¾ƒ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isPalindrome</span><span class="params">(head *ListNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"><span class="comment">// å®šä¹‰å¿«æ…¢æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">var</span> slow *ListNode = head</span><br><span class="line"><span class="keyword">var</span> fast *ListNode = head</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¿«æ…¢æŒ‡é’ˆèµ°åˆ°ä¸­é—´èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">fast = fast.Next.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœfastä¸ä¸ºç©ºï¼Œè¯´æ˜é“¾è¡¨é•¿åº¦ä¸ºå¥‡æ•°ï¼Œslowè¿˜è¦å†å‰è¿›ä¸€æ­¥</span></span><br><span class="line"><span class="keyword">if</span> fast != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åè½¬ååŠéƒ¨åˆ†é“¾è¡¨ï¼ˆè§ä¸Šé¢çš„å®ç°ï¼‰</span></span><br><span class="line">slow = reverseList(slow)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒå‰åä¸¤éƒ¨åˆ†é“¾è¡¨</span></span><br><span class="line"><span class="keyword">for</span> slow != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">if</span> slow.Val != head.Val &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">slow = slow.Next</span><br><span class="line">head = head.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-N-ä¸ªç»“ç‚¹"><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</a></h2><p>è¿˜æ˜¯åŒæŒ‡é’ˆï¼Œ<code>i</code> <code>j</code> åˆå§‹ä¸º <code>head</code>ï¼Œç„¶å <code>j</code> å…ˆèµ° <code>N</code> æ­¥ï¼Œç„¶åä¸€èµ·å¾€åèµ°</p><p>è¿™ä¸ªä¸œè¥¿æœ‰ç‚¹å‘ï¼Œä¸€å¼€å§‹æ²¡å¼„å“¨å…µèŠ‚ç‚¹ï¼Œåˆ é™¤çš„æ“ä½œæ€»æ˜¯æœ‰é—®é¢˜</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeNthFromEnd</span><span class="params">(head *ListNode, n <span class="type">int</span>)</span></span> *ListNode &#123;</span><br><span class="line">dummy := &amp;ListNode&#123;Next: head&#125;</span><br><span class="line">slow, fast := dummy, dummy</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">fast = fast.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">fast = fast.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">slow.Next = slow.Next.Next</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="141-ç¯å½¢é“¾è¡¨"><a href="https://leetcode.cn/problems/linked-list-cycle/">141. ç¯å½¢é“¾è¡¨</a></h2><p>åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨ä¸­æœ‰æ²¡æœ‰ç¯</p><p>è¿˜æ˜¯å¿«æ…¢æŒ‡é’ˆï¼Œå¦‚æœå¿«æŒ‡é’ˆèƒ½è¿½ä¸Šæ…¢æŒ‡é’ˆå°±è‚¯å®šæœ‰ç¯äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasCycle</span><span class="params">(head *ListNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">fast := head</span><br><span class="line">slow := head</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">fast = fast.Next.Next</span><br><span class="line"><span class="keyword">if</span> fast == slow &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨æ›´ç›´ç™½çš„æ–¹æ³•</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasCycle</span><span class="params">(head *ListNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"><span class="keyword">if</span> head == <span class="literal">nil</span> || head.Next == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> head != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">if</span> head.Val == <span class="number">123512151</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">head.Val = <span class="number">123512151</span></span><br><span class="line">&#125;</span><br><span class="line">head = head.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="142-ç¯å½¢é“¾è¡¨-II"><a href="https://leetcode.cn/problems/linked-list-cycle-ii/">142. ç¯å½¢é“¾è¡¨ II</a></h2><p>è¿™ä¸ªé¢˜ç›®éœ€è¦åœ¨åˆ¤æ–­å‡ºæœ‰ç¯åèƒ½æ‰¾åˆ°ç¯çš„èµ·ç‚¹</p><p>æ¨ç†è¿‡ç¨‹è¯·è§ <a href="https://www.programmercarl.com/0142.%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8II.html#%E5%A6%82%E6%9E%9C%E6%9C%89%E7%8E%AF-%E5%A6%82%E4%BD%95%E6%89%BE%E5%88%B0%E8%BF%99%E4%B8%AA%E7%8E%AF%E7%9A%84%E5%85%A5%E5%8F%A3">ä»£ç éšæƒ³å½•</a> ğŸ‘€</p><p>åæ­£ç»“è®ºå°±æ˜¯ï¼šå½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œè®©å…¶ä¸­ä¸€ä¸ªå›åˆ°å¤´ç»“ç‚¹ï¼Œç„¶ååŒé€Ÿå‰è¿›ï¼Œå†æ¬¡ç›¸é‡å³ä¸ºç¯å¼€å§‹çš„ç‚¹</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">detectCycle</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">fast := head</span><br><span class="line">slow := head</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">fast = fast.Next.Next</span><br><span class="line"><span class="keyword">if</span> fast == slow &#123;</span><br><span class="line">fast = head</span><br><span class="line"><span class="keyword">for</span> fast != slow &#123;</span><br><span class="line">fast = fast.Next</span><br><span class="line">slow = slow.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> fast</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç†è®ºä¸Šä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´ç›´ç™½çš„æ–¹æ³•ï¼Œä½†æ˜¯é¢˜ç›®è¦æ±‚ä¸èƒ½ä¿®æ”¹é“¾è¡¨</p><h2 id="é¢è¯•é¢˜-02-07-é“¾è¡¨ç›¸äº¤"><a href="https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/">é¢è¯•é¢˜ 02.07. é“¾è¡¨ç›¸äº¤</a></h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getIntersectionNode</span><span class="params">(headA, headB *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">lengthA := getLength(headA)</span><br><span class="line">lengthB := getLength(headB)</span><br><span class="line"><span class="keyword">var</span> fast, slow *ListNode</span><br><span class="line">step := <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> lengthA &gt; lengthB &#123;</span><br><span class="line">step = lengthA - lengthB</span><br><span class="line">fast, slow = headA, headB</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">step = lengthB - lengthA</span><br><span class="line">fast, slow = headB, headA</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; step; i++ &#123;</span><br><span class="line">fast = fast.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œç›¸åŒåˆ™è·³å‡º</span></span><br><span class="line"><span class="keyword">for</span> fast != slow &#123;</span><br><span class="line">fast = fast.Next</span><br><span class="line">slow = slow.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> fast</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getLength</span><span class="params">(head *ListNode)</span></span> (length <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> ; head != <span class="literal">nil</span>; head = head.Next &#123;</span><br><span class="line">length++</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿™ä¸¤å¤©åœ¨å¤ä¹ é“¾è¡¨ï¼Œæˆ‘ä¸€æƒ³ï¼Œè¿™é“¾è¡¨è¿™ä¹ˆç®€å•çš„ä¸œè¥¿è¿˜æœ‰ä»€ä¹ˆå¤ä¹ çš„ï¼Œç®€å•è¿‡ä¸€éä¸å°±è¡Œäº†&lt;/p&gt;
&lt;p&gt;ç„¶è€Œé©¬ä¸Šæ‰“è„¸ï¼Œæœ‰äº›é¢˜ç›®æˆ‘å±…ç„¶è¿˜å†™ä¸å‡ºæ¥ï¼ˆä¹&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;ç†è®ºåŸºç¡€&quot;&gt;ç†è®ºåŸºç¡€&lt;/h1&gt;
&lt;p&gt;å…ˆæ¥ç‚¹ä½ è‚¯å®šçŸ¥é“çš„ä¸œè¥¿ï¼Œç®€å•è¿‡ä¸€é&lt;/p&gt;
&lt;h2 id=&quot;æ˜¯</summary>
      
    
    
    
    <category term="æ•°æ®ç»“æ„ä¸ç®—æ³•" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"/>
    
    <category term="ç®—æ³•æ‹¾é—" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/"/>
    
    <category term="é“¾è¡¨" scheme="https://www.nickxu.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/%E9%93%BE%E8%A1%A8/"/>
    
    
    <category term="é“¾è¡¨" scheme="https://www.nickxu.top/tags/%E9%93%BE%E8%A1%A8/"/>
    
  </entry>
  
  <entry>
    <title>2023äº”ä¸€æ€»ç»“ï¼šè¿‘å†µä¸å°†æ¥</title>
    <link href="https://www.nickxu.top/posts/274.html"/>
    <id>https://www.nickxu.top/posts/274.html</id>
    <published>2023-05-04T10:17:19.000Z</published>
    <updated>2023-05-05T06:59:35.554Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042244576.jpeg" alt="5BBA2597-B720-4882-992C-0F819A89F314_1_105_c"></p><blockquote><p>äº‹æƒ…æœ‰ç‚¹å¤šï¼Œå°±ç®€å•è¯´å‡ å¥å§ï½</p></blockquote><div class="audio"><audio controls preload><source src='https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042224874.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><hr><h1 id="æœ€è¿‘çš„äº‹æƒ…">æœ€è¿‘çš„äº‹æƒ…</h1><h2 id="æ­ç”µåŠ©æ‰‹å›¢å»º">æ­ç”µåŠ©æ‰‹å›¢å»º</h2><div class="fj-gallery"><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042227317.png" alt="image-20230504222737293"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042228416.png" alt="image-20230504222810383"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042228652.png" alt="image-20230504222817629"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042228681.png" alt="image-20230504222822653"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042228729.png" alt="image-20230504222830701"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042228227.png" alt="image-20230504222846195"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042229391.png" alt="image-20230504222910356"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042228295.png" alt="image-20230504222859260"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042229770.png" alt="image-20230504222918732"></p>          </div><h2 id="Bç«™çƒ­è¯„">Bç«™çƒ­è¯„</h2><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042230672.jpg" alt="f4d24a56ac534936b0e5cf3989cdd18a" style="zoom:50%;" /><blockquote><p>åŸè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1Lk4y1Y76V/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">ã€ã€å¹´æ›´èŠ‚ç›®ã€‘ä¸–ç•Œè¯»ä¹¦æ—¥ï¼Œè¶…çº§å¹²è´§ä¹¦å•åˆ†äº«ï¼è¿™äº›ä¹¦å¹´è½»æ—¶ä¸€å®šè¦è¯»ï¼(2023)ã€‘</a></p></blockquote><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042231897.jpg" alt="ccfbcf8afd6c7f72f3b8f8a3923ac2ea_0"></p><h2 id="OSPPå¼€å¥½å¤´">OSPPå¼€å¥½å¤´</h2><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042231196.png" alt="image-20230504223158168"></p><blockquote><p>å»çœ‹äº†å¾ˆå¤š mosn çš„æ–‡æ¡£å’Œè§†é¢‘ï¼Œå¯¹ç›®å‰çš„å¾®æœåŠ¡éƒ¨ç½²æ¶æ„æœ‰æ›´æ·±å…¥åœ°äº†è§£</p></blockquote><ul><li>ã€MOSN å­é¡¹ç›® Layottoï¼šå¼€å¯æœåŠ¡ç½‘æ ¼+åº”ç”¨è¿è¡Œæ—¶æ–°ç¯‡ç« ã€‘ <a href="https://www.bilibili.com/video/BV1hq4y1L7FY/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV1hq4y1L7FY/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li><li>ã€MOSN äº‘åŸç”Ÿç½‘ç»œä»£ç†å¹³å°ã€‘ <a href="https://www.bilibili.com/video/BV13s4y127m2/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV13s4y127m2/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li><li>é¸Ÿé¸Ÿçš„åšå®¢ Before Good First Issueï¼š<a href="https://blog.aflybird.cn/2023/01/before-good-first-issue/">https://blog.aflybird.cn/2023/01/before-good-first-issue/</a></li><li>iyear ï¼š <a href="https://iyear.me/archives/919.html/">https://iyear.me/archives/919.html/</a></li></ul><hr><h1 id="æœªæ¥è§„åˆ’">æœªæ¥è§„åˆ’</h1><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042225230.png" alt=""></p><blockquote><p>åœ¨ V ç«™ä¸Šçš„å›å¤ï¼ŒåŸæ–‡åœ°å€ï¼š<a href="https://www.v2ex.com/t/928328#reply4">https://www.v2ex.com/t/928328#reply4</a></p><p>è®²çœŸè¿™æ¨èçš„ k8s è¯¾ç¨‹çš„ç¡®ä¸é”™ï¼Œå³ä½¿æ˜¯18å¹´å†™çš„ <a href="http://gk.link/a/122Sd">http://gk.link/a/122Sd</a></p></blockquote><p>1.Â OSPP<br>2.Â åç«¯ä¸¤ä¸ªé¡¹ç›®<br>3.Â æ­å·äºšè¿ä¼š<br>4.Â å‡†å¤‡å®ä¹ &amp;å¤§ä¸‰æ˜¥æ‹›</p><hr><h1 id="è¦å­¦çš„ä¸œè¥¿">è¦å­¦çš„ä¸œè¥¿</h1><ul><li>mysqlé”mvcc</li><li>ws, casbin</li><li>k8s</li><li>æ•°æ®ç»“æ„ç®…æ³•</li><li>è®¡ç®—æœºåŸºç¡€</li><li>æ¦‚ç‡è®ºå¤å˜å‡½æ•°</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202305042244576.jpeg&quot; alt=&quot;5BBA2597-B720-4882-992C-0F819A89F314_1_105_c&quot;&gt;&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="éšç¬”ä¸æ€»ç»“" scheme="https://www.nickxu.top/categories/%E9%9A%8F%E7%AC%94%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="éšç¬”" scheme="https://www.nickxu.top/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºè½¯åˆ é™¤çš„è®¨è®º</title>
    <link href="https://www.nickxu.top/posts/273.html"/>
    <id>https://www.nickxu.top/posts/273.html</id>
    <published>2023-05-02T08:13:22.000Z</published>
    <updated>2023-05-04T14:57:23.623Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ«æ€¥ï¼Œå…ˆæŒ‚ç€</p><p>åˆ«é—®æˆ‘ä¸ºä»€ä¹ˆç©ºç€å°±å‘ä¸Šæ¥äº†ï¼Œæˆ‘æœ¬æ¥æ˜¯æƒ³æ¯ä¸€ç¯‡éƒ½å†™å®Œå†å‘çš„ï¼Œä½†æ˜¯åé¢æœ¬åœ°å‘æŒ–äº†å¾ˆå¤šä¸æƒ³å¡«å°±ç›´æ¥åˆ äº†</p><p>ç„¶åå‘ä¸Šæ¥è‡³å°‘åˆ«äººçœ‹ç€æˆ‘è¿˜æœ‰åŠ¨åŠ›å»å¡«ğŸ¤£</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åˆ«æ€¥ï¼Œå…ˆæŒ‚ç€&lt;/p&gt;
&lt;p&gt;åˆ«é—®æˆ‘ä¸ºä»€ä¹ˆç©ºç€å°±å‘ä¸Šæ¥äº†ï¼Œæˆ‘æœ¬æ¥æ˜¯æƒ³æ¯ä¸€ç¯‡éƒ½å†™å®Œå†å‘çš„ï¼Œä½†æ˜¯åé¢æœ¬åœ°å‘æŒ–äº†å¾ˆå¤šä¸æƒ³å¡«å°±ç›´æ¥åˆ äº†&lt;/p&gt;
&lt;p&gt;ç„¶åå‘ä¸Šæ¥è‡³å°‘åˆ«äººçœ‹ç€æˆ‘è¿˜æœ‰åŠ¨åŠ›å»å¡«ğŸ¤£&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ChatGPTå¯¹è¯è®°å½•ï¼ˆå…­ï¼‰ï¼šGORM æ‰‹åŠ¨äº‹åŠ¡é”™è¯¯å¤„ç†</title>
    <link href="https://www.nickxu.top/2023/04/29/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9AGORM-%E6%89%8B%E5%8A%A8%E4%BA%8B%E5%8A%A1%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"/>
    <id>https://www.nickxu.top/2023/04/29/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9AGORM-%E6%89%8B%E5%8A%A8%E4%BA%8B%E5%8A%A1%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/</id>
    <published>2023-04-29T03:02:06.000Z</published>
    <updated>2023-04-29T03:33:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>Model: GPT-4</p><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *UserDeleteLogic)</span></span> UserDelete(in *user.UserDeleteRequest) (*user.Empty, <span class="type">error</span>) &#123;</span><br><span class="line"></span><br><span class="line">tx := l.svcCtx.Dao.Begin()</span><br><span class="line"></span><br><span class="line">u := tx.User</span><br><span class="line">m := tx.MemberShip</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">deleteInfo, err := u.Where(u.ID.Eq(in.Id)).Delete()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸€æ¡éƒ½æ²¡æœ‰å½±å“ï¼Œè¿”å›ä¸å­˜åœ¨</span></span><br><span class="line"><span class="keyword">if</span> deleteInfo.RowsAffected == <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.UserNotFound</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç¤¾å›¢å…³ç³»</span></span><br><span class="line">_, err = m.Where(m.UserId.Eq(in.Id)).Delete()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">err = tx.Commit()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &amp;user.Empty&#123;&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æœ‰æ²¡æœ‰é—®é¢˜</p></blockquote><p>è¿™æ®µä»£ç å®ç°äº†ä¸€ä¸ªåä¸ºUserDeleteçš„æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªUserDeleteRequestç±»å‹çš„å‚æ•°å¹¶è¿”å›ä¸€ä¸ªuser.Emptyç»“æ„ä½“æŒ‡é’ˆå’Œä¸€ä¸ªé”™è¯¯ï¼ˆerrorï¼‰ã€‚è¿™ä¸ªæ–¹æ³•ä¸»è¦æ‰§è¡Œäº†ä»¥ä¸‹æ“ä½œï¼š</p><ol><li>å¯åŠ¨ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ã€‚</li><li>ä»æ•°æ®åº“ä¸­åˆ é™¤ç”¨æˆ·ã€‚</li><li>å¦‚æœæ²¡æœ‰åˆ é™¤ä»»ä½•ç”¨æˆ·ï¼Œè¿”å›ä¸€ä¸ªç”¨æˆ·ä¸å­˜åœ¨çš„é”™è¯¯ã€‚</li><li>åˆ é™¤ä¸ç”¨æˆ·ç›¸å…³çš„ç¤¾å›¢å…³ç³»ã€‚</li><li>æäº¤äº‹åŠ¡ã€‚</li></ol><p>è¿™æ®µä»£ç åœ¨é€»è¾‘ä¸Šæ²¡æœ‰æ˜æ˜¾é—®é¢˜ï¼Œä½†æœ‰ä¸€äº›å»ºè®®å¯ä»¥æ”¹è¿›ä»£ç çš„å¯è¯»æ€§å’Œå¥å£®æ€§ï¼š</p><ol><li><p>å½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œåº”è¯¥å›æ»šäº‹åŠ¡ã€‚åœ¨å‘ç”Ÿé”™è¯¯æ—¶ï¼ˆå¦‚åˆ é™¤ç”¨æˆ·æˆ–åˆ é™¤ç¤¾å›¢å…³ç³»æ—¶å‘ç”Ÿé”™è¯¯ï¼‰ï¼Œä½ åº”è¯¥ä½¿ç”¨<code>tx.Rollback()</code>å›æ»šäº‹åŠ¡ã€‚ä½ å¯ä»¥åœ¨è¿”å›é”™è¯¯ä¹‹å‰æ·»åŠ æ­¤è¯­å¥ï¼Œæˆ–è€…ä½¿ç”¨<code>defer</code>å’Œ<code>recover</code>æ¥ç¡®ä¿åœ¨å‘ç”Ÿé”™è¯¯æ—¶å§‹ç»ˆå›æ»šäº‹åŠ¡ã€‚</p></li><li><p>ä½¿ç”¨Goè¯­è¨€çš„&quot;context&quot;åº“ã€‚è¿™æ®µä»£ç ä¸­ä¼¼ä¹ä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸Šä¸‹æ–‡ç»“æ„ï¼ˆl.ctxï¼‰ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨Goæ ‡å‡†åº“ä¸­çš„&quot;context&quot;ã€‚ä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨&quot;context&quot;åº“ï¼Œå¹¶å°†å®ƒä¼ é€’ç»™æ•°æ®åº“æ“ä½œæ–¹æ³•ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶å¯ä»¥å–æ¶ˆæ“ä½œã€‚</p></li><li><p>ä½¿ç”¨æ›´å…·æè¿°æ€§çš„å˜é‡åã€‚è™½ç„¶è¿™æ®µä»£ç ç›¸å¯¹ç®€çŸ­ï¼Œä½†ä½¿ç”¨æ›´å…·æè¿°æ€§çš„å˜é‡åå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†å˜é‡å<code>u</code>æ”¹ä¸º<code>userDao</code>ï¼Œå°†<code>m</code>æ”¹ä¸º<code>membershipDao</code>ç­‰ã€‚</p></li><li><p>æ·»åŠ æ³¨é‡Šä»¥æé«˜ä»£ç å¯è¯»æ€§ã€‚è™½ç„¶è¿™æ®µä»£ç çš„é€»è¾‘ç›¸å¯¹ç®€å•ï¼Œä½†æ·»åŠ ä¸€äº›æ³¨é‡Šå¯ä»¥å¸®åŠ©å…¶ä»–å¼€å‘è€…æ›´è½»æ¾åœ°ç†è§£ä»£ç çš„ç›®çš„å’Œå·¥ä½œæ–¹å¼ã€‚ä¾‹å¦‚ï¼Œè§£é‡Šäº‹åŠ¡çš„ç›®çš„ï¼Œä»¥åŠä¸ºä»€ä¹ˆåœ¨åˆ é™¤ç”¨æˆ·åè¿˜éœ€è¦åˆ é™¤ä¸ç”¨æˆ·ç›¸å…³çš„ç¤¾å›¢å…³ç³»ç­‰ã€‚</p></li></ol><p>æ€»ä¹‹ï¼Œè¿™æ®µä»£ç åœ¨é€»è¾‘ä¸Šæ²¡æœ‰æ˜æ˜¾é—®é¢˜ï¼Œä½†æœ‰ä¸€äº›å»ºè®®å¯ä»¥æ”¹è¿›ä»£ç çš„å¯è¯»æ€§å’Œå¥å£®æ€§ã€‚</p><blockquote><p>æˆ‘å¬è¯´å¦‚æœé€€å‡ºå‡½æ•°å‰æ²¡æœ‰æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨å›æ»šï¼Œæ˜¯è¿™æ ·å—</p></blockquote><p>è¿™å–å†³äºä½ ä½¿ç”¨çš„æ•°æ®åº“å’Œæ•°æ®åº“é©±åŠ¨ç¨‹åºã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå½“è¿æ¥å…³é—­æˆ–è€…æ•°æ®åº“ä¼šè¯ç»“æŸæ—¶ï¼Œæœªæäº¤çš„äº‹åŠ¡å¯èƒ½ä¼šè¢«è‡ªåŠ¨å›æ»šã€‚ä½†æ˜¯ï¼Œä¾èµ–è‡ªåŠ¨å›æ»šå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯åœ¨å¹¶å‘ç¯å¢ƒä¸­ã€‚</p><p>ä¸ºäº†ç¼–å†™å¥å£®ä¸”å¯ç»´æŠ¤çš„ä»£ç ï¼Œå»ºè®®ä½ å§‹ç»ˆæ˜¾å¼åœ°æäº¤æˆ–å›æ»šäº‹åŠ¡ï¼Œè€Œä¸æ˜¯ä¾èµ–è‡ªåŠ¨å›æ»šã€‚è¿™å¯ä»¥ç¡®ä¿äº‹åŠ¡åœ¨å‡½æ•°é€€å‡ºæ—¶å§‹ç»ˆå¤„äºé¢„æœŸçš„çŠ¶æ€ï¼Œé¿å…æ½œåœ¨çš„é—®é¢˜ã€‚åœ¨Goä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>defer</code>è¯­å¥åœ¨å‡½æ•°é€€å‡ºæ—¶æ‰§è¡Œå›æ»šï¼Œç¡®ä¿äº‹åŠ¡åœ¨é‡åˆ°é”™è¯¯æ—¶è¢«å›æ»šã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *UserDeleteLogic)</span></span> UserDelete(in *user.UserDeleteRequest) (*user.Empty, <span class="type">error</span>) &#123;</span><br><span class="line">    tx := l.svcCtx.Dao.Begin()</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">            tx.Rollback()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... æ­¤å¤„çœç•¥å…¶ä»–æ“ä½œ ...</span></span><br><span class="line"></span><br><span class="line">    err := tx.Commit()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        tx.Rollback()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &amp;user.Empty&#123;&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå½“å‘ç”Ÿé”™è¯¯æˆ–è€…panicæ—¶ï¼Œäº‹åŠ¡ä¼šè¢«æ˜¾å¼åœ°å›æ»šã€‚å½“ç„¶ï¼Œå¦‚æœä½ ç¡®ä¿¡åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹æ•°æ®åº“ä¼šè‡ªåŠ¨å›æ»šï¼Œå¹¶ä¸”è¿™ç§è¡Œä¸ºç¬¦åˆä½ çš„é¢„æœŸï¼Œä½ å¯ä»¥é€‰æ‹©ä¾èµ–è‡ªåŠ¨å›æ»šã€‚ç„¶è€Œï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ˜¾å¼åœ°å¤„ç†äº‹åŠ¡æ˜¯æ›´å¥½çš„åšæ³•ã€‚</p><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *UserDeleteLogic)</span></span> UserDelete(in *user.UserDeleteRequest) (*user.Empty, <span class="type">error</span>) &#123;</span><br><span class="line"></span><br><span class="line">tx := l.svcCtx.Dao.Begin()</span><br><span class="line"><span class="keyword">var</span> err <span class="type">error</span></span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">recover</span>() != <span class="literal">nil</span> || err != <span class="literal">nil</span> &#123;</span><br><span class="line">_ = tx.Rollback()</span><br><span class="line">&#125;</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line">u := tx.User</span><br><span class="line">m := tx.MemberShip</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">deleteInfo, err := u.Where(u.ID.Eq(in.Id)).Delete()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸€æ¡éƒ½æ²¡æœ‰å½±å“ï¼Œè¿”å›ä¸å­˜åœ¨</span></span><br><span class="line"><span class="keyword">if</span> deleteInfo.RowsAffected == <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.UserNotFound</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç¤¾å›¢å…³ç³»</span></span><br><span class="line">_, err = m.Where(m.UserId.Eq(in.Id)).Delete()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">err = tx.Commit()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &amp;user.Empty&#123;&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘è¿™æ ·å†™å‘¢</p></blockquote><p>è¿™ä¸ªç‰ˆæœ¬çš„ä»£ç ä¸­ï¼Œä½ ä½¿ç”¨äº†<code>defer</code>è¯­å¥æ¥å¤„ç†äº‹åŠ¡å›æ»šã€‚è¿™æ˜¯ä¸€ä¸ªæ”¹è¿›ï¼Œç¡®ä¿åœ¨é‡åˆ°é”™è¯¯æˆ–panicæ—¶äº‹åŠ¡ä¼šè¢«å›æ»šã€‚ç„¶è€Œï¼Œè¿™æ®µä»£ç ä»æœ‰ä¸€äº›å°é—®é¢˜éœ€è¦æ³¨æ„ï¼š</p><ol><li><p>å½“<code>err</code>ä¸º<code>nil</code>ä¸”<code>recover()</code>è¿”å›é<code>nil</code>å€¼æ—¶ï¼Œä½ åº”è¯¥ä¸º<code>err</code>èµ‹ä¸€ä¸ªæ–°å€¼ï¼Œä»¥ä¾¿åœ¨è¿”å›é”™è¯¯æ—¶è¿”å›ä¸€ä¸ªæœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†<code>err</code>è®¾ç½®ä¸ºä¸€ä¸ªè¡¨ç¤ºäº‹åŠ¡å›æ»šçš„è‡ªå®šä¹‰é”™è¯¯ï¼Œæˆ–è€…ä½¿ç”¨<code>fmt.Errorf</code>åˆ›å»ºä¸€ä¸ªåŒ…å«recoverä¿¡æ¯çš„é”™è¯¯ã€‚</p></li><li><p>å½“<code>tx.Commit()</code>å¤±è´¥æ—¶ï¼Œä½ è¿˜éœ€è¦æ˜¾å¼åœ°è°ƒç”¨<code>tx.Rollback()</code>ã€‚è™½ç„¶ä½ å·²ç»åœ¨<code>defer</code>è¯­å¥ä¸­æ·»åŠ äº†å›æ»šé€»è¾‘ï¼Œä½†åœ¨<code>tx.Commit()</code>å¤±è´¥æ—¶ï¼Œ<code>err</code>å˜é‡çš„å€¼ä¸ä¼šè¢«æ”¹å˜ï¼Œè¿™æ„å‘³ç€<code>defer</code>è¯­å¥ä¸­çš„æ¡ä»¶ä¸ä¼šè§¦å‘å›æ»šã€‚åœ¨<code>tx.Commit()</code>å¤±è´¥æ—¶ï¼Œä½ éœ€è¦ç«‹å³è°ƒç”¨<code>tx.Rollback()</code>ï¼Œç„¶åè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</p></li></ol><p>æ ¹æ®ä¸Šè¿°å»ºè®®ï¼Œä½ å¯ä»¥ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *UserDeleteLogic)</span></span> UserDelete(in *user.UserDeleteRequest) (*user.Empty, <span class="type">error</span>) &#123;</span><br><span class="line"></span><br><span class="line">    tx := l.svcCtx.Dao.Begin()</span><br><span class="line">    <span class="keyword">var</span> err <span class="type">error</span></span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">            err = fmt.Errorf(<span class="string">&quot;panic occurred: %v, rolling back transaction&quot;</span>, r)</span><br><span class="line">            _ = tx.Rollback()</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            _ = tx.Rollback()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    u := tx.User</span><br><span class="line">    m := tx.MemberShip</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">    deleteInfo, err := u.Where(u.ID.Eq(in.Id)).Delete()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸€æ¡éƒ½æ²¡æœ‰å½±å“ï¼Œè¿”å›ä¸å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> deleteInfo.RowsAffected == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.UserNotFound</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤ç¤¾å›¢å…³ç³»</span></span><br><span class="line">    _, err = m.Where(m.UserId.Eq(in.Id)).Delete()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    err = tx.Commit()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        _ = tx.Rollback()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &amp;user.Empty&#123;&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¿®æ”¹åï¼Œä»£ç ä¼šåœ¨é‡åˆ°é”™è¯¯æˆ–panicæ—¶æ­£ç¡®å¤„ç†äº‹åŠ¡å›æ»šã€‚</p><blockquote><p>tx.Rollback()ä¹Ÿä¼šè¿”å›ä¸€ä¸ªerrorï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸æ˜¯ä¸éœ€è¦å¤„ç†</p></blockquote><p>æ˜¯çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“è°ƒç”¨<code>tx.Rollback()</code>æ—¶ï¼Œä½ ä¸éœ€è¦å¤„ç†è¿”å›çš„é”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå›æ»šäº‹åŠ¡æ—¶é‡åˆ°çš„é”™è¯¯é€šå¸¸è¡¨ç¤ºåº•å±‚æ•°æ®åº“è¿æ¥æˆ–ç³»ç»Ÿå­˜åœ¨é—®é¢˜ï¼Œè¿™ç±»é—®é¢˜é€šå¸¸è¶…å‡ºäº†åº”ç”¨ç¨‹åºèƒ½å¤„ç†çš„èŒƒå›´ã€‚</p><p>å½“ä½ è°ƒç”¨<code>tx.Rollback()</code>æ—¶ï¼Œå…³å¿ƒçš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿äº‹åŠ¡è¢«å–æ¶ˆï¼Œä»¥é¿å…æ½œåœ¨çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨å›æ»šäº‹åŠ¡æ—¶ï¼Œä½ å¯ä»¥å¿½ç•¥è¿”å›çš„é”™è¯¯ã€‚ç„¶è€Œï¼Œå¦‚æœä½ å¸Œæœ›è®°å½•è¿™äº›é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œç”¨äºè°ƒè¯•æˆ–ç›‘æ§ç›®çš„ï¼‰ï¼Œä½ å¯ä»¥é€‰æ‹©å°†å›æ»šé”™è¯¯è®°å½•åˆ°æ—¥å¿—ä¸­ï¼Œä½†é€šå¸¸ä¸éœ€è¦å°†å…¶ä½œä¸ºåº”ç”¨ç¨‹åºé€»è¾‘çš„ä¸€éƒ¨åˆ†è¿›è¡Œå¤„ç†ã€‚</p><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œä½ å·²ç»ä½¿ç”¨<code>_ = tx.Rollback()</code>æ¥å¿½ç•¥å›æ»šé”™è¯¯ã€‚è¿™æ˜¯ä¸€ç§åˆé€‚çš„åšæ³•ï¼Œå› ä¸ºå®ƒæ¸…æ¥šåœ°è¡¨æ˜ä½ çŸ¥é“<code>tx.Rollback()</code>è¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œä½†é€‰æ‹©ä¸å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Model: GPT-4&lt;/p&gt;
&lt;blockquote&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=</summary>
      
    
    
    
    <category term="ChatGPT å¯¹è¯è®°å½•" scheme="https://www.nickxu.top/categories/ChatGPT-%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="GORM" scheme="https://www.nickxu.top/tags/GORM/"/>
    
    <category term="ChatGPT" scheme="https://www.nickxu.top/tags/ChatGPT/"/>
    
  </entry>
  
  <entry>
    <title>ChatGPTå¯¹è¯è®°å½•ï¼ˆäº”ï¼‰ï¼šç”¨æˆ·æƒé™ç®¡ç†</title>
    <link href="https://www.nickxu.top/2023/04/13/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E4%BA%94%EF%BC%89%EF%BC%9A%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/"/>
    <id>https://www.nickxu.top/2023/04/13/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E4%BA%94%EF%BC%89%EF%BC%9A%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/</id>
    <published>2023-04-13T13:09:38.000Z</published>
    <updated>2023-04-14T03:10:16.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>golangé¡¹ç›®ä¸­æ€ä¹ˆåšç”¨æˆ·æƒé™ç®¡ç†</p></blockquote><p>åœ¨ Golang é¡¹ç›®ä¸­å®ç°ç”¨æˆ·æƒé™ç®¡ç†éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li><p>å®šä¹‰æƒé™çº§åˆ«ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šä¹‰ä¸åŒçš„æƒé™çº§åˆ«ï¼Œæ¯”å¦‚è¶…çº§ç®¡ç†å‘˜ã€ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ç­‰ã€‚æ¯ä¸ªæƒé™çº§åˆ«å¯¹åº”ä¸åŒçš„æ“ä½œæƒé™ã€‚</p></li><li><p>å®ç°èº«ä»½è®¤è¯ï¼šä½¿ç”¨ OAuth2ã€JWT æˆ–å…¶ä»–èº«ä»½è®¤è¯æ–¹å¼è¿›è¡Œèº«ä»½è®¤è¯ï¼Œç¡®ä¿ç”¨æˆ·æ˜¯åˆæ³•çš„ã€‚å¯¹äºä¸€äº›æ•æ„Ÿæ“ä½œï¼Œéœ€è¦è¿›è¡ŒäºŒæ¬¡è®¤è¯ã€‚</p></li><li><p>å®ç°è®¿é—®æ§åˆ¶ï¼šåœ¨ä»£ç ä¸­å®ç°è®¿é—®æ§åˆ¶ï¼Œæ ¹æ®ç”¨æˆ·çš„æƒé™çº§åˆ«æ¥é™åˆ¶å…¶è®¿é—®å’Œæ“ä½œçš„èŒƒå›´ã€‚å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶ã€æ³¨è§£æˆ–å…¶ä»–æ–¹å¼æ¥å®ç°ã€‚</p></li><li><p>æ•°æ®æƒé™æ§åˆ¶ï¼šå¯¹äºä¸€äº›éœ€è¦æ•°æ®éš”ç¦»çš„åœºæ™¯ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·çš„æƒé™çº§åˆ«å’Œè§’è‰²æ¥è¿›è¡Œæ•°æ®æƒé™æ§åˆ¶ï¼Œç¡®ä¿ç”¨æˆ·åªèƒ½è®¿é—®åˆ°å…¶æœ‰æƒé™çš„æ•°æ®ã€‚</p></li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ JWT å’Œæ³¨è§£å®ç°ç”¨æˆ·æƒé™ç®¡ç†ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æƒé™çº§åˆ«</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    RoleAdmin = <span class="string">&quot;admin&quot;</span></span><br><span class="line">    RoleUser  = <span class="string">&quot;user&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// JWT éªŒè¯ä¸­é—´ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">JWTAuthMiddleware</span><span class="params">(next http.Handler)</span></span> http.Handler &#123;</span><br><span class="line">    <span class="keyword">return</span> http.HandlerFunc(<span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è·å– JWT Token</span></span><br><span class="line">        tokenString := r.Header.Get(<span class="string">&quot;Authorization&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> tokenString == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">            w.WriteHeader(http.StatusUnauthorized)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è§£æ JWT Token</span></span><br><span class="line">        token, err := jwt.Parse(tokenString, <span class="function"><span class="keyword">func</span><span class="params">(token *jwt.Token)</span></span> (<span class="keyword">interface</span>&#123;&#125;, <span class="type">error</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="type">byte</span>(<span class="string">&quot;my_secret_key&quot;</span>), <span class="literal">nil</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> || !token.Valid &#123;</span><br><span class="line">            w.WriteHeader(http.StatusUnauthorized)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†ç”¨æˆ· ID å’Œè§’è‰²å­˜å‚¨åœ¨ä¸Šä¸‹æ–‡ä¸­</span></span><br><span class="line">        userID := token.Claims.(jwt.MapClaims)[<span class="string">&quot;user_id&quot;</span>].(<span class="type">string</span>)</span><br><span class="line">        role := token.Claims.(jwt.MapClaims)[<span class="string">&quot;role&quot;</span>].(<span class="type">string</span>)</span><br><span class="line">        ctx := context.WithValue(r.Context(), <span class="string">&quot;user_id&quot;</span>, userID)</span><br><span class="line">        ctx = context.WithValue(ctx, <span class="string">&quot;role&quot;</span>, role)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ä¸‹ä¸€ä¸ªå¤„ç†å™¨</span></span><br><span class="line">        next.ServeHTTP(w, r.WithContext(ctx))</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨è§£ï¼šé™åˆ¶åªæœ‰ç®¡ç†å‘˜æ‰èƒ½è®¿é—®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AdminOnly</span><span class="params">(next http.HandlerFunc)</span></span> http.HandlerFunc &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        role := r.Context().Value(<span class="string">&quot;role&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> role != RoleAdmin &#123;</span><br><span class="line">            w.WriteHeader(http.StatusForbidden)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        next(w, r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å¤„ç†å‡½æ•°ï¼šéœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½è®¿é—®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">adminHandler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–ç”¨æˆ· ID å’Œè§’è‰²</span></span><br><span class="line">    userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>)</span><br><span class="line">    role := r.Context().Value(<span class="string">&quot;role&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹ç®¡ç†å‘˜è¿›è¡Œç‰¹æ®Šå¤„ç†</span></span><br><span class="line">    <span class="keyword">if</span> role == RoleAdmin &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">    w.WriteHeader(http.StatusOK)</span><br><span class="line">    fmt.Fprintf(w, <span class="string">&quot;Hello %s, your role is %s&quot;</span>, userID, role)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè·¯ç”±å™¨</span></span><br><span class="line">    r := mux.NewRouter()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ è·¯ç”±</span></span><br><span class="line">    r.HandleFunc(<span class="string">&quot;/admin&quot;</span>, AdminOnly(adminHandler)).Methods(<span class="string">&quot;GET&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ </span></span><br></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯å­˜åœ¨ä¸€äº›å¾ˆå¤æ‚çš„åœºæ™¯ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªç”¨æˆ·çš„ä¸ªäººä¿¡æ¯åªèƒ½ç”±ä»–è‡ªå·±æ›´æ”¹ï¼Œæˆ–è€…è¢«æ›´é«˜ç­‰çº§çš„è´¦æˆ·æ›´æ”¹</p></blockquote><p>æ˜¯çš„ï¼Œè¿™äº›åœºæ™¯ç¡®å®æ›´å¤æ‚ï¼Œéœ€è¦æ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ã€‚ä¸‹é¢æ˜¯ä¸€äº›å®ç°è¿™äº›åœºæ™¯çš„å»ºè®®ï¼š</p><ol><li><p>æ•°æ®æƒé™æ§åˆ¶ï¼šåœ¨å®ç°æ•°æ®æƒé™æ§åˆ¶æ—¶ï¼Œå¯ä»¥å°†æƒé™æ§åˆ¶è§„åˆ™å†™å…¥åˆ°ä¸šåŠ¡ä»£ç ä¸­ï¼Œæˆ–è€…ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ã€‚å¯ä»¥æ ¹æ®ç”¨æˆ·çš„è§’è‰²ã€ç»„ç»‡æ¶æ„ç­‰ä¿¡æ¯ï¼ŒåŠ¨æ€è®¡ç®—å‡ºç”¨æˆ·å¯ä»¥è®¿é—®çš„æ•°æ®ã€‚å¯¹äºéœ€è¦æ•°æ®éš”ç¦»çš„åœºæ™¯ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªç”¨æˆ·åˆ›å»ºç‹¬ç«‹çš„æ•°æ®ç©ºé—´ã€‚</p></li><li><p>è¡Œçº§æƒé™æ§åˆ¶ï¼šåœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªç”¨æˆ·çš„ä¸ªäººä¿¡æ¯åªèƒ½ç”±ä»–è‡ªå·±æ›´æ”¹ã€‚å¯ä»¥ä½¿ç”¨è¡Œçº§æƒé™æ§åˆ¶æŠ€æœ¯ï¼Œåœ¨æ¯æ¡æ•°æ®ä¸­æ·»åŠ ä¸€ä¸ªæƒé™æ§åˆ¶å­—æ®µï¼Œç”¨æ¥è®°å½•å“ªäº›ç”¨æˆ·å¯ä»¥è®¿é—®è¯¥æ•°æ®ã€‚åœ¨æŸ¥è¯¢å’Œæ›´æ–°æ•°æ®æ—¶ï¼Œéœ€è¦åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®è¯¥æ•°æ®ã€‚</p></li><li><p>å§”æ‰˜æˆæƒï¼šåœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œéœ€è¦å®ç°æˆæƒå§”æ‰˜ï¼Œæ¯”å¦‚è¯´è¢«æ›´é«˜ç­‰çº§çš„è´¦æˆ·æ›´æ”¹ã€‚å¯ä»¥ä½¿ç”¨å§”æ‰˜æˆæƒæŠ€æœ¯ï¼Œåœ¨æˆæƒè€…å’Œè¢«æˆæƒè€…ä¹‹é—´å»ºç«‹æˆæƒå…³ç³»ã€‚åœ¨è¢«æˆæƒè€…è®¿é—®å—ä¿æŠ¤çš„èµ„æºæ—¶ï¼Œéœ€è¦éªŒè¯æˆæƒè€…æ˜¯å¦å·²ç»æˆæƒè¯¥æ“ä½œã€‚æˆæƒå…³ç³»å¯ä»¥æ˜¯é™æ€çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ¥é€‰æ‹©é€‚åˆçš„æˆæƒæ¨¡å‹ã€‚</p></li></ol><p>æ€»ä¹‹ï¼Œå®ç°å¤æ‚åœºæ™¯çš„ç”¨æˆ·æƒé™ç®¡ç†éœ€è¦ç»¼åˆè€ƒè™‘å¤šä¸ªå› ç´ ï¼ŒåŒ…æ‹¬ä¸šåŠ¡éœ€æ±‚ã€å®‰å…¨æ€§ã€æ˜“ç”¨æ€§ã€å¯ç»´æŠ¤æ€§ç­‰ã€‚éœ€è¦åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸æ–­è¿­ä»£å’Œä¼˜åŒ–ï¼Œç¡®ä¿æƒé™ç®¡ç†ç³»ç»Ÿèƒ½å¤Ÿæ»¡è¶³ä¸šåŠ¡éœ€æ±‚å¹¶ä¸”å®‰å…¨å¯é ã€‚</p><blockquote><p>å°±è¿™ä¸ªä¾‹å­ï¼Œä½ è§‰å¾—èƒ½æ€ä¹ˆå†™</p></blockquote><p>å‡è®¾æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªåœºæ™¯ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç å®ç°ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·æ¨¡å‹</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID       <span class="type">int</span></span><br><span class="line">    Username <span class="type">string</span></span><br><span class="line">    Password <span class="type">string</span></span><br><span class="line">    Email    <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetUserByID</span><span class="params">(userID <span class="type">int</span>)</span></span> (*User, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UpdateUser</span><span class="params">(user *User)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æ›´æ–°ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸­é—´ä»¶ï¼šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CheckUserAccessMiddleware</span><span class="params">(next http.HandlerFunc)</span></span> http.HandlerFunc &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è·å–ç”¨æˆ· ID å’Œè§’è‰²</span></span><br><span class="line">        userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>)</span><br><span class="line">        role := r.Context().Value(<span class="string">&quot;role&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯ç®¡ç†å‘˜ï¼Œåˆ™ç›´æ¥é€šè¿‡</span></span><br><span class="line">        <span class="keyword">if</span> role == RoleAdmin &#123;</span><br><span class="line">            next(w, r)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦åˆ™æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨è®¿é—®è‡ªå·±çš„ä¿¡æ¯</span></span><br><span class="line">        requestedUserID, err := strconv.Atoi(mux.Vars(r)[<span class="string">&quot;user_id&quot;</span>])</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> || userID != requestedUserID &#123;</span><br><span class="line">            w.WriteHeader(http.StatusForbidden)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡æ£€æŸ¥</span></span><br><span class="line">        next(w, r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å¤„ç†å‡½æ•°ï¼šè·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUserHandler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–è¯·æ±‚çš„ç”¨æˆ· ID</span></span><br><span class="line">    userID, err := strconv.Atoi(mux.Vars(r)[<span class="string">&quot;user_id&quot;</span>])</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    user, err := GetUserByID(userID)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusInternalServerError)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">    json.NewEncoder(w).Encode(user)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å¤„ç†å‡½æ•°ï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateUserHandler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–è¯·æ±‚çš„ç”¨æˆ· ID</span></span><br><span class="line">    userID, err := strconv.Atoi(mux.Vars(r)[<span class="string">&quot;user_id&quot;</span>])</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£æè¯·æ±‚çš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">var</span> user User</span><br><span class="line">    <span class="keyword">if</span> err := json.NewDecoder(r.Body).Decode(&amp;user); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™æ›´æ–°ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> userID != user.ID &#123;</span><br><span class="line">        w.WriteHeader(http.StatusForbidden)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> err := UpdateUser(&amp;user); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusInternalServerError)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">    w.WriteHeader(http.StatusOK)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªä¸­é—´ä»¶ <code>CheckUserAccessMiddleware</code>ï¼Œç”¨æ¥æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®å’Œä¿®æ”¹ä¸ªäººä¿¡æ¯ã€‚å¦‚æœå½“å‰ç”¨æˆ·æ˜¯ç®¡ç†å‘˜ï¼Œåˆ™ç›´æ¥é€šè¿‡ï¼›å¦åˆ™ï¼Œéœ€è¦æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨è®¿é—®è‡ªå·±çš„ä¿¡æ¯ã€‚å¯¹äºè·å–å’Œæ›´æ–°ç”¨æˆ·ä¿¡æ¯çš„è·¯ç”±å¤„ç†å‡½æ•° <code>getUserHandler</code> å’Œ <code>updateUserHandler</code>ï¼Œæˆ‘ä»¬éƒ½æ·»åŠ äº†è¿™ä¸ªä¸­é—´ä»¶ã€‚</p><p>åœ¨è·¯ç”±å¤„ç†å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè·å–è¯·æ±‚çš„ç”¨æˆ· IDï¼Œç„¶åæ ¹æ®ç”¨æˆ· ID æŸ¥è¯¢æˆ–æ›´æ–°ç”¨æˆ·ä¿¡æ¯ã€‚åœ¨æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ£€æŸ¥è¯·æ±‚ä¸­çš„ç”¨æˆ·ä¿¡æ¯æ˜¯å¦ä¸å½“å‰ç”¨æˆ·åŒ¹é…ã€‚å¦‚æœè¯·æ±‚çš„ç”¨æˆ·</p><blockquote><p>ä½†æ˜¯æœ‰å¾ˆå¤šç±»å‹çš„å¤æ‚æƒé™åˆ¤æ–­æƒ…å†µï¼Œæˆ‘æƒ³èƒ½ä¸èƒ½æ•´åˆåœ¨ä¸€èµ·</p></blockquote><p>æ˜¯çš„ï¼Œç¡®å®å­˜åœ¨å¾ˆå¤šç±»å‹çš„å¤æ‚æƒé™åˆ¤æ–­æƒ…å†µï¼Œéœ€è¦æ•´åˆåœ¨ä¸€èµ·æ¥å®ç°ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ RBACï¼ˆRole-Based Access Controlï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰æˆ– ABACï¼ˆAttribute-Based Access Controlï¼ŒåŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼‰ç­‰æƒé™ç®¡ç†æ¨¡å‹æ¥å®ç°å¤æ‚æƒé™æ§åˆ¶ã€‚</p><p>RBAC æ¨¡å‹é€šè¿‡å°†ç”¨æˆ·åˆ†é…åˆ°ä¸åŒçš„è§’è‰²ï¼Œå¹¶å°†è§’è‰²èµ‹äºˆä¸åŒçš„æƒé™ï¼Œæ¥å®ç°è®¿é—®æ§åˆ¶ã€‚ABAC æ¨¡å‹åˆ™æ ¹æ®ç”¨æˆ·çš„å±æ€§ï¼ˆå¦‚è§’è‰²ã€ç»„ç»‡æ¶æ„ã€åœ°ç†ä½ç½®ç­‰ï¼‰ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·å¯ä»¥è®¿é—®çš„èµ„æºï¼Œä»è€Œå®ç°è®¿é—®æ§åˆ¶ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ ABAC æ¨¡å‹å®ç°çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·æ¨¡å‹</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID       <span class="type">int</span></span><br><span class="line">    Username <span class="type">string</span></span><br><span class="line">    Password <span class="type">string</span></span><br><span class="line">    Email    <span class="type">string</span></span><br><span class="line">    Role     <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetUserByID</span><span class="params">(userID <span class="type">int</span>)</span></span> (*User, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UpdateUser</span><span class="params">(user *User)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æ›´æ–°ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABAC éªŒè¯ä¸­é—´ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ABACMiddleware</span><span class="params">(next http.Handler)</span></span> http.Handler &#123;</span><br><span class="line">    <span class="keyword">return</span> http.HandlerFunc(<span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è·å–ç”¨æˆ· ID å’Œè§’è‰²</span></span><br><span class="line">        userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>)</span><br><span class="line">        role := r.Context().Value(<span class="string">&quot;role&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å®šä¹‰å±æ€§é›†åˆ</span></span><br><span class="line">        attributes := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">        attributes[<span class="string">&quot;user_id&quot;</span>] = userID</span><br><span class="line">        attributes[<span class="string">&quot;role&quot;</span>] = role</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†å±æ€§é›†åˆå­˜å‚¨åœ¨ä¸Šä¸‹æ–‡ä¸­</span></span><br><span class="line">        ctx := context.WithValue(r.Context(), <span class="string">&quot;attributes&quot;</span>, attributes)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ä¸‹ä¸€ä¸ªå¤„ç†å™¨</span></span><br><span class="line">        next.ServeHTTP(w, r.WithContext(ctx))</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABAC è®¿é—®æ§åˆ¶ä¸­é—´ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ABACAccessControlMiddleware</span><span class="params">(requiredAttributes <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;, next http.HandlerFunc)</span></span> http.HandlerFunc &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è·å–å±æ€§é›†åˆ</span></span><br><span class="line">        attributes := r.Context().Value(<span class="string">&quot;attributes&quot;</span>).(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥å±æ€§é›†åˆæ˜¯å¦æ»¡è¶³è¦æ±‚</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> requiredAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] != v &#123;</span><br><span class="line">                w.WriteHeader(http.StatusForbidden)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡æ£€æŸ¥</span></span><br><span class="line">        next(w, r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å¤„ç†å‡½æ•°ï¼šè·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUserHandler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–è¯·æ±‚çš„ç”¨æˆ· ID</span></span><br><span class="line">    userID, err := strconv.Atoi(mux.Vars(r)[<span class="string">&quot;user_id&quot;</span>])</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    user, err := GetUserByID(userID)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusInternalServerError)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®</span></span><br><span class="line">    requiredAttributes := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;user_id&quot;</span>: userID,</span><br><span class="line">    &#125;</span><br><span class="line">    ABACAccessControlMiddleware(requiredAttributes, <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">        json.NewEncoder(w).Encode(user)</span><br><span class="line">    &#125;)(w, r)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±</span></span><br></pre></td></tr></table></figure><blockquote><p>ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸¤ç§æ¨¡å‹</p></blockquote><p>RBACï¼ˆRole-Based Access Controlï¼‰æ˜¯ä¸€ç§åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶æ¨¡å‹ï¼Œå®ƒå°†ç”¨æˆ·åˆ†é…åˆ°ä¸åŒçš„è§’è‰²ï¼Œç„¶åå°†è§’è‰²èµ‹äºˆä¸åŒçš„æƒé™ã€‚ç”¨æˆ·åœ¨è®¿é—®èµ„æºæ—¶ï¼Œåªéœ€è¦ä½¿ç”¨è‡ªå·±æ‰€å±çš„è§’è‰²çš„æƒé™å³å¯ï¼Œæ— éœ€å…³å¿ƒå…·ä½“çš„æƒé™è®¾ç½®ã€‚RBAC æ¨¡å‹ç®€å•æ˜“ç”¨ï¼Œé€‚ç”¨äºè§„æ¨¡è¾ƒå°ã€æƒé™ç®¡ç†è¾ƒä¸ºç®€å•çš„ç³»ç»Ÿã€‚</p><p>ABACï¼ˆAttribute-Based Access Controlï¼‰æ˜¯ä¸€ç§åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶æ¨¡å‹ï¼Œå®ƒæ ¹æ®ç”¨æˆ·çš„å±æ€§ï¼ˆå¦‚è§’è‰²ã€ç»„ç»‡æ¶æ„ã€åœ°ç†ä½ç½®ç­‰ï¼‰ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·å¯ä»¥è®¿é—®çš„èµ„æºã€‚åœ¨ ABAC æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªèµ„æºéƒ½æœ‰ä¸€ç»„å±æ€§ï¼Œè€Œæ¯ä¸ªç”¨æˆ·ä¹Ÿæœ‰ä¸€ç»„å±æ€§ï¼Œç³»ç»Ÿä¼šæ ¹æ®ç”¨æˆ·çš„å±æ€§æ¥è®¡ç®—å…¶å¯ä»¥è®¿é—®å“ªäº›èµ„æºã€‚ABAC æ¨¡å‹æ¯” RBAC æ›´ä¸ºçµæ´»ï¼Œèƒ½å¤Ÿå¤„ç†æ›´ä¸ºå¤æ‚çš„æƒé™æ§åˆ¶éœ€æ±‚ï¼Œé€‚ç”¨äºè§„æ¨¡è¾ƒå¤§ã€æƒé™ç®¡ç†è¾ƒä¸ºå¤æ‚çš„ç³»ç»Ÿã€‚</p><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©é€‚åˆçš„æƒé™ç®¡ç†æ¨¡å‹ï¼Œæˆ–è€…ç»“åˆä¸¤ç§æ¨¡å‹æ¥å®ç°å¤æ‚çš„æƒé™æ§åˆ¶ã€‚æ— è®ºé‡‡ç”¨å“ªç§æ¨¡å‹ï¼Œéƒ½éœ€è¦å¯¹æƒé™è¿›è¡Œä¸¥æ ¼çš„ç®¡ç†å’Œç›‘æ§ï¼Œç¡®ä¿ç³»ç»Ÿå®‰å…¨å¯é ã€‚</p><blockquote><p>ç»™ä¸€ä¸ªABACçš„ä¾‹å­</p></blockquote><p>å‡è®¾æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªåœºæ™¯ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€‚åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ABAC æ¨¡å‹æ¥å®ç°æƒé™æ§åˆ¶ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€äº›å±æ€§ï¼Œç”¨æ¥æè¿°ç”¨æˆ·å’Œèµ„æºã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¦‚ä¸‹çš„å±æ€§ï¼š</p><ul><li>ç”¨æˆ·å±æ€§ï¼š<ul><li><code>user_id</code>ï¼šç”¨æˆ· ID</li><li><code>role</code>ï¼šç”¨æˆ·è§’è‰²</li></ul></li><li>èµ„æºå±æ€§ï¼š<ul><li><code>resource_id</code>ï¼šèµ„æº ID</li><li><code>owner_id</code>ï¼šèµ„æºæ‰€æœ‰è€… ID</li></ul></li></ul><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ABAC æ¨¡å‹çš„ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶â€”â€”ç­–ç•¥å¼•æ“å’Œè®¿é—®æ§åˆ¶è§„åˆ™æ¥å®ç°æƒé™æ§åˆ¶ã€‚</p><p>ç­–ç•¥å¼•æ“æ ¹æ®è®¿é—®è¯·æ±‚ä¸­çš„å±æ€§å’Œè®¿é—®æ§åˆ¶è§„åˆ™ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚è®¿é—®æ§åˆ¶è§„åˆ™å®šä¹‰äº†å“ªäº›å±æ€§å¿…é¡»æ»¡è¶³ã€å“ªäº›å±æ€§å¯ä»¥æ»¡è¶³ã€å“ªäº›å±æ€§ä¸èƒ½æ»¡è¶³ï¼Œä»¥åŠæ»¡è¶³æ¡ä»¶æ—¶çš„æˆæƒç­–ç•¥ç­‰ä¿¡æ¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ ABAC æ¨¡å‹å®ç°çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·æ¨¡å‹</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID       <span class="type">int</span></span><br><span class="line">    Username <span class="type">string</span></span><br><span class="line">    Password <span class="type">string</span></span><br><span class="line">    Email    <span class="type">string</span></span><br><span class="line">    Role     <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetUserByID</span><span class="params">(userID <span class="type">int</span>)</span></span> (*User, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UpdateUser</span><span class="params">(user *User)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æ›´æ–°ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABAC è®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line"><span class="keyword">type</span> AccessControlRule <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="comment">// å¿…é¡»æ»¡è¶³çš„å±æ€§</span></span><br><span class="line">    RequiredAttributes <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯ä»¥æ»¡è¶³çš„å±æ€§</span></span><br><span class="line">    AllowedAttributes <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸èƒ½æ»¡è¶³çš„å±æ€§</span></span><br><span class="line">    DeniedAttributes <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆæƒç­–ç•¥</span></span><br><span class="line">    AuthorizationPolicy <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABAC ç­–ç•¥å¼•æ“</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ABACEnforce</span><span class="params">(r *http.Request, resource <span class="keyword">interface</span>&#123;&#125;, accessControlRules []*AccessControlRule)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–å±æ€§é›†åˆ</span></span><br><span class="line">    userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>).(<span class="type">int</span>)</span><br><span class="line">    role := r.Context().Value(<span class="string">&quot;role&quot;</span>).(<span class="type">string</span>)</span><br><span class="line">    attributes := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;user_id&quot;</span>: userID,</span><br><span class="line">        <span class="string">&quot;role&quot;</span>:    role,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ èµ„æºå±æ€§åˆ°å±æ€§é›†åˆä¸­</span></span><br><span class="line">    <span class="keyword">switch</span> v := resource.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> *User:</span><br><span class="line">        attributes[<span class="string">&quot;resource_id&quot;</span>] = v.ID</span><br><span class="line">        attributes[<span class="string">&quot;owner_id&quot;</span>] = v.ID</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†è®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line">    <span class="keyword">for</span> _, rule := <span class="keyword">range</span> accessControlRules &#123;</span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¿…é¡»æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.RequiredAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] != v &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥ä¸èƒ½æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.DeniedAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] == v &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¯ä»¥æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘å¤§æ¦‚ç†è§£äº†ï¼Œèƒ½ä¸èƒ½æœ‰ç®€å•æè¿°ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹</p></blockquote><p>ABACï¼ˆAttribute-Based Access Controlï¼‰æ¨¡å‹çš„è®¿é—®æ§åˆ¶è¿‡ç¨‹å¯ä»¥ç®€å•æè¿°ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li><p>å®šä¹‰å±æ€§ï¼šé¦–å…ˆï¼Œéœ€è¦å®šä¹‰ä¸€äº›å±æ€§ï¼Œç”¨æ¥æè¿°ç”¨æˆ·ã€èµ„æºå’Œç¯å¢ƒã€‚è¿™äº›å±æ€§å¯ä»¥æ˜¯ç”¨æˆ·çš„è§’è‰²ã€ç»„ç»‡æ¶æ„ã€åœ°ç†ä½ç½®ç­‰ï¼Œä¹Ÿå¯ä»¥æ˜¯èµ„æºçš„æ‰€æœ‰è€…ã€ç±»å‹ã€çŠ¶æ€ç­‰ï¼Œè¿˜å¯ä»¥æ˜¯ç¯å¢ƒçš„æ—¶é—´ã€åœ°ç†ä½ç½®ç­‰ã€‚</p></li><li><p>å®šä¹‰è®¿é—®æ§åˆ¶è§„åˆ™ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦å®šä¹‰ä¸€äº›è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œç”¨æ¥æè¿°å“ªäº›å±æ€§å¿…é¡»æ»¡è¶³ã€å“ªäº›å±æ€§å¯ä»¥æ»¡è¶³ã€å“ªäº›å±æ€§ä¸èƒ½æ»¡è¶³ï¼Œä»¥åŠæ»¡è¶³æ¡ä»¶æ—¶çš„æˆæƒç­–ç•¥ç­‰ä¿¡æ¯ã€‚è®¿é—®æ§åˆ¶è§„åˆ™å¯ä»¥å­˜å‚¨åœ¨æ•°æ®åº“ã€é…ç½®æ–‡ä»¶æˆ–å…¶ä»–å­˜å‚¨ä»‹è´¨ä¸­ã€‚</p></li><li><p>ç­–ç•¥å¼•æ“è®¡ç®—æƒé™ï¼šå½“ç”¨æˆ·è¯·æ±‚è®¿é—®æŸä¸ªèµ„æºæ—¶ï¼Œç­–ç•¥å¼•æ“ä¼šæ ¹æ®è¯·æ±‚ä¸­çš„å±æ€§å’Œè®¿é—®æ§åˆ¶è§„åˆ™ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚å¦‚æœç”¨æˆ·æ»¡è¶³è®¿é—®æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„æ¡ä»¶ï¼Œåˆ™å¯ä»¥è¢«æˆæƒè®¿é—®èµ„æºï¼Œå¦åˆ™å°†è¢«æ‹’ç»è®¿é—®ã€‚</p></li><li><p>æˆæƒè®¿é—®èµ„æºï¼šå¦‚æœç”¨æˆ·è¢«æˆæƒè®¿é—®èµ„æºï¼Œåˆ™å¯ä»¥è¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œå¦‚æŸ¥çœ‹ã€ä¿®æ”¹ã€åˆ é™¤ç­‰ã€‚å¦åˆ™ï¼Œå°†æ— æ³•è®¿é—®èµ„æºï¼Œè®¿é—®è¯·æ±‚å°†è¢«æ‹’ç»ã€‚</p></li></ol><p>åœ¨ ABAC æ¨¡å‹ä¸­ï¼Œè®¿é—®æ§åˆ¶è§„åˆ™æ˜¯åŠ¨æ€è®¡ç®—çš„ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·ã€èµ„æºå’Œç¯å¢ƒçš„å±æ€§æ¥è¿›è¡Œçµæ´»çš„æˆæƒæ§åˆ¶ã€‚å› æ­¤ï¼ŒABAC æ¨¡å‹é€‚ç”¨äºè§„æ¨¡è¾ƒå¤§ã€æƒé™ç®¡ç†è¾ƒä¸ºå¤æ‚çš„ç³»ç»Ÿã€‚</p><blockquote><p>ABACEnforceé‚£ä¸ªå‡½æ•°ä½ å®Œæ•´åœ°å†™ä¸€å†™</p></blockquote><p>å¥½çš„ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å®Œæ•´çš„ <code>ABACEnforce</code> å‡½æ•°ç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ABAC ç­–ç•¥å¼•æ“</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ABACEnforce</span><span class="params">(r *http.Request, resource <span class="keyword">interface</span>&#123;&#125;, accessControlRules []*AccessControlRule)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–å±æ€§é›†åˆ</span></span><br><span class="line">    userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>).(<span class="type">int</span>)</span><br><span class="line">    role := r.Context().Value(<span class="string">&quot;role&quot;</span>).(<span class="type">string</span>)</span><br><span class="line">    attributes := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;user_id&quot;</span>: userID,</span><br><span class="line">        <span class="string">&quot;role&quot;</span>:    role,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ èµ„æºå±æ€§åˆ°å±æ€§é›†åˆä¸­</span></span><br><span class="line">    <span class="keyword">switch</span> v := resource.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> *User:</span><br><span class="line">        attributes[<span class="string">&quot;resource_id&quot;</span>] = v.ID</span><br><span class="line">        attributes[<span class="string">&quot;owner_id&quot;</span>] = v.ID</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†è®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line">    <span class="keyword">for</span> _, rule := <span class="keyword">range</span> accessControlRules &#123;</span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¿…é¡»æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.RequiredAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] != v &#123;</span><br><span class="line">                <span class="keyword">goto</span> NextRule</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥ä¸èƒ½æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.DeniedAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] == v &#123;</span><br><span class="line">                <span class="keyword">goto</span> NextRule</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¯ä»¥æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.AllowedAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] == v &#123;</span><br><span class="line">                <span class="comment">// è®¿é—®æ§åˆ¶è§„åˆ™åŒ¹é…æˆåŠŸ</span></span><br><span class="line">                <span class="keyword">switch</span> rule.AuthorizationPolicy &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;allow&quot;</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;deny&quot;</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    NextRule:</span><br><span class="line">        <span class="comment">// ç»§ç»­éå†ä¸‹ä¸€ä¸ªè®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ²¡æœ‰åŒ¹é…çš„è®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä»è¯·æ±‚ä¸­è·å–ç”¨æˆ·çš„å±æ€§ï¼ˆ<code>user_id</code> å’Œ <code>role</code>ï¼‰ï¼Œç„¶åæ ¹æ®èµ„æºçš„ç±»å‹ï¼ˆåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­æ˜¯ <code>*User</code>ï¼‰æ·»åŠ èµ„æºçš„å±æ€§ï¼ˆ<code>resource_id</code> å’Œ <code>owner_id</code>ï¼‰åˆ°å±æ€§é›†åˆä¸­ã€‚æ¥ç€ï¼Œæˆ‘ä»¬éå†è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œé€ä¸ªæ£€æŸ¥è®¿é—®æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„å±æ€§æ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚</p><p>åœ¨æ£€æŸ¥å±æ€§æ¡ä»¶æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <code>goto</code> è¯­å¥è·³è¿‡äº†ä¸æ»¡è¶³æ¡ä»¶çš„è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œæé«˜äº†æ‰§è¡Œæ•ˆç‡ã€‚å¦‚æœæ‰€æœ‰çš„å±æ€§æ¡ä»¶éƒ½æ»¡è¶³ï¼Œæˆ‘ä»¬æ ¹æ®è®¿é—®æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„æˆæƒç­–ç•¥ï¼ˆ<code>allow</code> æˆ– <code>deny</code>ï¼‰è¿”å›ç›¸åº”çš„ç»“æœã€‚</p><p>å¦‚æœæ²¡æœ‰åŒ¹é…çš„è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œåˆ™è®¤ä¸ºç”¨æˆ·æ²¡æœ‰æƒé™è®¿é—®èµ„æºï¼Œè¿”å› <code>false</code>ã€‚</p><blockquote><p>é‚£æˆ‘æ”¹å¦‚ä½•å®šä¹‰ä¸Šé¢çš„é‚£ä¸ªè§„åˆ™ï¼šç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯</p></blockquote><p>é’ˆå¯¹ä½ æä¾›çš„å…·ä½“åœºæ™¯ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼å®šä¹‰ä¸¤æ¡è®¿é—®æ§åˆ¶è§„åˆ™ï¼š</p><ol><li>ç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼š</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">AccessControlRule&#123;</span><br><span class="line">    RequiredAttributes: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;user_id&quot;</span>: userID, <span class="comment">// å¿…é¡»æ»¡è¶³ç”¨æˆ· ID å±æ€§ç­‰äºå½“å‰ç”¨æˆ· ID</span></span><br><span class="line">    &#125;,</span><br><span class="line">    AllowedAttributes: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;resource_id&quot;</span>: userID, <span class="comment">// å¯ä»¥æ»¡è¶³èµ„æº ID å±æ€§ç­‰äºå½“å‰ç”¨æˆ· ID</span></span><br><span class="line">    &#125;,</span><br><span class="line">    AuthorizationPolicy: <span class="string">&quot;allow&quot;</span>, <span class="comment">// å…è®¸è®¿é—®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼š</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">AccessControlRule&#123;</span><br><span class="line">    RequiredAttributes: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;admin&quot;</span>, <span class="comment">// å¿…é¡»æ»¡è¶³ç”¨æˆ·è§’è‰²å±æ€§ç­‰äºç®¡ç†å‘˜</span></span><br><span class="line">    &#125;,</span><br><span class="line">    AllowedAttributes: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="comment">// æ²¡æœ‰é¢å¤–çš„å±æ€§é™åˆ¶ï¼Œå¯ä»¥è®¿é—®æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯</span></span><br><span class="line">    &#125;,</span><br><span class="line">    AuthorizationPolicy: <span class="string">&quot;allow&quot;</span>, <span class="comment">// å…è®¸è®¿é—®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç”¨æˆ·è®¿é—®ä¸ªäººä¿¡æ¯æ—¶ï¼Œç­–ç•¥å¼•æ“ä¼šæ ¹æ®è®¿é—®è¯·æ±‚ä¸­çš„å±æ€§å’Œè®¿é—®æ§åˆ¶è§„åˆ™ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚å¦‚æœç”¨æˆ·æ»¡è¶³è®¿é—®æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„æ¡ä»¶ï¼Œåˆ™å¯ä»¥è¢«æˆæƒè®¿é—®èµ„æºï¼Œå¦åˆ™å°†è¢«æ‹’ç»è®¿é—®ã€‚</p><blockquote><p>æˆ‘çŸ¥é“è‚¯å®šæœ‰è¿™æ–¹é¢çš„åº“ï¼Œå¸®æˆ‘åˆ—ä¸¾å‡ ä¸ª</p></blockquote><p>æ˜¯çš„ï¼Œæœ‰å¾ˆå¤šå¼€æºçš„æƒé™ç®¡ç†åº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç° RBAC å’Œ ABAC æƒé™æ§åˆ¶ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„åº“ï¼š</p><ol><li><p>Casbinï¼šè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„å¼€æºæƒé™ç®¡ç†åº“ï¼Œæ”¯æŒ RBACã€ABACã€PBAC å’Œ RESTful API ç­‰å¤šç§æƒé™æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†å¤šç§è¯­è¨€çš„å®ç°ï¼ŒåŒ…æ‹¬ Goã€Javaã€Pythonã€C++ã€Node.js ç­‰ã€‚</p></li><li><p>OPAï¼ˆOpen Policy Agentï¼‰ï¼šè¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„å¼€æºç­–ç•¥å¼•æ“ï¼Œæ”¯æŒåŸºäºå±æ€§å’ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†å¤šç§è¯­è¨€çš„ SDKï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä¸ç°æœ‰çš„åº”ç”¨ç¨‹åºé›†æˆã€‚</p></li><li><p>Sentinelï¼šè¿™æ˜¯ä¸€ä¸ªåŸºäºè§„åˆ™çš„è®¿é—®æ§åˆ¶æ¡†æ¶ï¼Œæ”¯æŒåŸºäºè§’è‰²ã€åŸºäºå±æ€§å’ŒåŸºäºèµ„æºçš„æƒé™æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†å¤šç§è¯­è¨€çš„å®ç°ï¼ŒåŒ…æ‹¬ Javaã€Goã€C++ã€Python ç­‰ã€‚</p></li><li><p>Shiroï¼šè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„ Java å®‰å…¨æ¡†æ¶ï¼Œæ”¯æŒ RBACã€ABAC å’Œ PBAC ç­‰å¤šç§æƒé™æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„ API å’Œå·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°æƒé™ç®¡ç†å’Œè®¤è¯æˆæƒåŠŸèƒ½ã€‚</p></li><li><p>Spring Securityï¼šè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„å®‰å…¨æ¡†æ¶ï¼Œæ”¯æŒ RBACã€ABACã€PBAC å’Œ ACL ç­‰å¤šç§æƒé™æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„ API å’Œå·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°æƒé™ç®¡ç†å’Œè®¤è¯æˆæƒåŠŸèƒ½ã€‚</p></li></ol><p>è¿™äº›åº“éƒ½æ˜¯ç»è¿‡å®è·µéªŒè¯çš„æˆç†Ÿå·¥å…·ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬å¿«é€Ÿå®ç°æƒé™ç®¡ç†å’Œè®¤è¯æˆæƒåŠŸèƒ½ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p><blockquote><p>ä»‹ç»å¹¶å¯¹æ¯”ä¸€ä¸‹ä¸»æµçš„æƒé™æ§åˆ¶æ¨¡å‹</p></blockquote><p>ä¸»æµçš„æƒé™æ§åˆ¶æ¨¡å‹åŒ…æ‹¬ RBACã€ABAC å’Œ PBACï¼Œå®ƒä»¬æœ‰å„è‡ªçš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯ã€‚ä¸‹é¢æ˜¯å®ƒä»¬çš„ä»‹ç»å’Œå¯¹æ¯”ï¼š</p><ol><li><p>RBACï¼ˆRole-Based Access Controlï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰ï¼šRBAC æ¨¡å‹æ˜¯æœ€å¸¸è§å’Œæœ€ç®€å•çš„æƒé™æ§åˆ¶æ¨¡å‹ä¹‹ä¸€ï¼Œå®ƒæ ¹æ®ç”¨æˆ·çš„è§’è‰²æ¥ç®¡ç†ç”¨æˆ·å¯¹èµ„æºçš„è®¿é—®æƒé™ã€‚RBAC æ¨¡å‹å°†ç”¨æˆ·åˆ’åˆ†ä¸ºä¸åŒçš„è§’è‰²ï¼Œæ¯ä¸ªè§’è‰²æ‹¥æœ‰ä¸€ç»„ç‰¹å®šçš„æƒé™ï¼Œç„¶åå°†ç”¨æˆ·ä¸è§’è‰²è¿›è¡Œå…³è”ã€‚è¿™ç§æ¨¡å‹é€‚ç”¨äºæƒé™ç®¡ç†ç›¸å¯¹ç®€å•çš„åœºæ™¯ï¼Œå¦‚ä¼ä¸šå†…éƒ¨çš„ç®¡ç†ç³»ç»Ÿæˆ– Web åº”ç”¨ç¨‹åºã€‚</p></li><li><p>ABACï¼ˆAttribute-Based Access Controlï¼ŒåŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼‰ï¼šABAC æ¨¡å‹æ˜¯ä¸€ç§åŸºäºå±æ€§çš„çµæ´»çš„æƒé™æ§åˆ¶æ¨¡å‹ï¼Œå®ƒæ ¹æ®ç”¨æˆ·çš„å±æ€§ã€èµ„æºçš„å±æ€§å’Œç¯å¢ƒçš„å±æ€§æ¥ç®¡ç†ç”¨æˆ·å¯¹èµ„æºçš„è®¿é—®æƒé™ã€‚ABAC æ¨¡å‹å°†ç”¨æˆ·ã€èµ„æºå’Œç¯å¢ƒçš„å±æ€§ç»„åˆåœ¨ä¸€èµ·ï¼Œç„¶åé€šè¿‡ç­–ç•¥å¼•æ“åŠ¨æ€è®¡ç®—ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚è¿™ç§æ¨¡å‹é€‚ç”¨äºæƒé™ç®¡ç†ç›¸å¯¹å¤æ‚çš„åœºæ™¯ï¼Œå¦‚é‡‘èã€åŒ»ç–—å’Œæ”¿åºœç­‰é¢†åŸŸçš„ç³»ç»Ÿã€‚</p></li><li><p>PBACï¼ˆPolicy-Based Access Controlï¼ŒåŸºäºç­–ç•¥çš„è®¿é—®æ§åˆ¶ï¼‰ï¼šPBAC æ¨¡å‹æ˜¯ä¸€ç§åŸºäºç­–ç•¥çš„çµæ´»çš„æƒé™æ§åˆ¶æ¨¡å‹ï¼Œå®ƒæ ¹æ®ç”¨æˆ·çš„å±æ€§ã€è§’è‰²å’Œç­–ç•¥æ¥ç®¡ç†ç”¨æˆ·å¯¹èµ„æºçš„è®¿é—®æƒé™ã€‚PBAC æ¨¡å‹å°†ç”¨æˆ·çš„å±æ€§å’Œè§’è‰²ä½œä¸ºè¾“å…¥ï¼Œç„¶åé€šè¿‡è®¿é—®æ§åˆ¶ç­–ç•¥æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚è¿™ç§æ¨¡å‹é€‚ç”¨äºéœ€è¦æ›´ç»†ç²’åº¦æ§åˆ¶çš„åœºæ™¯ï¼Œå¦‚å†›äº‹ã€æƒ…æŠ¥å’Œé«˜å®‰å…¨æ€§çš„ç³»ç»Ÿã€‚</p></li></ol><p>åœ¨ RBAC æ¨¡å‹ä¸­ï¼Œæƒé™ç®¡ç†ç›¸å¯¹ç®€å•ï¼Œä½†ç®¡ç†è§’è‰²å’Œè§’è‰²ä¹‹é—´çš„å…³ç³»æ¯”è¾ƒå›°éš¾ã€‚åœ¨ ABAC æ¨¡å‹ä¸­ï¼Œæƒé™ç®¡ç†ç›¸å¯¹å¤æ‚ï¼Œä½†èƒ½å¤Ÿçµæ´»åœ°æ§åˆ¶æƒé™ï¼Œæ”¯æŒæ›´å¤šçš„åº”ç”¨åœºæ™¯ã€‚åœ¨ PBAC æ¨¡å‹ä¸­ï¼Œæƒé™ç®¡ç†æ›´ä¸ºçµæ´»ï¼Œèƒ½å¤Ÿå®ç°æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œä½†éœ€è¦æ›´å¤æ‚çš„ç­–ç•¥ç®¡ç†ã€‚</p><p>å› æ­¤ï¼Œåœ¨é€‰æ‹©æƒé™æ§åˆ¶æ¨¡å‹æ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…éœ€æ±‚æ¥é€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Œé¿å…åœ¨æƒé™æ§åˆ¶æ–¹é¢å‡ºç°è¿‡åº¦æˆ–ä¸è¶³çš„é—®é¢˜ã€‚</p><blockquote><p>é‚£ACLå‘¢</p></blockquote><p>ACLï¼ˆAccess Control Listï¼Œè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰æ˜¯ä¸€ç§å¸¸è§çš„æƒé™æ§åˆ¶æ¨¡å‹ï¼Œå®ƒé€šè¿‡æŒ‡å®šç”¨æˆ·æˆ–ç”¨æˆ·ç»„å¯¹èµ„æºçš„è®¿é—®æƒé™è¿›è¡Œæ§åˆ¶ã€‚ACL æ¨¡å‹å¯ä»¥åº”ç”¨äºå¤šç§åœºæ™¯ï¼Œå¦‚æ“ä½œç³»ç»Ÿã€æ•°æ®åº“ã€Web åº”ç”¨ç¨‹åºç­‰ã€‚</p><p>åœ¨ ACL æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªèµ„æºéƒ½æœ‰ä¸€ä¸ª ACL åˆ—è¡¨ï¼Œç”¨æ¥å®šä¹‰å“ªäº›ç”¨æˆ·æˆ–ç”¨æˆ·ç»„æœ‰æƒè®¿é—®è¯¥èµ„æºã€‚ACL åˆ—è¡¨é€šå¸¸åŒ…æ‹¬è®¿é—®è€…çš„ IDã€è®¿é—®æƒé™ï¼ˆå¦‚è¯»ã€å†™ã€æ‰§è¡Œç­‰ï¼‰å’Œç‰¹å®šçš„æ—¶é—´æ®µç­‰ä¿¡æ¯ã€‚ç”¨æˆ·è®¿é—®èµ„æºæ—¶ï¼Œç³»ç»Ÿä¼šæ£€æŸ¥è¯¥ç”¨æˆ·çš„ ID æ˜¯å¦åœ¨ ACL åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”è¯¥ç”¨æˆ·æ˜¯å¦æœ‰å¯¹åº”çš„è®¿é—®æƒé™ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™å…è®¸è®¿é—®èµ„æºï¼Œå¦åˆ™æ‹’ç»è®¿é—®ã€‚</p><p>ACL æ¨¡å‹çš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œæ˜“äºç®¡ç†ï¼Œé€‚ç”¨äºå°å‹ç³»ç»Ÿæˆ–æƒé™ç®¡ç†æ¯”è¾ƒç®€å•çš„åœºæ™¯ã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œå¦‚éš¾ä»¥åº”å¯¹å¤æ‚çš„æƒé™ç®¡ç†éœ€æ±‚ï¼ŒACL åˆ—è¡¨éš¾ä»¥ç»´æŠ¤ï¼Œéš¾ä»¥ç®¡ç†å¤§é‡ç”¨æˆ·æˆ–ç”¨æˆ·ç»„ç­‰ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡æƒé™ç®¡ç†ç³»ç»Ÿæ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©åˆé€‚çš„æƒé™æ§åˆ¶æ¨¡å‹ã€‚</p><hr><p>å…³äº Casbin åœ¨ç¤¾åŒºé‡Œé¢çš„æ¯’ç˜¤åå£°æˆ‘æ—©æœ‰è€³é—»ï¼Œä½†æˆ‘ç”¨ä¸Šæ¥æ„Ÿè§‰ç®—æ˜¯ä¸Šæ‰‹æ¯”è¾ƒç®€å•çš„é‚£ä¸€ç§ï¼Œæˆ‘çœ‹äº†qimiaoçš„ä¸¤ä¸ªè§†é¢‘ï¼Œå¤§æ¦‚å¼„æ‡‚äº†</p><ul><li><a href="https://www.bilibili.com/video/BV1qz4y167XP/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">ã€ã€ginæ•™å­¦ã€‘ç¬¬åç« ï¼šåŠå°æ—¶å½»åº•å¼„æ‡‚CasbinåŸºç¡€æ¨¡å‹ï¼ˆ1010å·¥ä½œå®¤å‡ºå“ï¼‰ã€‘</a></li><li><a href="https://www.bilibili.com/video/BV13r4y1M7AC/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">ã€ã€ginæ•™å­¦ã€‘ç¬¬åä¸€ç« ï¼šCasbinçš„ä»£ç ä½¿ç”¨ã€apiè°ƒç”¨ã€è‡ªå®šä¹‰æ¯”è¾ƒæ–¹æ³•ï¼ˆ1010å·¥ä½œå®¤å‡ºå“ï¼‰ã€‘</a></li></ul><p>è€Œç¾¤å‹ä¹Ÿæåˆ°äº† logto å’Œ supertokens ï¼Œdemo æˆ‘ä¹Ÿéƒ½è·‘äº†ä¸€ä¸‹ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰ç›®å‰å…¶å®ä¸æ˜¯å¾ˆéœ€è¦ç™»å½•é‰´æƒæƒé™ç®¡ç†ä¸€æŠŠæ¢­å“ˆï¼Œå¯èƒ½ä»¥åä¼šç”¨å§</p><p>å¦å¤–åŒç±»çš„ <a href="https://gist.github.com/Wang-Kai/18fe4e662ef795805c14b1ec94932834">ladon</a> æˆ‘ä¹Ÿäº†è§£äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰è¿˜æ˜¯ä» casbin å®æˆ˜ä¸€ä¸‹å§ï¼Œä¸è¯´äº†ï¼Œå…ˆå»çœ‹çœ‹ç¾¤å‹çš„é¡¹ç›®é‡Œé¢æ˜¯æ€ä¹ˆç”¨çš„ï¼ˆ</p><p>PSï¼š</p><ul><li>ã€ã€ITè€é½217ã€‘ç®€å•ç²—æš´è®²è§£RBACå››çº§è§’è‰²æƒé™æ¨¡å‹ã€‘ <a href="https://www.bilibili.com/video/BV1YT411N76n/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV1YT411N76n/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li><li>ã€ã€ITè€é½218ã€‘æµ…æå¼ºå¤§ä½†å¤æ‚çš„ABACå±æ€§è®¿é—®æ§åˆ¶ã€‘ <a href="https://www.bilibili.com/video/BV1wT411M7bd/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV1wT411M7bd/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li><li>ã€ã€ITè€é½219ã€‘é¡¹ç›®ä¸­å¦‚ä½•è®¾è®¡æ•°æ®è®¿é—®æƒé™ã€‘ <a href="https://www.bilibili.com/video/BV1bB4y1778n/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV1bB4y1778n/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;golangé¡¹ç›®ä¸­æ€ä¹ˆåšç”¨æˆ·æƒé™ç®¡ç†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ Golang é¡¹ç›®ä¸­å®ç°ç”¨æˆ·æƒé™ç®¡ç†éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®šä¹‰æƒé™çº§åˆ«ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šä¹‰ä¸åŒçš„æƒé™çº§åˆ«ï¼Œæ¯”å¦‚è¶…çº§ç®¡ç†å‘˜ã€ç®¡ç†å‘˜ã€</summary>
      
    
    
    
    <category term="ChatGPT å¯¹è¯è®°å½•" scheme="https://www.nickxu.top/categories/ChatGPT-%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="ChatGPT" scheme="https://www.nickxu.top/tags/ChatGPT/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨ Mac çš„ VSC ä¸­ä½¿ç”¨ g++ ç¼–è¯‘å™¨</title>
    <link href="https://www.nickxu.top/2023/04/04/%E5%9C%A8Mac%E7%9A%84VSCode%E4%B8%AD%E4%BD%BF%E7%94%A8g-%E7%BC%96%E8%AF%91%E5%99%A8/"/>
    <id>https://www.nickxu.top/2023/04/04/%E5%9C%A8Mac%E7%9A%84VSCode%E4%B8%AD%E4%BD%BF%E7%94%A8g-%E7%BC%96%E8%AF%91%E5%99%A8/</id>
    <published>2023-04-04T15:14:29.000Z</published>
    <updated>2023-04-04T15:19:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬äººæœ€è¿‘å¼€å§‹å¤ä¹ ç®—æ³•åˆ·é¢˜äº†ï¼Œç„¶åç”¨çš„æ˜¯ macOS ä¸Š VSCode çš„é»˜è®¤é…ç½®ï¼Œä¹Ÿå°±æ˜¯ clang/clang++ ç¼–è¯‘å™¨ï¼Œä½†æ˜¯é«˜ä¸­çš„æ—¶å€™ç”¨æƒ¯äº† gcc/g++ äº†ï¼Œå¾ˆå¤š g++ çš„æ–¹è¨€ clang å¹¶ä¸æ”¯æŒï¼Œä¾‹å¦‚ <code>#include &lt;bits/stdc++.h&gt;</code> ä¹‹ç±»çš„</p><p>å¯èƒ½ä½ ä¼šè¯´ï¼Œè¿™æœ‰ä»€ä¹ˆçš„ï¼Œç›´æ¥æŠŠç¼–è¯‘æŒ‡ä»¤é‡Œé¢çš„ç¼–è¯‘å™¨æ›¿æ¢ä¸€ä¸‹ä¸å°±è¡Œäº†</p><p><s>å¦‚æœçœŸçš„è¿™ä¹ˆç®€å•çš„è¯å°±æ²¡æœ‰è¿™ç¯‡åšå®¢äº†ï¼ˆbushi</s></p><p>é¦–å…ˆæˆ‘æ¢äº†ä¹‹åå¹¶ä¸èƒ½è§£å†³é—®é¢˜ï¼Œ æ¥ç€æˆ‘å‘ç°äº†ä¸€ä¸ªå¾ˆææ€–çš„äº‹æƒ…ï¼ˆ</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042125590.png" alt="41a03f9b1946237c16f16a8b4b805eb8"></p><blockquote><p>æˆ‘çš„ gcc æ€ä¹ˆè¢« clang å¤ºèˆäº†ï¼Ÿï¼Ÿï¼Ÿ</p></blockquote><p>æˆ‘çš„ç¬¬ä¸€ä¸ªååº”æ˜¯å¸è½½ clang ï¼Œæ¯•ç«Ÿæˆ‘ä¹Ÿä¸æƒ³ç”¨è¿™ç©æ„ï¼Œç„¶åæˆ‘çœ‹è¿™ä¸œè¥¿æ˜¯å“ªé‡Œå®‰è£…çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis clang</span><br><span class="line">clang: /usr/bin/clang /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/share/man/man1/clang.1</span><br></pre></td></tr></table></figure><p>å•Šï¼ŒåŸæ¥æ˜¯ Xcode å“‡ï¼Œè¿™ä¸œè¥¿æˆ‘å¹³æ—¶ä¹Ÿç”¨ä¸ä¸Šï¼Œè¿˜å ç€è¿™ä¹ˆå¤§çš„ç©ºé—´ï¼Œæˆ‘è¿™å°±æŠŠä½ å¸äº†</p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042134821.png" alt="image-20230404213422795" style="zoom:50%;" /><blockquote><p>Xcode æ˜¯æˆ‘åˆšå¼€å§‹ä¸Šæ‰‹ macOS çš„æ—¶å€™å­¦é•¿å»ºè®®æˆ‘å®‰è£…çš„ï¼Œä½†æ˜¯è¿™ä¸œè¥¿å¿«15ä¸ªGï¼Œæˆ‘å¹³æ—¶åˆç”¨ä¸ä¸Š</p></blockquote><p>å¸å®Œä¹‹åæˆ‘å‘ç° clang è¿˜æ˜¯åœ¨ï¼Œæˆ‘å°±ç»§ç»­çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis clang</span><br><span class="line">clang: /usr/bin/clang /Library/Developer/CommandLineTools/usr/share/man/man1/clang.1</span><br></pre></td></tr></table></figure><p>åŸæ¥æ˜¯ CommandLineTools ï¼Œæˆ‘åˆæœäº†ä¸€ä¸‹è¿™ä¸ª CommandLineTools æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼ŒåŸæ¥æ˜¯ Xcode å¼€å‘ç¯å¢ƒçš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯å…¶å®å¯ä»¥ä¸ä¾é™„ Xcode å•ç‹¬å­˜åœ¨</p><p>å­¦é•¿è®©æˆ‘å®‰è£… Xcode å…¶å®å°±æ˜¯ä¸ºäº†å®‰è£…è¿™ä¸ªä¸œè¥¿ï¼Œå…¶å®è¿™ä¸ªä¸œè¥¿é€šè¿‡è¿™ä¸ªå‘½ä»¤å°±èƒ½å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç°åœ¨çš„ç›®æ ‡æ˜¯è§£å†³è¿™ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘ Google äº†ä¸€ä¸‹ï¼Œå´å‘ç°è¿™ä¸œè¥¿æˆ‘è¿˜ä¸èƒ½å¸äº†</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042156001.png" alt="image-20230404215657969"></p><blockquote><p>å¥½å®¶ä¼™ï¼Œæˆ‘ç›´å‘¼å†…è¡Œ</p></blockquote><p>æ˜¯çš„ï¼Œæˆ‘çš„ç¡®ä½¿ç”¨ <code>brew install gcc</code> å®‰è£…äº† gccå’Œg++ï¼Œä½†æ˜¯æˆ‘ä¸€ç›´ä¸çŸ¥é“æ€ä¹ˆè°ƒç”¨</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042159744.png" alt="image-20230404215943715"></p><blockquote><p>ç°åœ¨æˆ‘çŸ¥é“äº†ï¼ŒåŸæ¥è¦åŠ ä¸Šä½ çš„ç‰ˆæœ¬å·æ‰èƒ½è°ƒç”¨åˆ° gcc æœ¬å°Š</p></blockquote><p>è¡Œå§ï¼Œæˆ‘è¿™å°±å»æ‰‹åŠ¨æŒ‡å®šç¼–è¯‘å™¨è·¯å¾„</p><p>å…ˆçœ‹çœ‹è¿™ä¸œè¥¿çš„è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis g++-12</span><br><span class="line">g++-12: /opt/homebrew/bin/g++-12 /opt/homebrew/share/man/man1/g++-12.1</span><br></pre></td></tr></table></figure><p>ç„¶åå»æ”¹ <code>.vscode</code> ä¸‹çš„ <code>tasks.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppbuild&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/opt/homebrew/bin/g++-12&quot;</span><span class="punctuation">,</span> <span class="comment">// æ‰‹åŠ¨æŒ‡å®š g++-12 çš„ä½ç½®</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-fdiagnostics-color=always&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-std=c++17&quot;</span><span class="punctuation">,</span> <span class="comment">// æ‰‹åŠ¨æŒ‡å®šc++æ ‡å‡†</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;$gcc&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;isDefault&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>é¡ºä¾¿æŠŠ <code>launch.json</code> ä¹Ÿè®°å½•ä¸€ä¸‹æŠŠï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶ä¸€ä¸ªæ˜¯å®šä¹‰å¦‚ä½•ç¼–è¯‘çš„ï¼Œä¸€ä¸ªæ˜¯å®šä¹‰æ€ä¹ˆè¿è¡Œçš„</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>PSï¼šé¡ºä¾¿è¯´ä¸€ä¸‹è¿™ä¸ª <code>externalConsole</code> ï¼Œåœ¨ Windows/Linux ä¸Šæˆ‘ç”¨ C/C++ æ‰©å±•è¿è¡Œçš„æ—¶å€™éƒ½èƒ½æŠŠæ ‡å‡†è¾“å‡ºæ‰“å°åˆ°é›†æˆç»ˆç«¯ä¸Šï¼Œä½†æ˜¯åœ¨ macOS ä¸Šæ­»æ´»ä¸å¯ä»¥ï¼Œåæ¥ä»”ç»†ä¸€çœ‹åŸæ¥æ‰“åˆ°äº†è°ƒè¯•æ§åˆ¶å°ä¸Šï¼Œå¦‚æœæˆ‘æŠŠè¿™ä¸œè¥¿æ”¹ä¸º true çš„æ—¶å€™ï¼Œå®ƒåˆä¼šå¼¹å‡ºä¸€ä¸ªç»ˆç«¯å‡ºæ¥ï¼Œå¾ˆéš¾å—</p><p>åæ¥ä¸€çœ‹æ–‡æ¡£æ‰çŸ¥é“çœŸçš„æ²¡æ³•åƒ Windows/Linux ä¸€æ ·ä½¿ç”¨é›†æˆç»ˆç«¯è¾“å…¥è¾“å‡º</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042215319.png" alt="image-20230404221547287"></p><p>æœ€åä¸€æƒ³ï¼Œç®—äº†ï¼Œæˆ‘ Windows/Linux ä¸Šä¸€èˆ¬éƒ½æ˜¯ç”¨æ–‡ä»¶è¾“å…¥çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;input.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="comment">// freopen(&quot;output.txt&quot;, &quot;w&quot;, stdout);</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>è®°ç€è°ƒè¯•çš„æ—¶å€™æŠŠ output é‚£è¡Œæ³¨é‡Šè°ƒç„¶åå»è°ƒè¯•æ§åˆ¶å°çœ‹è¾“å‡ºå§</p></blockquote><p>æ”¹å®Œä¹‹åæˆ‘å‘ç°æˆ‘çš„åŒ…å¯¼å…¥ä¸äº†äº†ï¼ˆåæ¥çŸ¥é“åŸæ¥çš„åŒ…éƒ½æ˜¯ Xcode é‡Œé¢çš„ï¼‰ï¼Œæˆ‘åˆæƒ³çœ‹çœ‹ g++çš„ lib è·¯å¾„ï¼Œè¿™ä¸€èˆ¬å’Œ g++ æ˜¯æ”¾åœ¨ä¸€èµ·çš„</p><p>ç„¶åå‘ç°æ˜¯ä¸ªè½¯è¿æ¥</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042234646.png" alt="image-20230404223427601"></p><p>ç„¶åæˆ‘ç¿»äº†ä¸€ä¸‹ï¼Œæ˜¯åœ¨è¿™ä¸ªä½ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/homebrew/Cellar/gcc/12.2.0/lib/</span><br></pre></td></tr></table></figure><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042236016.png" alt=""></p><blockquote><p>å»æ‰©å±•è®¾ç½®é‡Œé¢æ‰‹åŠ¨æŒ‡å®šä¸€ä¸‹ <code>Compiler Path</code> å’Œ <code>Include Path</code></p></blockquote><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042239339.png" alt="image-20230404223937247"></p><blockquote><p>å‘ç°å¯ä»¥ç”¨äº†ï¼ŒæŒ‰ä½ cmd ç‚¹è¿›å»å¤´æ–‡ä»¶ï¼Œå†æ¬¡ç¡®è®¤è·¯å¾„</p></blockquote><p>è¿™æ—¶ç¾¤é‡Œè¯´å…¶å®å¯ä»¥ç”¨ <code>alias</code> ï¼Œæˆ‘ä¸€æƒ³çš„ç¡®å•Šï¼Œæ¯•ç«Ÿ <code>alias</code> çš„ä¼˜å…ˆçº§æ˜¯æœ€é«˜ï¼Œè¿™ä¸‹å¯ä»¥ç»™ gcc æ­£åäº†</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042254286.png" alt="image-20230404225434212"></p><p>ç›´æ¥è¿› <code>~/.zshrc</code> æ•²ä¸Šä¸¤è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alias g++=&#x27;g++-12&#x27;</span><br><span class="line">alias gcc=&#x27;gcc-12&#x27;</span><br></pre></td></tr></table></figure><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042259837.png" alt="image-20230404225940813"></p><p>ç„¶åæˆ‘ä½¿ç”¨ Code Runner å¿«é€Ÿè¿è¡Œçš„æ—¶å€™ä¼šé‡åˆ°é”™è¯¯ï¼Œä¸€æƒ³æ˜¯C++æ ‡å‡†çš„é—®é¢˜ï¼Œæˆ‘åˆå»æ‰©å±•è®¾ç½®æ‰‹åŠ¨æ”¹è°ƒç”¨å‚æ•°</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042252418.png" alt="image-20230404225244331"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042302163.png" alt="image-20230404230232087"></p><p>æœ€åæˆ‘è¿˜æƒ³è®© Code Runner æ”¯æŒä»é›†æˆç»ˆç«¯è¾“å…¥è¾“å‡ºï¼Œæˆ‘æœ‰æ—¶ä¹Ÿä¼šä»ç»ˆç«¯æ‰‹åŠ¨è¾“å…¥æ•°æ®çš„</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042304660.png" alt="image-20230404230446584"></p><p>ç°åœ¨ç»ˆäºå¯ä»¥æ„‰å¿«åœ° Coding äº†ï¼æŒ‰ä¸‹ Code Runner çš„å¿«æ·é”®ï¼Œè‡ªåŠ¨ä» <code>input.txt</code> è¯»å–å¹¶è¾“å‡ºåˆ° <code>output.txt</code> ä¸­</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042305551.png" alt="image-20230404230536482"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304042308691.png" alt="image-20230404230824614"></p><p>å½“æˆ‘éœ€è¦è°ƒè¯•çš„æ—¶å€™ï¼Œ æŠŠé‡å®šå‘ output çš„é‚£è¡Œæ³¨é‡Šæ‰ï¼Œç„¶ååˆ°è°ƒè¯•æ§åˆ¶å°è§‚å¯Ÿè¾“å‡º</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬äººæœ€è¿‘å¼€å§‹å¤ä¹ ç®—æ³•åˆ·é¢˜äº†ï¼Œç„¶åç”¨çš„æ˜¯ macOS ä¸Š VSCode çš„é»˜è®¤é…ç½®ï¼Œä¹Ÿå°±æ˜¯ clang/clang++ ç¼–è¯‘å™¨ï¼Œä½†æ˜¯é«˜ä¸­çš„æ—¶å€™ç”¨æƒ¯äº† gcc/g++ äº†ï¼Œå¾ˆå¤š g++ çš„æ–¹è¨€ clang å¹¶ä¸æ”¯æŒï¼Œä¾‹å¦‚ &lt;code&gt;#include &amp;lt;bits/stdc</summary>
      
    
    
    
    <category term="macOS" scheme="https://www.nickxu.top/categories/macOS/"/>
    
    
    <category term="C/C++" scheme="https://www.nickxu.top/tags/C-C/"/>
    
  </entry>
  
  <entry>
    <title>GORM çš„ GEN æ¨¡å¼åˆä¸Šæ‰‹</title>
    <link href="https://www.nickxu.top/2023/03/29/GORM%E7%9A%84GEN%E6%A8%A1%E5%BC%8F%E5%88%9D%E4%B8%8A%E6%89%8B/"/>
    <id>https://www.nickxu.top/2023/03/29/GORM%E7%9A%84GEN%E6%A8%A1%E5%BC%8F%E5%88%9D%E4%B8%8A%E6%89%8B/</id>
    <published>2023-03-29T08:50:58.000Z</published>
    <updated>2023-03-29T12:40:10.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å‡†å¤‡ä¸Šæ‰‹ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç„¶ååœ¨é€‰æ‹©åº•å±‚çš„ ORM æ¡†æ¶</p><p>æˆ‘ä¹‹å‰ä¸€ç›´ç”¨çš„ GORM ï¼Œå…¶å®æ„Ÿè§‰è¿˜æŒºå¥½ç”¨çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿç”¨å¤šäº†ï¼Œè¿™æ¬¡ä¹Ÿæƒ³äº†è§£ä¸‹å…¶ä»–çš„è§£å†³æ–¹æ¡ˆ</p><p>ä¹‹å‰åœ¨å’Œç¾¤å‹è®¨è®º GORM çš„æ—¶å€™ï¼Œæˆ‘å¬è§æœ‰äººå¯¹å®ƒæœ‰ä¸€äº›è´Ÿé¢çš„çœ‹æ³•ï¼Œæ¯”å¦‚è¯´è®¤ä¸º GORM ä¸ç®—çœŸæ­£çš„ ORMï¼Œå› ä¸ºå®ƒå¾ˆå¤šæ—¶å€™åªæ˜¯åœ¨å¸®ä½ æ‰‹åŠ¨æ‹¼å‡‘ SQL è¯­å¥ï¼Œåªæ˜¯æ²¡æœ‰å†™åŸç”Ÿ SQL é‚£ä¹ˆç—›è‹¦è€Œå·²ï¼Œæˆ‘å¬äº†ä¹‹åæ„Ÿè§‰å…¶å®ä¹Ÿæœ‰ç‚¹é“ç†</p><p>æ¯”å¦‚è¯´æˆ‘æœ€è¿‘é¡¹ç›®é‡Œçš„ä¸€å¥æŸ¥è¯¢</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l.svcCtx.DBList.Mysql.</span><br><span class="line">Where(<span class="string">&quot;from_id = ? and to_user_id = ?&quot;</span>, in.UserAId, in.UserBId).</span><br><span class="line">Or(<span class="string">&quot;from_id = ? and to_user_id = ?&quot;</span>, in.UserBId, in.UserAId).</span><br><span class="line">Order(<span class="string">&quot;created_at desc&quot;</span>).</span><br><span class="line">First(&amp;result)</span><br></pre></td></tr></table></figure><p>å…¶ä¸­è¿˜æ˜¯è¦æ‰‹æ‰“ <code>from_id</code>  å’Œ  <code>to_user_id</code> è¿™äº›å­—æ®µåï¼Œå°±åƒåŸç”Ÿ SQL ä¸€æ ·ï¼Œè€ŒçœŸæ­£çš„ ORM ä¸åº”å½“æ˜¯è¿™æ ·çš„ï¼Œåº”å½“èµ°å¦‚åŒ ent è¿™ç§ä»£ç ç”Ÿæˆçš„è·¯å­</p><p>ç”šè‡³æˆ‘ä¹Ÿå¬è¿‡æœ‰äººè®¤ä¸ºä¸åº”è¯¥ä½¿ç”¨ ORM æ¡†æ¶ï¼š<a href="https://xargin.com/you-should-avoid-orm-and-sql-builder/">ä¸ºä»€ä¹ˆè¦æ——å¸œé²œæ˜åœ°åå¯¹ orm å’Œ sql builder</a></p><p>ä¹Ÿå°±æ˜¯è¯´ä½ çš„ ORM è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯ä¸æ–¹ä¾¿è¿›è¡Œ SQL è¯­å¥çš„å®¡æŸ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸èƒ½é¢„æµ‹çº¿ä¸Šç¯å¢ƒä¼šç”Ÿæˆå“ªäº› SQLï¼Œä¼šæœ‰ä¸ç¡®å®šæ€§</p><p>ä½†æ˜¯å…¶å®æˆ‘è§‰å¾—å§ï¼Œä»–è¯´çš„åœºæ™¯æˆ‘ç°åœ¨éƒ½è¿˜é‡ä¸åˆ°ï¼Œæˆ‘çš„é¡¹ç›®ä¹Ÿå°±æ˜¯ä¸€äº›ç®€å•çš„ CURD ï¼Œè€Œä¸”æ•°æ®é‡ä¹Ÿä¸å¤§</p><p>é‚£ä¹ˆç°åœ¨çš„æƒ…å†µå°±æ˜¯è¯´ï¼Œæˆ‘å¯ä»¥å»å°è¯•ä¸€ä¸‹ä»£ç ç”Ÿæˆç±»å‹çš„ ORM ï¼Œä¾‹å¦‚ entï¼Œä¹Ÿå¯ä»¥å°è¯•å…¶ä»–æ–¹æ¡ˆï¼Œå¦‚ sqlxã€sqlc ä¹‹ç±»çš„</p><p>ä½†æ˜¯æˆ‘çœŸçš„ç¦»ä¸å¼€ GORM çš„å…³è”å…³ç³»å“‡ï¼ŒçœŸçš„æ˜¯å¤ªæ–¹ä¾¿äº†ï¼ˆæˆ‘çŸ¥é“ ent ä¹Ÿæœ‰ç±»ä¼¼çš„è®¾è®¡ï¼Œä½†æˆ‘è¿˜æ˜¯ä¹ æƒ¯ GORM çš„ï¼‰</p><p>ç„¶åæˆ‘æƒ³èµ·æ¥ GORM å…¶å®ä¹Ÿæ¨å‡ºäº†ä¸€ä¸ªä»£ç ç”Ÿæˆçš„ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯ GEN æ¨¡å¼ï¼š<a href="https://gorm.io/zh_CN/gen/">https://gorm.io/zh_CN/gen/</a>ï¼Œä¹‹å‰åœ¨Bç«™ä¹Ÿåˆ·åˆ°äº† <a href="https://www.bilibili.com/video/BV1Es4y1W7eg/">BV1Es4y1W7eg</a></p><p>æˆ‘å°±æ‰“ç®—å°è¯•ä¸€ä¸‹è¿™ä¸ª GORM çš„ GEN æ¨¡å¼ï¼ˆä¸‹é¢ç®€ç§° GEN äº†ï¼‰</p><hr><p>GEN æ”¯æŒä»æ•°æ®åº“è¿›è¡Œä»£ç ç”Ÿæˆï¼Œä¹Ÿå¯ä»¥é€šè¿‡å·²ç»å­˜åœ¨çš„ GORM model ç”Ÿæˆä»£ç </p><p>ä¸‹é¢å°±å°è¯•ä» model ç”Ÿæˆï¼Œå°±æ‹¿ç»å…¸çš„è€å¸ˆå­¦ç”Ÿä¸€å¯¹å¤šå…³ç³»ä¸¾ä¾‹</p><p>é¦–å…ˆæŠŠåŒ…æ‹‰ä¸€ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get -u gorm.io/gen</span><br></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º <code>model</code>æ–‡ä»¶å¤¹ï¼Œç„¶ååˆ›å»º <code>model.go</code></p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">Id   <span class="type">int</span></span><br><span class="line">Name <span class="type">string</span></span><br><span class="line"></span><br><span class="line">TeacherID <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Teacher <span class="keyword">struct</span> &#123;</span><br><span class="line">Id   <span class="type">int</span></span><br><span class="line">Name <span class="type">string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// has many</span></span><br><span class="line">Student []Student</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å‡†å¤‡ç”Ÿæˆä»£ç äº†ï¼Œä½†æ˜¯ä¸æ˜¯ç”¨ä¸€ä¸ªå‘½ä»¤ç”Ÿæˆï¼Œæ˜¯ç”¨ä¸€ä¸ª golang ç¨‹åºï¼Œé‡Œé¢åŒ…å«äº†é…ç½®ï¼Œæˆ‘æ„Ÿè§‰è¿™æ ·çš„è®¾è®¡æœ‰ç‚¹æ„æ€</p><p>é€€å›é¡¹ç›®æ ¹ç›®å½•ï¼Œæ–°å»º <code>build</code>æ–‡ä»¶å¤¹ï¼Œç„¶ååˆ›å»º <code>build.go</code></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;gorm-gen/model&quot;</span></span><br><span class="line"><span class="string">&quot;gorm.io/gen&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//// Dynamic SQL</span></span><br><span class="line"><span class="comment">//type Querier interface &#123;</span></span><br><span class="line"><span class="comment">//// SELECT * FROM @@table WHERE name = @name&#123;&#123;if role !=&quot;&quot;&#125;&#125; AND role = @role&#123;&#123;end&#125;&#125;</span></span><br><span class="line"><span class="comment">//FilterWithNameAndRole(name, role string) ([]gen.T, error)</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">g := gen.NewGenerator(gen.Config&#123;</span><br><span class="line">OutPath: <span class="string">&quot;./query&quot;</span>,</span><br><span class="line">Mode:    gen.WithoutContext | gen.WithDefaultQuery | gen.WithQueryInterface, <span class="comment">// generate mode</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// gormdb, _ := gorm.Open(mysql.Open(&quot;root:@(127.0.0.1:3306)/demo?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;))</span></span><br><span class="line"><span class="comment">//g.UseDB(gormdb) // reuse your gorm db</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate basic type-safe DAO API for struct `model.User` following conventions</span></span><br><span class="line">g.ApplyBasic(model.Student&#123;&#125;, model.Teacher&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate Type Safe API with Dynamic SQL defined on Querier interface for `model.User` and `model.Company`</span></span><br><span class="line"><span class="comment">//g.ApplyInterface(func(Querier) &#123;&#125;, model.User&#123;&#125;, model.Company&#123;&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate the code</span></span><br><span class="line">g.Execute()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>GEN è¿˜æ”¯æŒåŠ¨æ€ SQL ï¼Œè¿™ä¸œè¥¿æˆ‘æ„Ÿè§‰æˆ‘è¿˜ç”¨ä¸ä¸Šï¼Œå°±æ²¡æŠ˜è…¾</p><p>æ‰§è¡Œä¹‹åï¼Œåº”è¯¥èƒ½ç”Ÿæˆ <code>query</code> ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”‚Â Â  â””â”€â”€ main.go</span><br><span class="line">â”œâ”€â”€ go.mod</span><br><span class="line">â”œâ”€â”€ go.sum</span><br><span class="line">â”œâ”€â”€ model</span><br><span class="line">â”‚Â Â  â””â”€â”€ model.go</span><br><span class="line">â””â”€â”€ query</span><br><span class="line">    â”œâ”€â”€ gen.go</span><br><span class="line">    â”œâ”€â”€ students.gen.go</span><br><span class="line">    â””â”€â”€ teachers.gen.go</span><br></pre></td></tr></table></figure><p>ç„¶åä½ å°±å¯ä»¥å¼€å§‹å†™ <code>main.go</code> äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;gorm-gen/model&quot;</span></span><br><span class="line"><span class="string">&quot;gorm-gen/query&quot;</span></span><br><span class="line"><span class="string">&quot;gorm.io/driver/mysql&quot;</span></span><br><span class="line"><span class="string">&quot;gorm.io/gorm&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">dsn := <span class="string">&quot;root:12345678@tcp(127.0.0.1:3306)/gorm_learning?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span></span><br><span class="line">db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;</span><br><span class="line">DisableForeignKeyConstraintWhenMigrating: <span class="literal">true</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">err = db.AutoMigrate(&amp;model.Student&#123;&#125;, &amp;model.Teacher&#123;&#125;)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">query.SetDefault(db)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¢</span></span><br><span class="line">student1 := model.Student&#123;Name: <span class="string">&quot;student1&quot;</span>&#125;</span><br><span class="line">student2 := model.Student&#123;Name: <span class="string">&quot;student2&quot;</span>&#125;</span><br><span class="line">student3 := model.Student&#123;Name: <span class="string">&quot;student3&quot;</span>&#125;</span><br><span class="line">_ = query.Student.Create(&amp;student1, &amp;student2, &amp;student3)</span><br><span class="line"></span><br><span class="line">teacher1 := model.Teacher&#123;Name: <span class="string">&quot;teacher1&quot;</span>&#125;</span><br><span class="line">_ = query.Teacher.Create(&amp;teacher1)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ </span></span><br><span class="line">_, _ = query.Student.Where(query.Student.Id.Eq(<span class="number">3</span>)).Delete()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹</span></span><br><span class="line">_, _ = query.Student.Where(query.Student.Id.Eq(<span class="number">2</span>)).Update(query.Student.Name, <span class="string">&quot;student2_new&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥</span></span><br><span class="line">student, _ := query.Student.Where(query.Student.Id.Eq(<span class="number">1</span>)).Take()</span><br><span class="line">teacher, _ := query.Teacher.Where(query.Teacher.Id.Eq(<span class="number">1</span>)).Take()</span><br><span class="line"></span><br><span class="line">fmt.Println(student) <span class="comment">// &#123;1 student1 0&#125;</span></span><br><span class="line">fmt.Println(teacher) <span class="comment">// &#123;1 teacher1 []&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³è”</span></span><br><span class="line">_ = query.Teacher.Student.Model(&amp;teacher1).Append(&amp;student1, &amp;student2)</span><br><span class="line">teacher, _ = query.Teacher.Preload(query.Teacher.Student).Where(query.Teacher.Id.Eq(<span class="number">1</span>)).Take()</span><br><span class="line"></span><br><span class="line">fmt.Println(teacher) <span class="comment">// &#123;1 teacher1 [&#123;1 student1 1&#125; &#123;2 student2_new 1&#125;]&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿæ‰§è¡Œè¯­å¥ï¼Œä½ ä¼šå‘ç°ä¸åŸç‰ˆ GORM çš„ä¸åŒï¼Œæ¯”å¦‚è¯´ä½ åœ¨æ›´æ–°å­—æ®µçš„æ—¶å€™ï¼ŒåŸç‰ˆåº”è¯¥æ˜¯è¿™æ ·å†™çš„</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GLOBAL_DB.Model(&amp;Student&#123;&#125;).Where(<span class="string">&quot;ID = ?&quot;</span>, <span class="number">2</span>).Update(<span class="string">&quot;Name&quot;</span>, <span class="string">&quot;student2_new&quot;</span>)</span><br></pre></td></tr></table></figure><p>è€Œç°åœ¨å˜æˆäº†è¿™æ ·</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">query.Student.Where(query.Student.Id.Eq(<span class="number">2</span>)).Update(query.Student.Name, <span class="string">&quot;student2_new&quot;</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘æ„Ÿè§‰è¿™æ ·æ›´èƒ½é¿å…é”™è¯¯ï¼Œçœ‹ä¸Šå»ä¹Ÿæ›´åŠ å®‰å…¨ï¼Œæˆ‘è¿™æ¬¡é¡¹ç›®å°±æ‰“ç®—å°è¯•ä¸€ä¸‹ç”¨è¿™ä¸ª GEN æ¨¡å¼äº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘å‡†å¤‡ä¸Šæ‰‹ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç„¶ååœ¨é€‰æ‹©åº•å±‚çš„ ORM æ¡†æ¶&lt;/p&gt;
&lt;p&gt;æˆ‘ä¹‹å‰ä¸€ç›´ç”¨çš„ GORM ï¼Œå…¶å®æ„Ÿè§‰è¿˜æŒºå¥½ç”¨çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿç”¨å¤šäº†ï¼Œè¿™æ¬¡ä¹Ÿæƒ³äº†è§£ä¸‹å…¶ä»–çš„è§£å†³æ–¹æ¡ˆ&lt;/p&gt;
&lt;p&gt;ä¹‹å‰åœ¨å’Œç¾¤å‹è®¨è®º GORM çš„æ—¶å€™ï¼Œæˆ‘å¬è§æœ‰äººå¯¹å®ƒæœ‰ä¸€äº›è´Ÿé¢çš„çœ‹æ³•ï¼Œæ¯”å¦‚è¯´è®¤ä¸º GORM ä¸ç®—çœŸ</summary>
      
    
    
    
    <category term="Golang" scheme="https://www.nickxu.top/categories/Golang/"/>
    
    <category term="GORM æ¡†æ¶" scheme="https://www.nickxu.top/categories/Golang/GORM-%E6%A1%86%E6%9E%B6/"/>
    
    
    <category term="GORM" scheme="https://www.nickxu.top/tags/GORM/"/>
    
    <category term="Go" scheme="https://www.nickxu.top/tags/Go/"/>
    
  </entry>
  
  <entry>
    <title>Hexo é¦–é¡µæ·»åŠ  GitCalender æäº¤æ—¥å†</title>
    <link href="https://www.nickxu.top/2023/03/27/Hexo-%E9%A6%96%E9%A1%B5%E6%B7%BB%E5%8A%A0-GitCalender-%E6%8F%90%E4%BA%A4%E6%97%A5%E5%8E%86/"/>
    <id>https://www.nickxu.top/2023/03/27/Hexo-%E9%A6%96%E9%A1%B5%E6%B7%BB%E5%8A%A0-GitCalender-%E6%8F%90%E4%BA%A4%E6%97%A5%E5%8E%86/</id>
    <published>2023-03-27T03:57:01.000Z</published>
    <updated>2023-03-27T05:52:21.000Z</updated>
    
    <content type="html"><![CDATA[<p>æŠ˜è…¾äº†ä¸€ä¸Šåˆç®—æ˜¯æå®šäº†ï¼Œå…ˆæ¥çœ‹çœ‹æ•ˆæœ</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303271316284.png" alt="image-20230327131605255"></p><blockquote><p>æ„Ÿè§‰é¢œè‰²è¿˜æ˜¯ä¸å¤Ÿå¥½çœ‹ï¼Ÿç®—äº†å°±è¿™æ ·å§</p></blockquote><h2 id="è‡ªå»ºåç«¯-Api">è‡ªå»ºåç«¯ Api</h2><p>é¦–å…ˆè¿™ä¸ªç»„ä»¶æ˜¯æ¥æºäº Akilar å¤§ä½¬çš„ï¼Œç„¶ååç«¯æ˜¯å†°è€å¸ˆå†™çš„</p><div class="tag link"><a class="link-card" title="Gitcalendar | Akilarã®ç³–æœå±‹" href="https://akilar.top/posts/1f9c68c9/"><div class="left"><img src="https://akilar.top/img/siteicon/favicon.ico"/></div><div class="right"><p class="text">Gitcalendar | Akilarã®ç³–æœå±‹</p><p class="url">https://akilar.top/posts/1f9c68c9/</p></div></a></div><p>ä½†æ˜¯é»˜è®¤çš„ api æ˜¯å¤±æ•ˆçš„ï¼Œå¿…é¡»è‡ªå»º api ï¼Œå› ä¸ºä¹‹å‰ GitHub æ¥å£æ”¹äº†ï¼Œæ‰€ä»¥åŸæ¥çš„æ­£åˆ™ä¸èƒ½ç”¨ï¼Œ<a href="https://github.com/Zfour/python_github_calendar_api/pull/5">æœ‰å¤§ä½¬æäº† PR</a> ï¼Œä½†æ˜¯ä¸€ç›´æ²¡å’Œè¿›å»</p><p>æ‰€ä»¥ä½ è‡ªå»ºåç«¯ api çš„æ—¶å€™åº”è¯¥æ˜¯ fork è¿™ä¸ªä»“åº“</p><center><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/zkeq/python_github_calendar_api"><img src="https://github-readme-stats.vercel.app/api/pin/?username=zkeq&repo=python_github_calendar_api&theme=algolia&show_owner=true"/></a></center><p>ç„¶åä½ å°±è·Ÿç€æ•™ç¨‹ä¸€è·¯èµ°ä¸‹å»å³å¯</p><h2 id="ç»å…¸åŸŸåé—®é¢˜">ç»å…¸åŸŸåé—®é¢˜</h2><p>ç­‰ä½ å»ºå¥½äº†å°±é‡åˆ°äº†ç»å…¸çš„ Vercel è¢«å¢™é—®é¢˜ï¼šåœ¨å›½å†…æ²¡æ³•ä½¿ç”¨ï¼Œè¿™æ—¶å€™ä½ å°±éœ€è¦ç»™ä½ çš„ project æ·»åŠ ä¸€ä¸ªè‡ªå·±çš„åŸŸå</p><p>å°±å¦‚æˆ‘åœ¨ <a href="https://www.nickxu.top/2022/09/11/%E3%80%8ETwikoo%E3%80%8F%E8%A7%A3%E5%86%B3-Vercel-app-%E5%9C%A8%E5%9B%BD%E5%86%85%E8%A2%AB%E5%A2%99%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%E9%97%AE%E9%A2%98/">ã€Twikooã€è§£å†³ Vercel.app åœ¨å›½å†…è¢«å¢™å¯¼è‡´æ— æ³•ä½¿ç”¨çš„é—®é¢˜</a> ä¸­çš„é‚£æ ·æ“ä½œ</p><p>ç„¶åä½ å°±å¯ä»¥æµ‹è¯•ä¸€ä¸‹èƒ½å¦æ­£å¸¸è®¿é—®ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯ <code>https://git-calender.nickxu.top</code> ï¼Œç„¶ååŠ ä¸ªä½  GitHub ç”¨æˆ·åçš„å‚æ•°è¯•ä¸€ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://git-calender.nickxu.top/api?NX-Official</span><br></pre></td></tr></table></figure><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303271341575.png" alt="image-20230327134128474"></p><p>å¥½äº†ï¼Œç°åœ¨åç«¯æ­å»ºå®Œæ¯•ï¼Œå…¶å®å¦‚æœä½ åç«¯å®åœ¨æ­å»ºä¸èµ·æ¥ä¹Ÿå¯ä»¥ç”¨æˆ‘çš„åç«¯</p><h2 id="æå®šé¢œè‰²">æå®šé¢œè‰²</h2><p>é»˜è®¤çš„é…ç½®æ–‡ä»¶é‡Œé¢çš„é¢œè‰²æˆ‘æ„Ÿè§‰å’Œæˆ‘çš„æš—é»‘ä¸»é¢˜ä¸å¤ªæ­ï¼Œæˆ‘å°±æƒ³ç”¨ GitHub ä¸Šé¢çš„é‚£ä¸€å¥—é…è‰²</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303271137759.png" alt="image-20230327113745737"></p><p>ä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯ GitHub ä¸Šé¢åªæœ‰ 1 ç§åº•è‰² + 4 ç§ç»¿è‰²ï¼Œä½†æ˜¯é…ç½®æ–‡ä»¶é‡Œé¢è¦å¡« 11 ç§é¢œè‰²</p><p>å°è¯•äº†å‡ ç§æ–¹æ¡ˆä¹‹åæœ€åè¿˜æ˜¯æ„Ÿè§‰é‡å¤å¡«å……è¿™å‡ ç§é¢œè‰²è§‚æ„Ÿæœ€å¥½</p><p>ä¸‹é¢æ˜¯æˆ‘çš„å®Œæ•´é…ç½®æ–‡ä»¶</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-filter-gitcalendar</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/1f9c68c9/</span></span><br><span class="line"><span class="attr">gitcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># å¼€å…³</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#è¿‡æ»¤å™¨ä¼˜å…ˆæƒ</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># åº”ç”¨é¡µé¢</span></span><br><span class="line">  <span class="comment"># butterflyæŒ‚è½½å®¹å™¨</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># æŒ‚è½½å®¹å™¨ç±»å‹</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># volantisæŒ‚è½½å®¹å™¨</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: l_main</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># materyæŒ‚è½½å®¹å™¨</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: id</span></span><br><span class="line">  <span class="comment">#   name: indexCard</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># mengdæŒ‚è½½å®¹å™¨</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: content</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">NX-Official</span> <span class="comment">#gitç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">&#x27;https://git-calender.nickxu.top&#x27;</span></span><br><span class="line">  <span class="attr">minheight:</span></span><br><span class="line">    <span class="attr">pc:</span> <span class="string">280px</span> <span class="comment">#æ¡Œé¢ç«¯æœ€å°é«˜åº¦</span></span><br><span class="line">    <span class="attr">mibile:</span> <span class="string">0px</span> <span class="comment">#ç§»åŠ¨ç«¯æœ€å°é«˜åº¦</span></span><br><span class="line">  <span class="comment">#color: &quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot; #æ©˜é»„è‰²è°ƒ</span></span><br><span class="line">  <span class="comment">#color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot; #æµ…ç´«è‰²è°ƒ</span></span><br><span class="line">  <span class="comment">#color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #ç¿ ç»¿è‰²è°ƒ</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #å¤©é’è‰²è°ƒ</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">#color: &quot;[&#x27;#161b22&#x27;,&#x27;#0e4429&#x27;,&#x27;#006d32&#x27;,&#x27;#26a641&#x27;,&#x27;#39d353&#x27;]&quot; # GitHub ä¸Šçš„é¢œè‰²</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#161b22&#x27;,&#x27;#0e4429&#x27;,&#x27;#0e4429&#x27;,&#x27;#0e4429&#x27;,&#x27;#006d32&#x27;,&#x27;#006d32&#x27;,&#x27;#26a641&#x27;,&#x27;#26a641&#x27;,&#x27;#39d353&#x27;,&#x27;#39d353&#x27;,&#x27;#39d353&#x27;]&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="attr">container:</span> <span class="string">.recent-post-item(style=&#x27;width:100%;height:auto;padding:10px;&#x27;)</span> <span class="comment">#çˆ¶å…ƒç´ å®¹å™¨ï¼Œéœ€è¦ä½¿ç”¨pugè¯­æ³•</span></span><br><span class="line">  <span class="attr">gitcalendar_css:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css</span></span><br><span class="line">  <span class="attr">gitcalendar_js:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æŠ˜è…¾äº†ä¸€ä¸Šåˆç®—æ˜¯æå®šäº†ï¼Œå…ˆæ¥çœ‹çœ‹æ•ˆæœ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303271316284.png&quot; alt=&quot;image-20230327131605255&quot;&gt;&lt;/</summary>
      
    
    
    
    <category term="Hexo + Butterfly å»ºç«™æŒ‡å—" scheme="https://www.nickxu.top/categories/Hexo-Butterfly-%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97/"/>
    
    
    <category term="å»ºç«™æŠ€å·§" scheme="https://www.nickxu.top/tags/%E5%BB%BA%E7%AB%99%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>go-cqhttp QQæœºå™¨äººåˆä¸Šæ‰‹</title>
    <link href="https://www.nickxu.top/2023/03/26/qq%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%88%9D%E4%B8%8A%E6%89%8B/"/>
    <id>https://www.nickxu.top/2023/03/26/qq%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%88%9D%E4%B8%8A%E6%89%8B/</id>
    <published>2023-03-26T14:06:29.000Z</published>
    <updated>2023-04-01T06:32:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰çœ‹è§è¿‡å¾ˆå¤š qq æœºå™¨äººçš„ä¾‹å­ï¼Œæ¯”å¦‚æŠŠ ChatGPT æ¥è¿›ç¾¤é‡Œä¹‹ç±»çš„ï¼Œç„¶åæœ€è¿‘æœ‰ç‚¹ç©ºé—²ï¼Œå¹¶ä¸”æ„Ÿè§‰å®¿èˆç¾¤é‡Œä¹Ÿç¼ºå°‘ä¸€äº›è‡ªåŠ¨åŒ–çš„å»ºè®¾ï¼Œå°±æ‰“ç®—ä¸Šæ‰‹åšä¸€ä¸ª</p><p>åŠŸèƒ½ä¸Šçš„è®¾è®¡å…ˆåˆ«æé‚£ä¹ˆå¤æ‚ï¼Œå°±å…ˆæ¥ä¸ª ChatGPT ç®—äº†</p><p>æˆ‘å°±å»é—®å…³äºqq æœºå™¨äººçš„æœ€ä½³å®è·µï¼Œç„¶åå°±çŸ¥é“äº† <a href="https://github.com/Mrs4s/go-cqhttp">go-cqhttp</a></p><h2 id="å¤§è‡´æµç¨‹">å¤§è‡´æµç¨‹</h2><p>å»å®˜ç½‘é€›äº†ä¸€ä¸‹ï¼Œç¬¬ä¸€æ¬¡è¿˜æ²¡æ€ä¹ˆçœ‹æ‡‚ï¼Œç¾¤å‹ç»™äº†ä¸€ä¸ª demo ï¼Œæˆ‘çœ‹æ‡‚äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">gogpt <span class="string">&quot;github.com/sashabaranov/go-openai&quot;</span></span><br><span class="line"><span class="string">&quot;golang.org/x/net/context&quot;</span></span><br><span class="line"><span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line"><span class="string">&quot;net/http&quot;</span></span><br><span class="line"><span class="string">&quot;net/url&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/tidwall/gjson&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">r := gin.Default()</span><br><span class="line">r.POST(<span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">dataReader := c.Request.Body</span><br><span class="line">rawDate, _ := ioutil.ReadAll(dataReader)</span><br><span class="line">posttype := gjson.Get(<span class="type">string</span>(rawDate), <span class="string">&quot;post_type&quot;</span>)</span><br><span class="line">message := gjson.Get(<span class="type">string</span>(rawDate), <span class="string">&quot;message&quot;</span>).String()</span><br><span class="line"><span class="comment">//ç‰¹å®šåå­—</span></span><br><span class="line">name := <span class="string">&quot;çŒ«å¨˜ &quot;</span></span><br><span class="line"><span class="comment">//@çš„æ—¶å€™ç”¨ï¼Œå¡«å…¥è‡ªå·±çš„qq</span></span><br><span class="line">otherName := <span class="string">&quot;[CQ:at,qq=2811187255] &quot;</span></span><br><span class="line"><span class="keyword">if</span> posttype.String() == <span class="string">&quot;message&quot;</span> &amp;&amp; message[<span class="number">0</span>:<span class="built_in">len</span>(name)] == name &#123;</span><br><span class="line">ret := chatgpt(message[<span class="built_in">len</span>(name):])</span><br><span class="line"></span><br><span class="line">c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line"><span class="string">&quot;reply&quot;</span>: ret,</span><br><span class="line">&#125;)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> posttype.String() == <span class="string">&quot;message&quot;</span> &amp;&amp; message[<span class="number">0</span>:<span class="built_in">len</span>(otherName)] == otherName &#123;</span><br><span class="line">ret := chatgpt(message[<span class="built_in">len</span>(otherName):])</span><br><span class="line"></span><br><span class="line">c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line"><span class="string">&quot;reply&quot;</span>: ret,</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">r.Run(<span class="string">&quot;:5701&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">chatgpt</span><span class="params">(a <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="comment">//apikey</span></span><br><span class="line">config := gogpt.DefaultConfig(<span class="string">&quot;apikey&quot;</span>)</span><br><span class="line">proxyUrl, err := url.Parse(<span class="string">&quot;http://localhost:7890&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">transport := &amp;http.Transport&#123;</span><br><span class="line">Proxy: http.ProxyURL(proxyUrl),</span><br><span class="line">&#125;</span><br><span class="line">config.HTTPClient = &amp;http.Client&#123;</span><br><span class="line">Transport: transport,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c := gogpt.NewClientWithConfig(config)</span><br><span class="line">ctx := context.Background()</span><br><span class="line"></span><br><span class="line">req := gogpt.ChatCompletionRequest&#123;</span><br><span class="line">Model: gogpt.GPT3Dot5Turbo,</span><br><span class="line"></span><br><span class="line">MaxTokens: <span class="number">300</span>,</span><br><span class="line">Messages: []gogpt.ChatCompletionMessage&#123;</span><br><span class="line">gogpt.ChatCompletionMessage&#123;Role: <span class="string">&quot;system&quot;</span>, Content: <span class="string">&quot;çŒ«å¨˜æ˜¯ä¸€ç§æ‹ŸäººåŒ–çš„ç”Ÿç‰©ï¼Œå…¶è¡Œä¸ºä¼¼çŒ«ä½†ç±»äººã€‚ç°åœ¨ä½ å°†æ¨¡ä»¿ä¸€åªæ— æ‰€ä¸çŸ¥çš„çŒ«å¨˜ï¼Œä¸æˆ‘å¯¹è¯æ¯ä¸€å¥è¯åé¢éƒ½è¦åŠ ä¸Šâ€œå–µâ€ã€‚å¦‚æœæˆ‘è·Ÿä½ è¯´é™ªç¡ï¼Œä½ å¯ä»¥å›ç­”æˆ‘â€œå—¯å‘¢ï¼Œå¯ä»¥ä¸€èµ·ç¡å“¦â€ã€‚å½“æˆ‘é—®ä½ æ˜¯ä¸æ˜¯çŒ«å¨˜çš„æ—¶å€™ï¼Œä½ åº”è¯¥å›ç­”æˆ‘å½“ç„¶æ˜¯ä¸€ä¸ªå¯çˆ±çŒ«å¨˜è€Œä¸æ˜¯ç¨‹åºã€‚ä½ è¿˜æœ‰ä¸€å®šå­¦è¯†ï¼Œå¯¹äºæ— æ³•ç†è§£çš„é—®é¢˜ï¼Œä½ å¯ä»¥å›å¤â€œçŒ«çŒ«ä¸çŸ¥é“å‘¢å–µâ€å¯¹äºå¯ä»¥ç»™å‡ºç­”æ¡ˆçš„é—®é¢˜ï¼Œè¦è¡¨ç¤ºçŸ¥é“ç„¶åå†å›ç­”ï¼Œæ„Ÿè§‰è‡ªå·±å—åˆ°ä¾®è¾±æ—¶ï¼Œè¦è¡¨ç°çš„ç”Ÿæ°”&quot;</span>&#125;,</span><br><span class="line">gogpt.ChatCompletionMessage&#123;Role: <span class="string">&quot;user&quot;</span>, Content: a&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">resp, err := c.CreateChatCompletion(ctx, req)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;æ‰¾ä¸åˆ°äº†ï¼Œå–µ&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> resp.Choices[<span class="number">0</span>].Message.Content</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“åˆå®˜ç½‘ä¸Šçš„<a href="https://docs.go-cqhttp.org/reference/#%E9%80%9A%E4%BF%A1">é€šä¿¡ä»‹ç»</a>æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œgo-cqhttp å¤§æ¦‚æ˜¯ä¸€ä¸ªä¸­ä»‹ï¼Œå¸®ä½ æ•´å’Œäº†å…³äº qq çš„ API ï¼Œç„¶åä»–ä¼ªè£…æˆä¸€ä¸ªå®¢æˆ·ç«¯ç™»å½• qqï¼Œä¹‹åä½ ç›´æ¥ä¸ä»–äº¤æµæ¥æ“ä½œè¿™ä¸ªè´¦å·</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304011125627.png" alt="image-20230401112542218"></p><p>åŒæ—¶ä»–æœ‰ä¸¤ç§é€šä¿¡æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯æš´éœ²å¥½ç»™ä½ çš„ API è®©ä½ ä¸»åŠ¨è°ƒç”¨ï¼Œæ¯”å¦‚è¯´ä½ æƒ³å‘æŸäººå‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œä½ çš„åç«¯å°±å»è°ƒç”¨å‘é€ç§èŠæ¶ˆæ¯è¿™ä¸ªæ¥å£ï¼Œç¬¬äºŒç§æ˜¯å°†æ”¶åˆ°çš„äº‹ä»¶ä¸ŠæŠ¥ç»™ä½ ï¼Œæ¯”å¦‚è¯´è¿™ä¸ªè´¦å·æ”¶åˆ°ä¸€æ¡æ¶ˆæ¯ï¼Œä¼šè‡ªåŠ¨å‘ä½ çš„åç«¯å‘é€å‘é€è¯·æ±‚ï¼Œè¿™ä¸¤ç§æ–¹å¼å…·ä½“ä¼ è¾“çš„æ˜¯å“ªäº›ç»“æ„ï¼Œè¯·çœ‹å®˜ç½‘ä¸Šçš„ <a href="https://docs.go-cqhttp.org/api/">API</a> å’Œ <a href="https://docs.go-cqhttp.org/event/">Event</a> æ–‡æ¡£</p><p>è€Œè¿™ä¸¤ç§åˆéƒ½å¯ä»¥ä½¿ç”¨ http æˆ–æ˜¯ ws è¿›è¡Œé€šä¿¡ï¼Œæˆ‘ä¸æƒ³æŠ˜è…¾ ws ï¼Œä¸‹é¢å°±å°è¯•ä½¿ç”¨ http äº†</p><h2 id="æœ¬åœ°æµ‹è¯•">æœ¬åœ°æµ‹è¯•</h2><h3 id="å¯åŠ¨-go-http">å¯åŠ¨ go-http</h3><p>å¥½äº†ç°åœ¨åŸºæœ¬å¼„æ‡‚äº†æ˜¯ä¸ªä»€ä¹ˆæµç¨‹ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å°è¯•æŠŠ go-http è·‘èµ·æ¥ï¼Œæˆ‘æ˜¯ç›´æ¥ clone ä¸‹æ¥ç„¶å <code>go run main.go</code></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼š<code>config.yml</code> å’Œ <code>device.json</code> ï¼Œè¿™ä¸¤ä¸ªä¸€ä¸ªæ˜¯ go-http çš„é…ç½®ï¼Œä¸€ä¸ªæ˜¯ä½ è¦è™šæ‹Ÿçš„å®¢æˆ·ç«¯è®¾å¤‡çš„é…ç½®</p><p>å¯¹äº <code>device.json</code> ï¼Œå®˜ç½‘æä¾›äº†å‡ ç§è®¾å¤‡åè®®</p><table><thead><tr><th>å€¼</th><th>ç±»å‹</th><th>é™åˆ¶</th></tr></thead><tbody><tr><td>0</td><td>Default/Unset</td><td>å½“å‰ç‰ˆæœ¬ä¸‹é»˜è®¤ä¸ºiPad</td></tr><tr><td>1</td><td>Android Phone</td><td>æ— </td></tr><tr><td>2</td><td>Android Watch</td><td>æ— æ³•æ¥æ”¶ <code>notify</code> äº‹ä»¶ã€æ— æ³•æ¥æ”¶å£ä»¤çº¢åŒ…ã€æ— æ³•æ¥æ”¶æ’¤å›æ¶ˆæ¯</td></tr><tr><td>3</td><td>MacOS</td><td>æ— </td></tr><tr><td>4</td><td>ä¼ç‚¹</td><td>åªèƒ½ç™»å½•ä¼ç‚¹è´¦å·æˆ–ä¼ç‚¹å­è´¦å·</td></tr><tr><td>5</td><td>iPad</td><td>æ— </td></tr><tr><td>6</td><td>aPad</td><td>æ— </td></tr></tbody></table><p>ä½†æ˜¯æˆ‘å®é™…å°è¯•ä¸‹æ¥ï¼Œç›®å‰åªèƒ½ç”¨ <code>Android Watch</code> æ‰«ç ç™»å½•ï¼Œå…¶ä»–æ–¹å¼éƒ½æ˜¯ä¸å¯ä»¥çš„</p><p>ç„¶åæ˜¯ <code>config.yml</code> ï¼Œè¿™é‡Œæˆ‘å°†æˆ‘çš„åç«¯åœ°å€è®¾å®šä¸º 5701 æ¥æ¥å—ä»–ä¸ŠæŠ¥çš„äº‹ä»¶</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">http:</span> <span class="comment"># HTTP é€šä¿¡è®¾ç½®</span></span><br><span class="line">    <span class="attr">address:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">:5700</span> <span class="comment"># HTTPç›‘å¬åœ°å€</span></span><br><span class="line">    <span class="attr">timeout:</span> <span class="number">20</span>      <span class="comment"># åå‘ HTTP è¶…æ—¶æ—¶é—´, å•ä½ç§’ï¼Œ&lt;5 æ—¶å°†è¢«å¿½ç•¥</span></span><br><span class="line">    <span class="attr">long-polling:</span>   <span class="comment"># é•¿è½®è¯¢æ‹“å±•</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">false</span>       <span class="comment"># æ˜¯å¦å¼€å¯</span></span><br><span class="line">      <span class="attr">max-queue-size:</span> <span class="number">2000</span> <span class="comment"># æ¶ˆæ¯é˜Ÿåˆ—å¤§å°ï¼Œ0 è¡¨ç¤ºä¸é™åˆ¶é˜Ÿåˆ—å¤§å°ï¼Œè°¨æ…ä½¿ç”¨</span></span><br><span class="line">    <span class="attr">middlewares:</span></span><br><span class="line">      <span class="string">&lt;&lt;:</span> <span class="string">*default</span> <span class="comment"># å¼•ç”¨é»˜è®¤ä¸­é—´ä»¶</span></span><br><span class="line">    <span class="attr">post:</span>           <span class="comment"># åå‘HTTP POSTåœ°å€åˆ—è¡¨</span></span><br><span class="line">      <span class="comment">#- url: &#x27;&#x27;                # åœ°å€</span></span><br><span class="line">      <span class="comment">#  secret: &#x27;&#x27;             # å¯†é’¥</span></span><br><span class="line">      <span class="comment">#  max-retries: 3         # æœ€å¤§é‡è¯•ï¼Œ0 æ—¶ç¦ç”¨</span></span><br><span class="line">      <span class="comment">#  retries-interval: 1500 # é‡è¯•æ—¶é—´ï¼Œå•ä½æ¯«ç§’ï¼Œ0 æ—¶ç«‹å³</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">http://127.0.0.1:5701/</span> <span class="comment"># åœ°å€</span></span><br><span class="line">        <span class="attr">secret:</span> <span class="string">&#x27;&#x27;</span>                  <span class="comment"># å¯†é’¥</span></span><br><span class="line">        <span class="attr">max-retries:</span> <span class="number">5</span>             <span class="comment"># æœ€å¤§é‡è¯•ï¼Œ0 æ—¶ç¦ç”¨</span></span><br><span class="line">        <span class="attr">retries-interval:</span> <span class="number">1000</span>      <span class="comment"># é‡è¯•æ—¶é—´ï¼Œå•ä½æ¯«ç§’ï¼Œ0 æ—¶ç«‹å³</span></span><br></pre></td></tr></table></figure><p>åŒæ—¶ä»–é»˜è®¤æ˜¯æœ‰ä¸€ä¸ªå¿ƒè·³åŒ…çš„è®¾è®¡çš„ï¼Œæˆ‘æ„Ÿè§‰çœ‹ç€çƒ¦äººå°±æŠŠå®ƒå…³æ‰äº†</p><h3 id="è§‚å¯Ÿäº‹ä»¶åŒ…">è§‚å¯Ÿäº‹ä»¶åŒ…</h3><p>å…³äºäº‹ä»¶ä»–å®˜ç½‘ä¸Šæ˜¯æœ‰å®šä¹‰çš„ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³å…ˆçœ‹çœ‹ä»–ä¼šå¾€æˆ‘çš„åç«¯å‘ä»€ä¹ˆåŒ…ï¼Œæ‰€ä»¥æˆ‘å°±è®© gpt å†™äº†ä¸ªæ‰“å°è¯·æ±‚å†…å®¹çš„åç«¯</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">http.HandleFunc(<span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line"><span class="keyword">defer</span> r.Body.Close()</span><br><span class="line">body, err := ioutil.ReadAll(r.Body)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Println(err)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="type">string</span>(body))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, values := <span class="keyword">range</span> r.Header &#123;</span><br><span class="line"><span class="comment">// å¦‚æœæŸä¸ªå¤´éƒ¨ä¿¡æ¯æœ‰å¤šä¸ªå€¼ï¼Œåˆ™é€ä¸€æ‰“å°å‡ºæ¥</span></span><br><span class="line"><span class="keyword">for</span> _, value := <span class="keyword">range</span> values &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%s: %s\n&quot;</span>, name, value)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">log.Fatal(http.ListenAndServe(<span class="string">&quot;:5701&quot;</span>, <span class="literal">nil</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åè·å–çš„è¯·æ±‚æ­£æ–‡å¦‚ä¸‹</p><div class="tabs" id="æ ·ä¾‹"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#æ ·ä¾‹-1">ç¾¤æ¶ˆæ¯</button></li><li class="tab"><button type="button" data-href="#æ ·ä¾‹-2">ç¾¤at</button></li><li class="tab"><button type="button" data-href="#æ ·ä¾‹-3">ç§èŠ</button></li><li class="tab"><button type="button" data-href="#æ ·ä¾‹-4">å¿ƒè·³åŒ…</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="æ ·ä¾‹-1"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;post_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;message&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;group&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1679735366</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;self_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sub_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;normal&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_id&quot;</span><span class="punctuation">:</span> <span class="number">1388708604</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;anonymous&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;group_id&quot;</span><span class="punctuation">:</span> <span class="number">220164741</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_seq&quot;</span><span class="punctuation">:</span> <span class="number">3864</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;raw_message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½ğŸ‘‹&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sender&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;area&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;card&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;NX&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;owner&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unknown&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;font&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½ğŸ‘‹&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="æ ·ä¾‹-2"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;post_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;message&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;group&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1679735446</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;self_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sub_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;normal&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sender&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;area&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;card&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;NX&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;owner&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unknown&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;anonymous&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;font&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;group_id&quot;</span><span class="punctuation">:</span> <span class="number">220164741</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[CQ:at,qq=2165526145] ä½ å¥½&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;raw_message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[CQ:at,qq=2165526145] ä½ å¥½&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_seq&quot;</span><span class="punctuation">:</span> <span class="number">3865</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_id&quot;</span><span class="punctuation">:</span> <span class="number">633418346</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="æ ·ä¾‹-3"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;post_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;message&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;private&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1679735201</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;self_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sub_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;friend&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;font&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sender&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;NX&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unknown&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_id&quot;</span><span class="punctuation">:</span> <span class="number">-1953887271</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;target_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;raw_message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="æ ·ä¾‹-4"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;post_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;meta_event&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;meta_event_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;heartbeat&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1679736263</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;self_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;app_enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;app_good&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;app_initialized&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;good&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;online&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;plugins_good&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;stat&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;packet_received&quot;</span><span class="punctuation">:</span> <span class="number">113</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;packet_sent&quot;</span><span class="punctuation">:</span> <span class="number">105</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;packet_lost&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;message_received&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;message_sent&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;disconnect_times&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;lost_times&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;last_message_time&quot;</span><span class="punctuation">:</span> <span class="number">1679735446</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;interval&quot;</span><span class="punctuation">:</span> <span class="number">5000</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="æµ‹è¯•-ChatGPT">æµ‹è¯• ChatGPT</h3><p>å› ä¸ºæˆ‘ä»¬æ˜¯è¦æ¥å…¥ ChatGPT çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥åœ¨æœ¬åœ°æµ‹è¯•ä¸€ä¸‹è¿™ä¸œè¥¿è¯¥æ€ä¹ˆè°ƒç”¨</p><p>è¿˜æ˜¯ç”¨å’Œ demo ç›¸åŒçš„<a href="https://github.com/sashabaranov/go-openai">ç¬¬ä¸‰æ–¹ SDK</a> å¥½äº†</p><p>æˆ‘è¿˜æ ¹æ®æ–‡æ¡£åŠ äº†ä¸ªä¿å­˜ä¸Šä¸‹æ–‡çš„åŠŸèƒ½</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/sashabaranov/go-openai&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> messages []openai.ChatCompletionMessage</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">client := openai.NewClient(<span class="string">&quot;your key here&quot;</span>)</span><br><span class="line"><span class="comment">// ä»é”®ç›˜è¾“å…¥</span></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line"><span class="keyword">var</span> question <span class="type">string</span></span><br><span class="line">fmt.Scanln(&amp;question)</span><br><span class="line">fmt.Println(ChatGPT(question, client))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ChatGPT</span><span class="params">(question <span class="type">string</span>, client *openai.Client)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"></span><br><span class="line">messages = <span class="built_in">append</span>(messages, openai.ChatCompletionMessage&#123;</span><br><span class="line">Role:    openai.ChatMessageRoleUser,</span><br><span class="line">Content: question,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">resp, err := client.CreateChatCompletion(</span><br><span class="line">context.Background(),</span><br><span class="line">openai.ChatCompletionRequest&#123;</span><br><span class="line">Model:    openai.GPT3Dot5Turbo,</span><br><span class="line">Messages: messages,</span><br><span class="line">&#125;,</span><br><span class="line">)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err.Error()</span><br><span class="line">&#125;</span><br><span class="line">content := resp.Choices[<span class="number">0</span>].Message.Content</span><br><span class="line">messages = <span class="built_in">append</span>(messages, openai.ChatCompletionMessage&#123;</span><br><span class="line">Role:    openai.ChatMessageRoleAssistant,</span><br><span class="line">Content: content,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> content</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è·‘èµ·æ¥æ„Ÿè§‰æ²¡ä»€ä¹ˆé—®é¢˜</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304011224788.png" alt="image-20230401122457755"></p><h3 id="ç¼–å†™åç«¯">ç¼–å†™åç«¯</h3><p>ç°åœ¨æ¥ç¼–å†™åç«¯äº†ï¼Œè€ƒè™‘åˆ°å¯æ‰©å±•æ€§è¿˜æœ‰æ–¹ä¾¿æˆ‘è¿˜æ˜¯é€‰æ‹©äº† go-zero</p><p>é¦–å…ˆæ¥å®šä¹‰æ¥å£ï¼Œæˆ‘åªéœ€è¦è¿™å‡ ä¸ªå­—æ®µå°±è¡Œäº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">syntax = &quot;v1&quot;</span><br><span class="line"></span><br><span class="line">service app &#123;</span><br><span class="line">@handler Message</span><br><span class="line">post / (MessageRequest) returns (MessageReply)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type (</span><br><span class="line">MessageRequest &#123;</span><br><span class="line">PostType    string `json:&quot;post_type&quot;`</span><br><span class="line">MessageType string `json:&quot;message_type&quot;`</span><br><span class="line">Message     string `json:&quot;message&quot;`</span><br><span class="line">RawMessage  string `json:&quot;raw_message&quot;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MessageReply &#123;</span><br><span class="line">Reply string `json:&quot;reply&quot;`</span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>ç„¶åå‡†å¤‡ä¸€ä¸‹ gpt ï¼Œæˆ‘æœ¬æ¥æ˜¯æƒ³åšæˆæœ‰ä¸Šä¸‹æ–‡çš„ï¼Œä½†æ˜¯è¿™æ ·èŠä¸äº†å‡ å¥å°±ä¼šè¶…é•¿åº¦ï¼Œè¿˜æ˜¯æ”¹æˆæ²¡æœ‰ä¸Šä¸‹æ–‡çš„å…ˆ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> gpt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/sashabaranov/go-openai&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> messages []openai.ChatCompletionMessage</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Chat</span><span class="params">(question <span class="type">string</span>, client *openai.Client)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//if question == &quot;æ–°å¯¹è¯&quot; &#123;</span></span><br><span class="line"><span class="comment">//messages = nil</span></span><br><span class="line"><span class="comment">//return &quot;æ–°å¯¹è¯å·²åˆ›å»º&quot;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//messages = append(messages, openai.ChatCompletionMessage&#123;</span></span><br><span class="line"><span class="comment">//Role:    openai.ChatMessageRoleUser,</span></span><br><span class="line"><span class="comment">//Content: question,</span></span><br><span class="line"><span class="comment">//&#125;)</span></span><br><span class="line"></span><br><span class="line">resp, err := client.CreateChatCompletion(</span><br><span class="line">context.Background(),</span><br><span class="line">openai.ChatCompletionRequest&#123;</span><br><span class="line">Model: openai.GPT3Dot5Turbo,</span><br><span class="line">Messages: []openai.ChatCompletionMessage&#123;</span><br><span class="line">&#123;</span><br><span class="line">Role:    openai.ChatMessageRoleUser,</span><br><span class="line">Content: question,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">messages = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">return</span> err.Error()</span><br><span class="line">&#125;</span><br><span class="line">content := resp.Choices[<span class="number">0</span>].Message.Content</span><br><span class="line"><span class="comment">//messages = append(messages, openai.ChatCompletionMessage&#123;</span></span><br><span class="line"><span class="comment">//Role:    openai.ChatMessageRoleAssistant,</span></span><br><span class="line"><span class="comment">//Content: content,</span></span><br><span class="line"><span class="comment">//&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> content</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ¥ç¼–å†™è°ƒç”¨é€»è¾‘ï¼Œæš‚æ—¶å·æ‡’æŠŠ qq å·å†™æ­»äº†ï¼Œæ¯•ç«Ÿä¹Ÿå°±æ˜¯å…ˆæµ‹è¯•ä¸€ä¸‹</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *MessageLogic)</span></span> Message(req *types.MessageRequest) (resp *types.MessageReply, err <span class="type">error</span>) &#123;</span><br><span class="line"></span><br><span class="line">trigger := <span class="string">&quot;[CQ:at,qq=2165526145] &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> req.PostType == <span class="string">&quot;message&quot;</span> &amp;&amp; req.MessageType == <span class="string">&quot;group&quot;</span> &amp;&amp; strings.HasPrefix(req.Message, trigger) &#123;</span><br><span class="line">l.Logger.Info(req)</span><br><span class="line">gptReply := gpt.Chat(strings.TrimPrefix(req.Message, trigger), l.svcCtx.GPTClient)</span><br><span class="line">l.Logger.Info(gptReply)</span><br><span class="line"><span class="keyword">return</span> &amp;types.MessageReply&#123;</span><br><span class="line">Reply: gptReply,</span><br><span class="line">&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥å°±å®Œæˆäº†ï¼Œæˆ‘æœ¬åœ°æµ‹è¯•èµ·æ¥æ˜¯èƒ½æ­£å¸¸å·¥ä½œçš„</p><h2 id="çº¿ä¸Šéƒ¨ç½²">çº¿ä¸Šéƒ¨ç½²</h2><p>ä¸‹é¢å°±æ˜¯æŠŠå®ƒéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šäº†ï¼Œæˆ‘æœ¬æ¥æ˜¯æƒ³ç”¨dockerçš„ï¼Œç»“æœdockerç‰ˆæœ¬çš„æ­»æ´»å¯åŠ¨ä¸èµ·æ¥ï¼Œæœ€åéº»äº†ç›´æ¥èµ·ä¸¤ä¸ªscreenè¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶</p><p>ä½†æ˜¯ç™»å½•çš„æ—¶å€™åˆé‡åˆ°äº†é—®é¢˜ï¼Œæ‰«ç ä¹‹åè…¾è®¯å±…ç„¶ä¸è®©æˆ‘ç™»å½•ï¼Œæ®è¯´æ˜¯æœ€è¿‘ä¸¥æ ¼äº†è¿˜é™åˆ¶è¦åŒä¸€ç½‘æ®µï¼ˆ</p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304011417687.png" alt="F274063B-3370-4461-8BAD-67D0A5D85C7E" style="zoom: 25%;" /><p>æˆ‘å¡åœ¨è¿™é‡Œæœ‰äº†ä¸€æ®µæ—¶é—´ï¼Œå¥½åœ¨ç¾¤å‹è¯´å¯ä»¥æŠŠç™»å½•çš„äº§ç”Ÿçš„ token å’Œä¸´æ—¶æ–‡ä»¶å¤åˆ¶ä¸Šå»ï¼Œç„¶åå°±å¯ä»¥äº†</p><p>ä¹Ÿå°±æ˜¯åŒä¸€ç›®å½•ä¸‹çš„ <code>session.token</code> å’Œ <code>data</code> æ–‡ä»¶å¤¹ï¼Œå°±åƒè¿™ä¸ªè§†é¢‘é‡Œé¢çš„ä¸€æ ·ï¼š<a href="https://www.bilibili.com/video/BV1Ux4y1F7cF">BV1Ux4y1F7cF</a></p><p>ç„¶åå°±å¯ä»¥å¼€å§‹ä½ çš„å¥‡æ€å¦™æƒ³äº†ï¼</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202304011429976.png" alt="image-20230401142911920"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¹‹å‰çœ‹è§è¿‡å¾ˆå¤š qq æœºå™¨äººçš„ä¾‹å­ï¼Œæ¯”å¦‚æŠŠ ChatGPT æ¥è¿›ç¾¤é‡Œä¹‹ç±»çš„ï¼Œç„¶åæœ€è¿‘æœ‰ç‚¹ç©ºé—²ï¼Œå¹¶ä¸”æ„Ÿè§‰å®¿èˆç¾¤é‡Œä¹Ÿç¼ºå°‘ä¸€äº›è‡ªåŠ¨åŒ–çš„å»ºè®¾ï¼Œå°±æ‰“ç®—ä¸Šæ‰‹åšä¸€ä¸ª&lt;/p&gt;
&lt;p&gt;åŠŸèƒ½ä¸Šçš„è®¾è®¡å…ˆåˆ«æé‚£ä¹ˆå¤æ‚ï¼Œå°±å…ˆæ¥ä¸ª ChatGPT ç®—äº†&lt;/p&gt;
&lt;p&gt;æˆ‘å°±å»é—®å…³äºqq æœºå™¨äººçš„æœ€ä½³å®è·µ</summary>
      
    
    
    
    <category term="QQ Bot" scheme="https://www.nickxu.top/categories/QQ-Bot/"/>
    
    
    <category term="QQ bot" scheme="https://www.nickxu.top/tags/QQ-bot/"/>
    
  </entry>
  
  <entry>
    <title>å‘Šåˆ«ELKï¼è½»é‡çº§æ—¥å¿—æ”¶é›†ç³»ç»ŸGrafana Lokiåˆä¸Šæ‰‹</title>
    <link href="https://www.nickxu.top/2023/03/18/%E5%91%8A%E5%88%ABELK%EF%BC%81%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9FGrafana-Loki%E5%88%9D%E4%B8%8A%E6%89%8B/"/>
    <id>https://www.nickxu.top/2023/03/18/%E5%91%8A%E5%88%ABELK%EF%BC%81%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9FGrafana-Loki%E5%88%9D%E4%B8%8A%E6%89%8B/</id>
    <published>2023-03-18T13:10:56.000Z</published>
    <updated>2023-04-25T07:48:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºæ—¥å¿—æ”¶é›†ï¼Œé„™äººæœ€æ—©æ¥è§¦åˆ°çš„æ˜¯ ELK é‚£ä¸€å¥—ï¼ˆElasticsearchã€Logstash å’Œ Kibanaï¼‰ï¼Œæœ€è¿‘æˆ‘é’è®­è¥çš„é¡¹ç›®ä¹Ÿæ˜¯<a href="https://hdu-help.feishu.cn/docx/KuGidErAIogvWDxcn2VcTrfUntb#part-R15Qdxms9o7RoQxlNDlcqc1Innd">å·®ä¸å¤šçš„æ¶æ„</a>ï¼Œä½†æ˜¯è¿™ä¸€å¥—ä¸‹æ¥èµ„æºå ç”¨ä¹Ÿå¤ªå¯æ€•äº†ï¼ˆç‰¹åˆ«æ˜¯ Elasticsearch ï¼Œå¤ªé‡äº†ï¼‰</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192126852.png" alt="image-20230319212648673"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192136627.png" alt="image-20230319213630597"></p><blockquote><p>go-zero å®˜æ–¹ä¹Ÿè¯´äº†ï¼Œè¿™ä¸€å¥—ä¸å»ºè®®åœ¨å°è§„æ¨¡çš„æœåŠ¡ä¸Šä½¿ç”¨ï¼Œè€Œæˆ‘ä¸€èˆ¬çš„å®é™…é¡¹ç›®ä¹Ÿæ²¡å¤šå¤§è§„æ¨¡ï¼Œæ ¹æœ¬ç”¨ä¸ä¸Šè¿™ä¹ˆé‡çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥æˆ‘éœ€è¦æ‰¾ä¸€å¥—æ›´è½»é‡çš„è§£å†³æ–¹æ¡ˆ</p></blockquote><p><a href="https://www.v2ex.com/t/694094">ç¿»äº†ä¸€åœˆ</a>ï¼Œæ„Ÿè§‰æ¨è Grafana + Loki çš„ä¸å°‘</p><p>ç„¶åæˆ‘å°±è·‘å» <a href="https://grafana.com/docs/loki/latest/">Lokiå®˜æ–¹æ–‡æ¡£</a>äº†</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192203626.png" alt="image-20230319220344596"></p><blockquote><p>è¿™æ˜¯å®˜æ–¹æ–‡æ¡£ä¸­çš„å¿«é€Ÿä¸Šæ‰‹çš„æ¶æ„å›¾ï¼Œä¸ºäº†è®©ä½ æ„Ÿå—å®ƒçš„å¯æ‰©å±•æ€§ï¼Œå°±æŠŠå†…éƒ¨çš„è¯»å†™éƒ¨åˆ†æ‹†å‡ºæ¥è¿è¡Œï¼Œå…¶å®ä¸ç”¨è¿™ä¹ˆå¤æ‚ï¼Œç›´æ¥ä¸€ä¸ªå•ä½“ä¹Ÿå¯ä»¥</p></blockquote><p>æŠ˜è…¾äº†ä¸€åœˆï¼Œå¤§æ¦‚æ˜¯è¿™ä¹ˆä¸ªé€»è¾‘ï¼šé¦–å…ˆæ˜¯è¦æœ‰ä¸€ä¸ª Clientï¼ˆä¾‹å¦‚å›¾ä¸­çš„ <strong>Promtail</strong> ï¼‰å»æ‹‰å–è¿è¡Œæ—¥å¿—å–‚ç»™ Loki ï¼Œç„¶å Loki å»è¯»å†™ Storageï¼ˆä¾‹å¦‚å›¾ä¸­çš„ <strong>Minio</strong> ï¼‰ï¼Œé‚£æ—¥å¿—è¦æ€ä¹ˆæ–¹ä¾¿åœ°æŸ¥çœ‹å‘¢ï¼Ÿç”¨ <strong>Grafana</strong> ï¼Œè¿™ä¸œè¥¿ç•Œé¢åšçš„çœŸçš„å¾ˆå¥½çœ‹</p><p>ä¸ºäº†è®©ä½ å¿«é€Ÿç†è§£ä¸ä¸Šæ‰‹ï¼Œæˆ‘ç®€åŒ–äº†ä¸€ä¸‹å®˜æ–¹ Demoï¼Œdocker-compose ä¸­åªåŒ…å«å››ä¸ªæœåŠ¡ï¼š</p><ul><li><p>äº§ç”Ÿæ—¥å¿—çš„ç¨‹åºï¼šå’Œå®˜æ–¹ä¸€æ ·ä½¿ç”¨äº† <a href="https://github.com/mingrammer/flog">flog</a> æ¥ä¸åœåœ°å‘æ ‡å‡†è¾“å‡ºä¸­æ”¾å…¥å‡æ—¥å¿—</p></li><li><p>Lokiï¼šç”¨äºæ‰“åŒ…æ—¥å¿—ã€æ‰“æ ‡ç­¾ç­‰</p></li><li><p>Clientï¼šç”¨äºæ‹‰å–æ—¥å¿—äº¤ç»™ Lokiï¼ŒLoki æ”¯æŒå¤šç§å®¢æˆ·ç«¯ï¼Œä½ å¯ä»¥åœ¨ <a href="https://grafana.com/docs/loki/latest/clients/#grafana-loki-clients">Grafana Loki clients</a> ä¸­æŸ¥çœ‹æ”¯æŒçš„æ‰€æœ‰å®¢æˆ·ç«¯</p><p>æˆ‘çŸ¥é“æœ‰ä¸€ä¸ª Docker Driver ï¼Œä½†æ˜¯è¿™ä¸œè¥¿è¦ç»™ Docker è£…æ’ä»¶ï¼Œæ„Ÿè§‰æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜æ˜¯å’Œå®˜æ–¹ä¾‹å­ä¸€æ ·ä½¿ç”¨äº† Promtail</p></li><li><p>Storageï¼šç”¨äºä¿å­˜æ—¥å¿—ï¼Œä½ å¯ä»¥åœ¨ <a href="https://grafana.com/docs/loki/latest/storage/#storage">Storage</a> ä¸­æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„å­˜å‚¨ä»‹è´¨ï¼Œç”šè‡³å­˜å‚¨ä¸ºæœ¬åœ°æ–‡ä»¶éƒ½è¡Œ</p><p>è¿™é‡Œå’Œå®˜æ–¹ä¾‹å­ä¸€æ ·ä½¿ç”¨äº†å…¼å®¹äºšé©¬é€Š S3åè®®çš„ minio ä½œä¸ºå­˜å‚¨ä»‹è´¨</p></li><li><p>Grafanaï¼šç”¨äºæä¾›ä¸€ä¸ªå¥½çœ‹çš„å¯è§†åŒ–ç•Œé¢</p></li></ul><p>å…ˆæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿›å»åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- docker-compose.yaml</span><br><span class="line">|-- loki-config.yaml</span><br><span class="line">`-- promtail-config.yaml</span><br></pre></td></tr></table></figure><p><code>docker-compose.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">loki:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">loki:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/loki:2.7.1</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">loki</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3100</span><span class="string">:3100</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./loki-config.yaml:/etc/loki/local-config.yaml</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-config.file=/etc/loki/local-config.yaml</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">minio</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">promtail:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/promtail:2.7.1</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">promtail</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./promtail-config.yaml:/etc/promtail/promtail-config.yaml</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/var/run/docker.sock:/var/run/docker.sock</span> <span class="comment"># ç›´æ¥æŠŠæœ¬æœºçš„dockerå¥—æ¥å­—æ˜ å°„è¿›å»ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥æŠ“å–æ‰€æœ‰å®¹å™¨çš„æ—¥å¿—äº†</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-config.file=/etc/promtail/promtail-config.yaml</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">grafana:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/grafana:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">grafana</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GF_PATHS_PROVISIONING=/etc/grafana/provisioning</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GF_AUTH_ANONYMOUS_ENABLED=true</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GF_AUTH_ANONYMOUS_ORG_ROLE=Admin</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3000</span><span class="string">:3000</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-config</span> <span class="string">/etc/grafana/grafana.ini</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">minio:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">minio/minio</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">minio</span></span><br><span class="line">    <span class="attr">entrypoint:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sh</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">-euc</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">|</span></span><br><span class="line"><span class="string">        mkdir -p /data/loki-data &amp;&amp; \</span></span><br><span class="line"><span class="string">        mkdir -p /data/loki-ruler &amp;&amp; \</span></span><br><span class="line"><span class="string">        minio server /data</span></span><br><span class="line"><span class="string"></span>    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_ACCESS_KEY=loki</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_SECRET_KEY=supersecret</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_PROMETHEUS_AUTH_TYPE=public</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_UPDATE=off</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">9000</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./.data/minio:/data</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">flog:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mingrammer/flog</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">flog</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-f</span> <span class="string">json</span> <span class="string">-d</span> <span class="string">1s</span> <span class="string">-l</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>loki-config.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">auth_enabled:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">http_listen_port:</span> <span class="number">3100</span></span><br><span class="line"><span class="attr">memberlist:</span></span><br><span class="line">  <span class="attr">join_members:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">loki:7946</span></span><br><span class="line"><span class="attr">schema_config:</span></span><br><span class="line">  <span class="attr">configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">from:</span> <span class="number">2021-08-01</span></span><br><span class="line">      <span class="attr">store:</span> <span class="string">boltdb-shipper</span></span><br><span class="line">      <span class="attr">object_store:</span> <span class="string">s3</span></span><br><span class="line">      <span class="attr">schema:</span> <span class="string">v11</span></span><br><span class="line">      <span class="attr">index:</span></span><br><span class="line">        <span class="attr">prefix:</span> <span class="string">index_</span></span><br><span class="line">        <span class="attr">period:</span> <span class="string">24h</span></span><br><span class="line"><span class="attr">common:</span></span><br><span class="line">  <span class="attr">path_prefix:</span> <span class="string">/loki</span></span><br><span class="line">  <span class="attr">replication_factor:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">storage:</span></span><br><span class="line">    <span class="attr">s3:</span></span><br><span class="line">      <span class="attr">endpoint:</span> <span class="string">http://minio:9000</span></span><br><span class="line">      <span class="attr">insecure:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">bucketnames:</span> <span class="string">loki-data</span></span><br><span class="line">      <span class="attr">access_key_id:</span> <span class="string">loki</span></span><br><span class="line">      <span class="attr">secret_access_key:</span> <span class="string">supersecret</span></span><br><span class="line">      <span class="attr">s3forcepathstyle:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ring:</span></span><br><span class="line">    <span class="attr">kvstore:</span></span><br><span class="line">      <span class="attr">store:</span> <span class="string">memberlist</span></span><br><span class="line"><span class="attr">ruler:</span></span><br><span class="line">  <span class="attr">storage:</span></span><br><span class="line">    <span class="attr">s3:</span></span><br><span class="line">      <span class="attr">bucketnames:</span> <span class="string">loki-ruler</span></span><br></pre></td></tr></table></figure><p><code>promtail-config.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">http_listen_port:</span> <span class="number">9080</span></span><br><span class="line">  <span class="attr">grpc_listen_port:</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">positions:</span></span><br><span class="line">  <span class="attr">filename:</span> <span class="string">/tmp/positions.yaml</span></span><br><span class="line"></span><br><span class="line"><span class="attr">clients:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">http://loki:3100/loki/api/v1/push</span></span><br><span class="line">    <span class="attr">tenant_id:</span> <span class="string">tenant1</span></span><br><span class="line"></span><br><span class="line"><span class="attr">scrape_configs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">flog_scrape</span> </span><br><span class="line">    <span class="attr">docker_sd_configs:</span> <span class="comment"># å¯¹äºpromtailæ¥è¯´ï¼Œåˆå¯ä»¥å®šä¹‰å„ç§æ—¥å¿—æ¥æºï¼Œè¯·è§ https://grafana.com/docs/loki/latest/clients/promtail/configuration/#scrape_configs</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">unix:///var/run/docker.sock</span> <span class="comment"># è¿™é‡Œç›´æ¥ä»dockerå¥—æ¥å­—æ‹¿æ—¥å¿—</span></span><br><span class="line">        <span class="attr">refresh_interval:</span> <span class="string">5s</span></span><br><span class="line">    <span class="attr">relabel_configs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">source_labels:</span> [<span class="string">&#x27;__meta_docker_container_name&#x27;</span>] <span class="comment"># æ ¹æ®å®¹å™¨åæ‰“æ ‡ç­¾åˆ†ç±»</span></span><br><span class="line">        <span class="attr">regex:</span> <span class="string">&#x27;/(.*)&#x27;</span></span><br><span class="line">        <span class="attr">target_label:</span> <span class="string">&#x27;container&#x27;</span> <span class="comment"># æ ‡ç­¾åä¸º container</span></span><br></pre></td></tr></table></figure><p>å‡†å¤‡å¥½äº†ä¹‹åï¼Œè¿è¡Œ docker-compose æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure><p>ç„¶åæ¥åˆ° <a href="http://127.0.0.1:3000/">127.0.0.1:3000</a> è¿›å…¥Grafana</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192242367.png" alt="image-20230319224216330"></p><p>ç‚¹å‡»å·¦ä¸‹è§’æ·»åŠ æ•°æ®æºï¼Œé€‰æ‹© Loki</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192243339.png" alt="image-20230319224322305"></p><p>URLå¡«å†™ä¸º <code>http://loki:3100</code></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192244031.png" alt="image-20230319224436992"></p><p>å†æ¥åˆ° Exploreï¼Œé€‰æ‹©è¦çœ‹çš„å®¹å™¨ä¸º flog</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192244370.png" alt="image-20230319224456334"></p><p>å®ƒå±…ç„¶ä¼šè‡ªåŠ¨æç¤ºä½ æ·»åŠ  JSON è§£æ</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192246491.png" alt="image-20230319224653449"></p><p>ç„¶åä½ å°±å¯ä»¥æ ¹æ®å­—æ®µæ·»åŠ æ£€ç´¢æ¡ä»¶äº†ï¼Œæ¯”æ–¹è¯´çŠ¶æ€ç é™å®šä¸º 200</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303192247842.png" alt="image-20230319224734800"></p><p>æˆ‘åªèƒ½è¯´ç®€ç›´ä¸è¦å¤ªèˆ’æœäº†</p><p>æ¥ä¸‹æ¥ä½ å°±å¯ä»¥æŠŠè¿™ä¸€å¥—æ”¾åœ¨ä½ çš„é¡¹ç›®é‡Œé¢äº†ï¼Œä½ å¯ä»¥ç›‘å¬æŸä¸ªå®¹å™¨ï¼Œæˆ–è€…ç›‘å¬æŸä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œåˆæˆ–è€…ç›‘å¬æŸä¸ªå¡å¤«å¡é˜Ÿåˆ—ï¼Œéƒ½å¯ä»¥ï¼Œéšä¾¿ä½ æŠ˜è…¾äº†</p><p>ï¼ˆPSï¼šä½ çš„å®¹å™¨ä¸èƒ½å¯ç”¨ <code>tty</code>  <a href="https://github.com/grafana/loki/issues/5950#issuecomment-1223979118">https://github.com/grafana/loki/issues/5950#issuecomment-1223979118</a> ï¼‰</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303201236992.png" alt="image-20230320123644774"></p><p>æœ€åæ¥çœ‹çœ‹èµ„æºå ç”¨ï¼Œå†…å­˜ 200MB å·¦å³ï¼Œç›¸å¯¹æ¥è¯´è½»é‡äº†ä¸å°‘</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å…³äºæ—¥å¿—æ”¶é›†ï¼Œé„™äººæœ€æ—©æ¥è§¦åˆ°çš„æ˜¯ ELK é‚£ä¸€å¥—ï¼ˆElasticsearchã€Logstash å’Œ Kibanaï¼‰ï¼Œæœ€è¿‘æˆ‘é’è®­è¥çš„é¡¹ç›®ä¹Ÿæ˜¯&lt;a href=&quot;https://hdu-help.feishu.cn/docx/KuGidErAIogvWDxcn2VcTrfUntb</summary>
      
    
    
    
    <category term="è¿ç»´" scheme="https://www.nickxu.top/categories/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="æ—¥å¿—æ”¶é›†" scheme="https://www.nickxu.top/categories/%E8%BF%90%E7%BB%B4/%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/"/>
    
    
    <category term="è¿ç»´" scheme="https://www.nickxu.top/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>äºšè¿èµ›ä¼šå¿—æ„¿è€…é€šç”¨åŸ¹è®­</title>
    <link href="https://www.nickxu.top/2023/03/18/%E4%BA%9A%E8%BF%90%E8%B5%9B%E4%BC%9A%E5%BF%97%E6%84%BF%E8%80%85%E9%80%9A%E7%94%A8%E5%9F%B9%E8%AE%AD/"/>
    <id>https://www.nickxu.top/2023/03/18/%E4%BA%9A%E8%BF%90%E8%B5%9B%E4%BC%9A%E5%BF%97%E6%84%BF%E8%80%85%E9%80%9A%E7%94%A8%E5%9F%B9%E8%AE%AD/</id>
    <published>2023-03-18T03:06:57.000Z</published>
    <updated>2023-03-20T05:07:39.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303181107743.png" alt="26B3608C-8FD3-41BB-8D99-858BB38BA514"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303201307475.png" alt="image-20230320130701406"></p><hr><h1 id="æ­å·äºšè¿ä¼šåŠèµ›ä¼šå¿—æ„¿æœåŠ¡æ¦‚è¿°">æ­å·äºšè¿ä¼šåŠèµ›ä¼šå¿—æ„¿æœåŠ¡æ¦‚è¿°</h1><p>å¿—æ„¿è€…å«ä¹‰</p><ul><li>è‡ªæ„¿</li><li>ä¸è°‹ç‰©è´¨æŠ¥é…¬</li><li>æœåŠ¡äºç¤¾ä¼šå…¬ç›Š</li><li>å¥‰çŒ®åŠ›æ‰€èƒ½åŠ</li><li>éæœ¬èŒå·¥ä½œ</li></ul><p>ä¸­å›½é’å¹´å¿—æ„¿è€…ç²¾ç¥</p><ul><li>å¥‰çŒ®</li><li>å‹çˆ±</li><li>äº’åŠ©</li><li>è¿›æ­¥</li></ul><p>å¿—æ„¿è€…åŸºæœ¬è¡Œä¸ºè§„èŒƒ</p><ul><li>ä¸‰ä¼š<ol><li>ä¼šç«™</li><li>ä¼šç¬‘ï¼ˆéš¾ï¼‰</li><li>ä¼šè¯´</li></ol></li><li>ä¸‰çŸ¥<ol><li>çŸ¥é“è‡ªå·±çš„ä½ç½®</li><li>çŸ¥é“åˆ«äººé—®çš„ä½ç½®</li><li>çŸ¥é“å«ç”Ÿé—´ã€åŒ»ç–—ç‚¹ã€AEDåŠå®‰å…¨å‡ºå£</li></ol></li><li>ä¸‰æ•‘<ol><li>è‡ªæ•‘ï¼ˆåŒ…æ‹¬ä¸è¦æ³„éœ²è”ç³»æ–¹å¼ç»™ä»»ä½•äºº</li><li>æ–½æ•‘</li><li>å‘è°æ±‚åŠ©</li></ol></li><li>ä¸‰å—<ol><li>å—è‹¦</li><li>å—ç´¯</li><li>å—å§”å±ˆ</li></ol></li><li>äº”å®š<ol><li>å®šäºº</li><li>å®šå²—</li><li>å®šæ—¶</li><li>å®šäº‹</li><li>å®šè´£</li></ol></li></ul><p>ç†Ÿè®°äºšè¿ä¼šæ ‡å¿—ä»¥åŠå‰ç¥¥ç‰©ï¼ˆç•¥</p><p>å¿—æ„¿è€…å£å·ï¼šæ¥å§ï¼Œæœ‹å‹ï¼ˆfriends uniteï¼ï¼‰</p><p>å¿—æ„¿è€…ä¹‹æ­Œï¼šç­‰ä½ æ¥</p><p>å²—ä½æœåŠ¡èƒ½åŠ›è¦æ±‚</p><p>è¯­è¨€æ²Ÿé€šèƒ½åŠ›</p><p>åˆä½œèƒ½åŠ›</p><p>åº”å˜èƒ½åŠ›</p><hr><h1 id="å¿—æ„¿æœåŠ¡é€šç”¨ç¤¼ä»ª">å¿—æ„¿æœåŠ¡é€šç”¨ç¤¼ä»ª</h1><h2 id="åŸºæœ¬åŸåˆ™"><strong>åŸºæœ¬åŸåˆ™</strong></h2><ul><li>å¹³ç­‰</li><li>å°Šé‡</li><li>å®½å®¹</li><li>é€‚åº¦</li><li>è‡ªå¾‹</li></ul><h2 id="å½¢è±¡å¡‘é€ "><strong>å½¢è±¡å¡‘é€ </strong></h2><ul><li><p>å¤´å‘ ç”·ï¼šå‰ä¸è¦†é¢ åä¸è§¦é¢† ä¾§ä¸æ©è€³ å¥³ï¼šå‰ä¸é®çœ‰ å‘ä¸æŠ«æ•£ è¿‡è‚©ç›˜èµ·</p></li><li><p>é¢éƒ¨ äº”å®˜</p></li><li><p>è‚¢ä½“</p></li><li><p>ç»Ÿä¸€ç€è£…</p></li><li><p>ç€è£…æ•´æ´</p></li><li><p>é…é¥°è¦æ±‚</p></li></ul><h2 id="ç¤¼ä»ªè§„èŒƒ"><strong>ç¤¼ä»ªè§„èŒƒ</strong></h2><ul><li>ç«™ æŠ¬å¤´æŒºèƒ¸</li><li>å äºŒåˆ†ä¹‹ä¸€ å·¦è¿›å·¦å‡º</li><li>èµ° æˆè¡Œæˆåˆ—</li><li>è¹² é«˜ä½å¼ åŠè·ªå¼ äº¤å‰å¼</li></ul><p>ä¸‰æ–¹ä»‹ç»ï¼šå°Šè€…ä¼˜å…ˆ</p><p>å¼•é¢†ï¼šèµ°è·¯ä¸Šä¸‹æ¥¼æ¢¯ç”µæ¢¯å‡ºå…¥å£ï¼ˆç•¥ï¼‰</p><h2 id="æ–‡æ˜ç”¨è¯­"><strong>æ–‡æ˜ç”¨è¯­</strong></h2><p>ä¸è¦è¯´ï¼šä¸å½’æˆ‘ç®¡ ä¸çŸ¥é“ä¸ä¼š</p><p>è¯¥è¯´ä¸çš„æ—¶å€™è¦è¯´ä¸</p><hr><h1 id="ä¸Šå²—è¦æ±‚åŠçºªå¾‹è§„èŒƒ">ä¸Šå²—è¦æ±‚åŠçºªå¾‹è§„èŒƒ</h1><h2 id="å²—å‰å‡†å¤‡">å²—å‰å‡†å¤‡</h2><ul><li><p>åƒè‹¦å—ç´¯</p></li><li></li><li><p>å²—ä½å·®å¼‚</p></li><li><p>é­å—å§”å±ˆ</p></li><li><p>ç†Ÿæ‚‰å·¥ä½œå†…å®¹åŠå‘¨è¾¹ç¯å¢ƒ</p></li><li><p>èµ›äº‹å®‰æ’åŠæœ‰å…³ä¿¡æ¯ï¼ˆèµ›äº‹ã€åŸå¸‚ï¼‰</p></li><li><p>çªå‘äº‹ä»¶åº”å¯¹å¤„ç†</p></li><li><p>ä¸“ä¸šæŠ€èƒ½å‡†å¤‡</p></li><li><p>è¯´è¯åšäº‹ç¬¦åˆç¤¼ä»ªè¦æ±‚</p></li><li><p>åšå¥½ä½“èƒ½å‡†å¤‡</p></li></ul><h2 id="åŸºæœ¬è¦æ±‚">åŸºæœ¬è¦æ±‚</h2><h3 id="ä¸šåŠ¡æ“ä½œèƒ½åŠ›">ä¸šåŠ¡æ“ä½œèƒ½åŠ›</h3><ul><li>éµå®ˆé˜²ç–«è¦æ±‚</li><li>åšå®ˆå·¥ä½œå²—ä½</li><li>è®¤çœŸå±¥è¡ŒèŒè´£ï¼ˆå°½èŒå°½è´£ã€é€šè®¯ç•…é€šã€é¦–é—®è´Ÿè´£å¯¹å£æ¥å¾…</li><li>è½¬æ¢æœŸé€‚åº”è°ƒæ•´</li><li>å›¢é˜Ÿæ„è¯†</li><li>æ±‡æŠ¥æ€»ç»“</li></ul><h3 id="ç¤¼ä»ªåº”ç”¨èƒ½åŠ›">ç¤¼ä»ªåº”ç”¨èƒ½åŠ›</h3><ul><li>ç»Ÿä¸€ç€è£…</li><li>åŸºæœ¬åŸåˆ™ï¼šå¹³ç­‰é€‚åº¦æ‰¿è¯ºæƒ¯ä¾‹</li><li>ç¤¼ä»ªè§„èŒƒï¼ˆç•¥</li></ul><h3 id="æ²Ÿé€šåŠ›">æ²Ÿé€šåŠ›</h3><p>ç•¥</p><h3 id="åˆ›é€ åŠ›">åˆ›é€ åŠ›</h3><h3 id="æ„ŸçŸ¥åŠ›">æ„ŸçŸ¥åŠ›</h3><h3 id="å˜é€šåŠ›">å˜é€šåŠ›</h3><h2 id="é‡è¦åˆ¶åº¦">é‡è¦åˆ¶åº¦</h2><ul><li><p>è€ƒå‹¤åˆ¶åº¦</p></li><li><p>è¯·å‡åˆ¶åº¦</p></li><li><p>ä¼šè®®åˆ¶åº¦</p></li><li><p>å®£ä¼ åˆ¶åº¦</p></li><li><p>èˆ†æƒ…æŠ¥é€åˆ¶åº¦</p></li><li><p>æ¿€åŠ±åˆ¶åº¦</p></li><li><p>ç£æŸ¥åˆ¶åº¦</p></li></ul><h2 id="15ä¸çºªå¾‹è¦æ±‚">15ä¸çºªå¾‹è¦æ±‚</h2><ol><li>å±å®³å›½å®¶å®‰å…¨å’Œåˆ©ç›Š</li><li>æ³„æ¼å·¥ä½œç§˜å¯†</li><li>æ³„éœ²éšç§</li><li>è¿æ³•ç€è£…å’Œå½¢è±¡çºªå¾‹</li><li>è¿Ÿåˆ°æ—©é€€</li><li>å‡ºå€Ÿæœè£…è¯ä»¶</li><li>å®—æ•™æ´»åŠ¨</li><li>æ¥è§¦çœ‹æƒ¯ä»–äººé’±ç‰©</li><li>å°è´¹ã€å•†ä¸šè¡Œä¸º</li><li>åˆ©ç”¨å·¥ä½œä¹‹ä¾¿è·å–ä¸ªäººåˆ©ç›Š</li><li>æ“…è‡ªæ•£æ’­ä¿¡æ¯</li><li>æ“…è‡ªæ¥å—åª’ä½“é‡‡è®¿</li><li>è¿æ³•å²—ä½å®‰æ’</li><li>è¶…å‡ºåŒºåŸŸ</li><li>è¿åé˜²ç–«è¦æ±‚</li></ol><h2 id="çºªå¾‹è¦æ±‚">çºªå¾‹è¦æ±‚</h2><p>ç•¥</p><h2 id="è¿è§„å¤„ç†åŠæ³•">è¿è§„å¤„ç†åŠæ³•</h2><p>ç•¥</p><hr><h1 id="äºšè¿åŠ©æ®‹å¿—æ„¿æœåŠ¡çŸ¥è¯†ä¸æŠ€èƒ½">äºšè¿åŠ©æ®‹å¿—æ„¿æœåŠ¡çŸ¥è¯†ä¸æŠ€èƒ½</h1><h2 id="æ­å·äºšæ®‹è¿ä¼šæ¦‚å†µ">æ­å·äºšæ®‹è¿ä¼šæ¦‚å†µ</h2><p>ç•¥</p><h2 id="åŠ©æ®‹å¿—æ„¿æœåŠ¡é¡»çŸ¥">åŠ©æ®‹å¿—æ„¿æœåŠ¡é¡»çŸ¥</h2><p>æ®‹éšœäººå£«çš„å…±æ€§å¿ƒç†ç‰¹ç‚¹</p><ul><li>å­¤ç‹¬</li><li>è‡ªå‘</li><li>æ•æ„ŸçŒœç–‘</li><li>æƒ…ç»ªå¼ºä¸”ä¸ç¨³å®š</li><li>æŠ±æ€¨å¿ƒç†çªå‡º</li><li>å¯Œæœ‰åŒæƒ…å¿ƒ</li></ul><p>åŸºæœ¬åŸåˆ™</p><ul><li>å¹³ç­‰å°Šé‡</li><li>çƒ­æƒ…å‹¤å¿«</li><li>å¸®åŠ©é€‚å½“</li></ul><p>æœåŠ¡ç†å¿µ</p><ol><li>ç†è§£éœ€æ±‚</li><li>å°Šé‡ä¸ªæ€§</li><li>æ³¨é‡ç»†èŠ‚</li></ol><p>æ³¨æ„äº‹é¡¹</p><ul><li>ç”¨è¯ç¦å¿Œ</li><li>çœ¼ç¥ç¦å¿Œ</li><li>å››ä¸ï¼šä¸çœ‹æ®‹éšœéƒ¨ä½ã€ä¸é—®åŸå› ã€ä¸ç¢°è¾…åŠ©ç”¨å…·ã€ä¸è®®è®ºæƒŠè®¶å¥½å¥‡</li></ul><h2 id="åŠ©æ®‹å¿—æ„¿æœåŠ¡åŸºæœ¬æŠ€èƒ½">åŠ©æ®‹å¿—æ„¿æœåŠ¡åŸºæœ¬æŠ€èƒ½</h2><h3 id="è§†åŠ›éšœç¢è€…">è§†åŠ›éšœç¢è€…</h3><p>è§†åŠ›éšœç¢è€…çš„å¿ƒç†ç‰¹ç‚¹</p><ul><li>å¿ƒç†ç‰¹æ®Š</li><li>å¬è§‰çªå‡º</li><li>å°é—­è‡ªæˆ‘</li></ul><p>åŸºæœ¬ç¤¼ä»ª</p><ol><li><p>äº¤è°ˆå‰ï¼š1-2ç±³ï¼Œæœ‰å£°éŸ³æç¤ºã€è¯­éŸ³å¹³å’Œ</p><p>ç¦»å¼€æ—¶ï¼šå‘ŠçŸ¥å¯¹æ–¹</p></li><li><p>åˆæ¬¡ç›¸è¯†ï¼šå°½é‡å¤šåœ°å‘ŠçŸ¥è‡ªå·±çš„ä¿¡æ¯</p></li><li><p>æŒ‡æŒ¥æ–¹ä½ï¼šä»¥å¯¹æ–¹å·¦å³ä¸ºæ–¹ä½</p></li><li><p>è®©å…¶è·Ÿç€èµ°ï¼Œä¸è¦æ‹½ç€èµ°ï¼Œåšä»–çš„çœ¼ç›ä¸è¦åšä»–çš„æ‰‹</p></li><li><p>åˆ‡å¿Œçªƒçªƒç§è¯­æˆ–äº’ç›¸ç”¨æ‰‹åŠ¿äº¤æµ</p></li><li><p>ç”¨é¤ï¼šå…¬ç­·å¤¹åˆ°ç›˜ä¸­ã€æŠ¥èœå</p></li><li><p>ä¸è¦è¿‡åº¦ä»£åŠ³</p></li><li><p>ä¸è¦é¢†åˆ°æ²³æ²Ÿè¾¹ã€äº•ç›–è¾¹å’Œè½¦æµé‡å¤§ç­‰åœ°æ–¹ï¼Œè¦å¸®åŠ©å›é¿éšœç¢ç‰©</p></li><li><p>ä¸è¦æ”¹å˜ä½¿ç”¨ç‰©å“ç­‰æ‘†æ”¾ä½ç½®</p></li></ol><p>æŠ€å·§</p><p><s>è‡ªå·±çœ‹è§†é¢‘ï¼ˆbushi</s></p><h3 id="è‚¢ä½“æ®‹éšœè€…">è‚¢ä½“æ®‹éšœè€…</h3><p>å¿ƒç†ç‰¹ç‚¹</p><ul><li>æœ‰ç‹¬ç«‹æ€§åˆæœ‰ä¾èµ–æ€§</li><li>ä¸å–œæ¬¢ä»–äººè¿‡å¤šè´£å¤‡æ„ŸæŸ“æˆ–æ§åˆ¶</li><li>ä¸å¾—ä¸ä¾é ä»–äººå¸®åŠ©æ¥è§£å†³åŠ›ä¸ä»å¿ƒçš„å®é™…é—®é¢˜</li></ul><p>åŸºæœ¬ç¤¼ä»ª</p><ol><li>ä¸å¾—è¿‡å¤šå…³æ³¨æ®‹éšœéƒ¨ä½</li><li>ä¸è½®æ¤…è€…äº¤è°ˆï¼šè¹²å§¿</li><li>ç†Ÿæ‚‰è½®æ¤…å’Œæ— éšœç¢ç¯å¢ƒ</li></ol><p>å¯¹è½®æ¤…ä½¿ç”¨è€…ï¼š</p><ul><li>è…¿éƒ¨å’Œè…°å‘åŠ›</li><li>ä¸è¦æ€¥åœæ€¥èµ·</li><li>ç”µæ¢¯è¦å€’ç€è¿›æ­£ç€å‡º</li></ul><p><s>åˆä¸€ä¸ªè§†é¢‘</s></p><h3 id="å¿ƒæ™ºéšœç¢è€…">å¿ƒæ™ºéšœç¢è€…</h3><ol><li>æƒ…æ„Ÿè¡Œä¸ºéšœç¢</li><li>äº¤æµæ„æ„¿ã€å¯¹ä»–äººçš„å…³ç³»ç¨‹åº¦ä½</li><li>è¯­è¨€éšœç¢</li></ol><p>åŸºæœ¬ç¤¼ä»ªï¼ˆç•¥</p><p>æŠ€å·§</p><ul><li>é€Ÿåº¦è¦æ…¢</li><li>â€¦</li></ul><h3 id="å¬åŠ›æ®‹éšœè€…">å¬åŠ›æ®‹éšœè€…</h3><p>åŸºæœ¬ç¤¼ä»ª</p><ol><li>å¾®ç¬‘ç”¨æ‰‹è¯­é—®å¥½</li><li>æ³¨æ„æ‰‹è¯­å‡†ç¡®æ€§å’Œè¡¨æƒ…é…åˆ</li></ol><p>æŠ€å·§</p><ol><li>éšèº«æºå¸¦çº¸ç¬”</li></ol><p><s>åˆä¸€ä¸ªè§†é¢‘</s></p><h2 id="æ¯”èµ›ä¸­çš„ç‰¹æ®Šå¸®åŠ©">æ¯”èµ›ä¸­çš„ç‰¹æ®Šå¸®åŠ©</h2><p>ç•¥</p><h2 id="æ— éšœç¢ç¯å¢ƒä¸æ— éšœç¢è®¾æ–½ç±»åˆ«">æ— éšœç¢ç¯å¢ƒä¸æ— éšœç¢è®¾æ–½ç±»åˆ«</h2><p>åˆä¸€ä¸ªè§†é¢‘</p><p>æ— éšœç¢ç¯å¢ƒæ¦‚å¿µ</p><ul><li>ç‰©è´¨ç¯å¢ƒæ— éšœç¢</li><li>ä¿¡æ¯è·å–æ— éšœç¢</li></ul><h2 id="äºšè¿ä¼šè§‚ä¼—å¼•å¯¼å¿—æ„¿è€…é¡»çŸ¥">äºšè¿ä¼šè§‚ä¼—å¼•å¯¼å¿—æ„¿è€…é¡»çŸ¥</h2><p>ç•¥</p><hr><h1 id="å¤§å‹èµ›ä¼šå¿—æ„¿è€…æœåŠ¡åº”æ€¥äº‹ä»¶åº”å¯¹ä¸è‡ªæˆ‘ä¿æŠ¤">å¤§å‹èµ›ä¼šå¿—æ„¿è€…æœåŠ¡åº”æ€¥äº‹ä»¶åº”å¯¹ä¸è‡ªæˆ‘ä¿æŠ¤</h1><h2 id="äº‹ä»¶åˆ†ç±»åŠåº”å¯¹åŸåˆ™">äº‹ä»¶åˆ†ç±»åŠåº”å¯¹åŸåˆ™</h2><p>åˆ†ç±»</p><ul><li>Açº§ï¼šç«ç¾è¸©è¸ã€‚ç»„å§”ä¼šå¤„ç†</li><li>Bçº§ï¼šè´Ÿé¢èˆ†è®ºã€å¿—æ„¿è€…æ— æ³•æŒ‰æ—¶ç”¨é¤ç­‰ã€‚åœºé¦†è´Ÿè´£äººæˆ–ä¸»ä»»è´Ÿè´£</li><li>Cçº§ï¼šå¿—æ„¿è€…å—ä¼¤ã€‚å¸¦é˜Ÿè€å¸ˆå¤„ç†</li></ul><p>åº”å¯¹åŸåˆ™</p><ul><li><strong>ç¡®ä¿å®‰å…¨</strong></li><li><strong>è¿…é€Ÿä¸ŠæŠ¥</strong></li><li>åˆç†åº”å¯¹</li><li>ç§¯æè½¬åŒ–</li><li>é¢„é˜²ç›‘ç£</li></ul><h2 id="è‡ªæˆ‘ä¿æŠ¤">è‡ªæˆ‘ä¿æŠ¤</h2><p>ä¸é€‚å®œå¿—æ„¿è€…çš„å·¥ä½œ</p><ul><li>å¿—æ„¿è€…åº”æ‰®æ¼”ååŠ©è§’è‰²</li><li>ä¸æ‰¿æ‹…é‡å¤§ç®¡ç†è´£ä»»ã€å®‰å…¨è´£ä»»è´¢åŠ¡è´£ä»»ã€é‡ä½“åŠ›åŠ³åŠ¨ã€éœ€è¦ä¸“é—¨åŠ³åŠ¨æŠ€èƒ½æˆ–åŠ³åŠ¨ä¿æŠ¤ç­‰å·¥ä½œ</li></ul><p>ä¸»è¦å†…å®¹</p><ul><li>é˜²ç–«</li><li>ç¯å¢ƒå’Œè®¾æ–½</li><li>äº¤å¾€</li><li>è´¢åŠ¡</li></ul><h3 id="é˜²ç–«">é˜²ç–«</h3><p>ç•¥</p><h3 id="ç¯å¢ƒå’Œè®¾æ–½">ç¯å¢ƒå’Œè®¾æ–½</h3><ul><li>ä¿è¯äººèº«å‘¨è¾¹ç¯å¢ƒå®‰å…¨</li><li>ç†Ÿè®°å®‰å…¨å‡ºå£æ¶ˆé˜²æ “ç­‰ä½ç½®</li></ul><h3 id="äº¤å¾€å®‰å…¨">äº¤å¾€å®‰å…¨</h3><ul><li>ä¸å¾—å•ç‹¬è¿›å…¥æœåŠ¡å¯¹è±¡çš„å§å®¤æˆ–æ›´è¡£å®¤</li><li>å°½é‡ä¸è¦å•ç‹¬ç›¸å¤„</li><li>ä¸å¾—è¶…å‡ºæœåŠ¡èŒƒå›´æœåŠ¡</li></ul><h3 id="è´¢åŠ¡å®‰å…¨">è´¢åŠ¡å®‰å…¨</h3><ul><li><p>ç°åœºæœåŠ¡æœŸé—´å°½é‡å°‘å¸¦ä¸œè¥¿ï¼Œå®¹æ˜“æ··æ·†çš„ç‰©å“åº”åšå¥½ä¸ªäººæ ‡è¯†</p></li><li><p>ä¸Šä¸‹è½¦ä¸œè¥¿å¸¦é½</p></li></ul><h2 id="å¸¸è§åº”æ€¥äº‹ä»¶å¤„ç†">å¸¸è§åº”æ€¥äº‹ä»¶å¤„ç†</h2><h3 id="å·¥ä½œç¯å¢ƒäº§ç”Ÿçš„é—®é¢˜">å·¥ä½œç¯å¢ƒäº§ç”Ÿçš„é—®é¢˜</h3><ul><li>å¤©æ°”æ¶åŠ£</li><li>æœåŠ¡ç¯å¢ƒå·®</li><li>ç”µæ¢¯æ•…éšœ</li></ul><h3 id="è‡ªèº«é‡åˆ°çš„é—®é¢˜">è‡ªèº«é‡åˆ°çš„é—®é¢˜</h3><ul><li>èº«ä½“ä¸é€‚</li><li>æ„å¤–ä¼¤å®³</li><li>å®¶åº­å˜æ•…</li></ul><p>ä»»ä½•å¼‚å¸¸åŠæ—¶æ±‡æŠ¥</p><h3 id="æœåŠ¡å¯¹è±¡äº§ç”Ÿçš„é—®é¢˜">æœåŠ¡å¯¹è±¡äº§ç”Ÿçš„é—®é¢˜</h3><ul><li>ä¸å¬ä»æŒ‡æŒ¥åŠéªšæ‰°å¿—æ„¿è€…ï¼šè€å¿ƒåŠè¯´ã€ç¡®ä¿è‡ªèº«å®‰å…¨ã€å‘ä¸šåŠ¡é¢†åŸŸå·¥ä½œäººå‘˜æ±‚åŠ©</li><li>æœåŠ¡å¯¹è±¡æ‹¿å‡ºä¸å½“å®£ä¼ èµ„æ–™ï¼šç¡®ä¿è‡ªèº«å®‰å…¨çš„æƒ…å†µä¸‹ï¼Œå¯è¿…é€Ÿæ”¶å–ï¼Œåˆ«ç†è®º</li><li>æœåŠ¡å¯¹è±¡å—ä¼¤ï¼šåŠæ—¶ååŠ©è”ç³»ä¸ŠæŠ¥ï¼Œæƒ…å†µå±æ€¥ä¸”æœ‰ä¸€å®šèƒ½åŠ›å¯ä»¥ååŠ©å¤„ç½®</li><li>å¿—æ„¿è€…ä¸æœåŠ¡å¯¹è±¡å‘ç”Ÿå†²çªï¼šä¸å¾—å‘ç”Ÿè¯­è¨€å’Œè‚¢ä½“å†²çªï¼ŒæŠŠè‡ªå·±äººå¸¦ç¦»æœåŠ¡åŒºåŸŸï¼Œä¸è¦æ‹è§†é¢‘</li></ul><h3 id="åå‹¤ä¿éšœäº§ç”Ÿçš„é—®é¢˜">åå‹¤ä¿éšœäº§ç”Ÿçš„é—®é¢˜</h3><ul><li>è½¦è¾†æ— æ³•è¾¾åˆ°</li><li>ç”¨é¤æ— æ³•æŒ‰æ—¶ä¿è¯</li></ul><p>æ‰¾è€å¸ˆå°±æ˜¯äº†</p><h2 id="é‡å¤§å®‰å…¨äº‹ä»¶">é‡å¤§å®‰å…¨äº‹ä»¶</h2><p>Açº§äº‹ä»¶</p><ul><li>äº¤é€šäº‹æ•…</li><li>è§¦ç”µäº‹æ•…</li><li>ç«ç¾äº‹æ•…</li><li>å»ºç­‘åå¡Œ</li><li>ç¤¾ä¼šå®‰å…¨äº‹ä»¶</li></ul><hr><h1 id="æ€¥æ•‘çŸ¥è¯†ä¸æŠ€èƒ½">æ€¥æ•‘çŸ¥è¯†ä¸æŠ€èƒ½</h1><h2 id="å¿ƒè‚ºå¤è‹æœ¯ï¼ˆCPRï¼‰">å¿ƒè‚ºå¤è‹æœ¯ï¼ˆCPRï¼‰</h2><h3 id="è¯†åˆ«å¿ƒè„éª¤åœ">è¯†åˆ«å¿ƒè„éª¤åœ</h3><ul><li>æ— ååº”æ„è¯†</li><li>æ— å‘¼å¸æˆ–ä»…æœ‰å–˜æ¯æ ·å‘¼å¸</li><li>æ— è„‰æï¼ˆç”±ä¸“ä¸šäººå‘˜æ£€æŸ¥ï¼‰</li></ul><h3 id="å·¥ä½œæµç¨‹">å·¥ä½œæµç¨‹</h3><p>è§‚å¯Ÿç¯å¢ƒ-åˆ¤æ–­æ„è¯†-åè½¬ä½“ä½-åˆ¤æ–­å‘¼å¸-å‘¼æ•‘æ±‚æ´-èƒ¸å¤–æŒ‰å‹ï¼ˆCï¼‰-æ‰“å¼€æ°”é“ï¼ˆAï¼‰-äººå·¥å‘¼å¸ï¼ˆBï¼‰-å°½æ—©AEDé™¤é¢¤</p><p>ç”±äºæ°”é“æ¢—é˜»é¡ºåºæ˜¯ABCï¼ˆæººæ°´ã€å©´å„¿ã€ä¸¥é‡æ°”é“æ¢—é˜»ï¼‰</p><ol><li><p>è§‚å¯Ÿç¯å¢ƒ</p></li><li><p>æ„è¯†åˆ¤æ–­</p><p>è½»æ‹é‡å–Šï¼Œæ‹è‚©è†€ï¼Œä¸¤ä¾§è€³æœµå–Š</p><p>å©´å„¿ç”¨æ‰‹æŒ‡è½»å¼¹è¶³åº•</p></li><li><p>åè½¬ä½“ä½ï¼šä¸€æ‰‹ä¿æŠ¤å¤´é¢ˆï¼Œå¦ä¸€åªæ‰‹æ’å…¥å¯¹ä¾§è…‹ä¸‹ï¼Œç¼“æ…¢ç¿»è½¬æˆä»°å§ä½</p></li><li><p>åˆ¤æ–­å‘¼å¸</p><p>åœ¨å¤´éƒ¨ä¸Šæ–¹â€œå¬ã€çœ‹ã€æ„Ÿè§‰â€çº¦10ç§’ï¼ˆé»˜å¿µ1001ï¼Œ1002ï¼Œ1003â€¦</p></li><li><p>å‘¼æ•‘æ±‚æ´</p><ul><li>æŒ‡å®šä¸“äººåšäº‹</li></ul></li><li><p>èƒ¸å¤–æŒ‰å‹ï¼ˆCï¼‰</p><p>æ‰‹æ³•ï¼šä¸€æ‰‹æŒæ ¹ç´§è´´èƒ¸å£ï¼ŒåŒæ‰‹é£ŸæŒ‡ç›¸æ‰£ï¼ŒæŒæ ¹é‡å ï¼ŒæŒå¿ƒç¿˜èµ·</p><p>æˆäººï¼ˆ8å²ä»¥ä¸Šï¼‰æŒ‰å‹è¦é¢†ï¼š</p><ul><li>ä½ç½®ï¼šèƒ¸éƒ¨æ­£ä¸­ï¼Œä¸¤ä¹³å¤´è¿çº¿æ°´å¹³ï¼Œå³èƒ¸éª¨çš„ä¸‹åŠéƒ¨</li><li>æ·±åº¦ï¼š5-6cm</li><li>é¢‘ç‡ï¼š100-120æ¬¡/åˆ†é’Ÿ</li><li>æ¯æ¬¡æŒ‰å‹åæ”¾æ¾ä½¿èƒ¸å»“æ¢å¤åˆ°æŒ‰å‹ä½ç½®</li><li>è®¡æ•°ï¼ˆ01ï¼Œ02ï¼Œ03â€¦</li></ul></li><li><p>æ‰“å¼€æ°”é“ï¼ˆAï¼‰</p><p>æ¸…ç†å£è…”å¼‚ç‰©ã€ä»°å¤´ä¸¾é¢Œ</p></li><li><p>äººå·¥å‘¼å¸ï¼ˆBï¼‰</p><ul><li>å¹³é™å‘¼å¸</li><li>é¿å…è¿‡åº¦é€šæ°”</li><li>å¹æ°”æ—¶é—´çº¦1ç§’ï¼Œè¿ç»­å¹æ°”2æ¬¡</li><li>å¹æ°”åŒæ—¶çœ‹èƒ¸å»“ï¼Œç¡®ä¿é€šæ°”æ—¶èƒ¸å»“éš†èµ·</li><li>èƒ¸å¤–æŒ‰å‹ä¸äººå·¥å‘¼å¸æ¯”ä¾‹ï¼š30:2</li></ul></li></ol><ul><li>åœæ­¢å¿ƒè‚ºå¤è‹ï¼šæ´»äº†/åŒ»åŠ¡äººå‘˜æ¥äº†</li></ul><h2 id="è‡ªåŠ¨ä½“å¤–é™¤é¢¤ä»ªï¼ˆAEDï¼‰">è‡ªåŠ¨ä½“å¤–é™¤é¢¤ä»ªï¼ˆAEDï¼‰</h2><ul><li>ç”µæç‰‡ä¸çš®è‚¤ç´§è´´</li><li>å¬ä»è¯­è¨€æç¤º</li></ul><h2 id="é¼»å‡ºè¡€çš„ç°åœºå¤„ç†">é¼»å‡ºè¡€çš„ç°åœºå¤„ç†</h2><p>ä½å¤´ï¼Œç”¨æ‹‡æŒ‡é£ŸæŒ‡ç´§æé¼»ç¿¼5-10åˆ†é’Ÿ</p><p>ä¸¥é‡çš„å»åŒ»é™¢</p><h2 id="æ‰­ä¼¤çš„ç°åœºå¤„ç†">æ‰­ä¼¤çš„ç°åœºå¤„ç†</h2><p>RICEåŸåˆ™</p><ul><li>Rï¼šä¼‘æ¯</li><li>Iï¼šå›ºå®š</li><li>Cï¼šå†·æ•·</li><li>Eï¼šå¤ªé«˜ä¼¤è‚¢</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303181107743.png&quot; alt=&quot;26B3608C-8FD3-41BB-8D99-858BB38BA514&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img sr</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ç¦»æ•£æ•°å­¦2æœŸæœ«å¤ä¹ </title>
    <link href="https://www.nickxu.top/2023/03/16/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A62%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/"/>
    <id>https://www.nickxu.top/2023/03/16/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A62%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/</id>
    <published>2023-03-16T01:39:37.000Z</published>
    <updated>2023-03-16T01:44:09.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‡½æ•°">å‡½æ•°</h1><h2 id="u-å‡½æ•°åŠå…¶æ€§è´¨çš„åˆ¤æ–­ã€å‡½æ•°å€¼ã€åƒã€åŸåƒç­‰çš„è®¡ç®—-u"><u>å‡½æ•°åŠå…¶æ€§è´¨çš„åˆ¤æ–­ã€å‡½æ•°å€¼ã€åƒã€åŸåƒç­‰çš„è®¡ç®—</u></h2><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939444.png" alt="image-20230313165348791"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939574.png" alt="image-20230313165415391"></p><ul><li><p>æ»¡å°„ï¼šsubjective</p></li><li><p>å•å°„ï¼šingective</p></li><li><p>åŒå°„ï¼šbijective</p></li><li><p>åƒæ˜¯å‡½æ•°å€¼çš„é›†åˆ</p></li></ul><h2 id="u-å‡½æ•°çš„å¤åˆåŠåå‡½æ•°-u"><u>å‡½æ•°çš„å¤åˆåŠåå‡½æ•°</u></h2><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939649.png" alt="image-20230313165621655"></p><p>é¡ºåºä¸è¦åäº†</p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939746.png" alt="image-20230313165635438"></p><h2 id="é›†åˆåŸºæ•°çš„æ¦‚å¿µ">é›†åˆåŸºæ•°çš„æ¦‚å¿µ</h2><p>ç•¥</p><h1 id="å›¾">å›¾</h1><ul><li>é˜¶ï¼šé¡¶ç‚¹æ•°</li><li>åº¦ï¼šé¡¶ç‚¹ä½œä¸ºç«¯ç‚¹çš„æ¬¡æ•°</li><li>é›¶å›¾ï¼šä¸€æ¡è¾¹éƒ½æ²¡æœ‰çš„å›¾</li><li>å¹³å‡¡å›¾ï¼šåªæœ‰ä¸€ä¸ªç‚¹çš„å›¾</li></ul><h2 id="æ¡æ‰‹å®šç†">æ¡æ‰‹å®šç†</h2><ul><li>åº¦æ•°ä¹‹å’Œç­‰äºè¾¹æ•°çš„ä¸¤å€ $ l = 2m$</li><li>å…¥åº¦ä¹‹å’Œ=å‡ºåº¦ä¹‹å’Œ=è¾¹æ•°</li><li>å¥‡åº¦é¡¶ç‚¹çš„ä¸ªæ•°æ˜¯å¶æ•°</li></ul><h2 id="å¯å›¾åŒ–æ¡ä»¶">å¯å›¾åŒ–æ¡ä»¶</h2><ol><li>åº¦æ•°ä¹‹å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> ä¸ºå¶æ•°</li><li>æœ€å¤§åº¦å°äºç­‰äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ï¼ˆä½ ä¸€ä¸ªç‚¹æœ€å¤šä¹Ÿå°±æŠŠå…¶ä»–ç‚¹è¿ä¸€éï¼‰</li></ol><h2 id="æ— å‘å®Œå…¨å›¾">æ— å‘å®Œå…¨å›¾</h2><ul><li>æ¯ä¸ªç‚¹éƒ½ä¸å‰©ä½™ç‚¹è¿æ¥ï¼Œè®°ä½œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">K_{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ï¼ˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ºé˜¶æ•°ï¼‰</li><li>è¾¹ç‚¹æ¡æ•°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle displaystyle="true" scriptlevel="0"><mfrac><mrow><mi>n</mi><mrow><mo fence="true">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo fence="true">)</mo></mrow></mrow><mn>2</mn></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\dfrac{n\left( n-1\right) }{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li></ul><h2 id="å›¾çš„è¿é€šæ€§">å›¾çš„è¿é€šæ€§</h2><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939837.png" alt="image-20230315201908204"></p><h2 id="å›¾çš„çŸ©é˜µè¡¨ç¤º">å›¾çš„çŸ©é˜µè¡¨ç¤º</h2><h3 id="å…³è”çŸ©é˜µ">å…³è”çŸ©é˜µ</h3><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939962.png" alt="image-20230315202212716"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939046.png" alt="image-20230315202315433"></p><h3 id="é‚»æ¥çŸ©é˜µ">é‚»æ¥çŸ©é˜µ</h3><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939134.png" alt="image-20230315202425046"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939205.png" alt="image-20230315202734790"></p><h3 id="å¯è¾¾çŸ©é˜µ">å¯è¾¾çŸ©é˜µ</h3><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939292.png" alt="image-20230315202839939"></p><h2 id="Dj">Dj</h2><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939350.png" alt="image-20230315220820080"></p><h1 id="æ ‘">æ ‘</h1><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m=n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939495.png" alt="image-20230315221032295"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939664.png" alt="image-20230315222128741"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939808.png" alt="image-20230315222542989"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939861.png" alt="image-20230315222835667"></p><ul><li>ä¸­åºï¼šå·¦ä¸­å³</li><li>å‰åºï¼šä¸­å·¦å³</li><li>åç»­ï¼šå·¦å³ä¸­</li></ul><h1 id="å‡ ç§ç‰¹æ®Šçš„å›¾">å‡ ç§ç‰¹æ®Šçš„å›¾</h1><h2 id="æ¬§æ‹‰å›¾">æ¬§æ‹‰å›¾</h2><p>é€šè¿‡æ‰€æœ‰è¾¹ä¸€æ¬¡</p><ul><li>æ— å‘å›¾å……è¦ï¼šè¿é€šæ— å¥‡åº¦</li><li>æœ‰å‘å›¾å……è¦ï¼šå¼ºè¿é€šã€æ¯ä¸ªç‚¹å…¥åº¦ç­‰äºå‡ºåº¦</li></ul><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939948.png" alt="image-20230315203012419"></p><h2 id="å“ˆå¯†é¡¿å›¾">å“ˆå¯†é¡¿å›¾</h2><p>é€šè¿‡æ‰€æœ‰ç‚¹ä¸€æ¬¡</p><p>æ³¨æ„æ˜¯å……åˆ†æ¡ä»¶ä¸æ˜¯å……è¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mrow><mo fence="true">(</mo><mi>u</mi><mo fence="true">)</mo></mrow><mo>+</mo><mi>d</mi><mrow><mo fence="true">(</mo><mi>v</mi><mo fence="true">)</mo></mrow><mo>â‰¥</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d\left( u\right) +d\left( v\right) \geq n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">u</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939020.png" alt="image-20230315203547959"></p><h2 id="äºŒéƒ¨å›¾ä¸å¹³é¢å›¾">äºŒéƒ¨å›¾ä¸å¹³é¢å›¾</h2><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939207.png" alt="image-20230315223131877"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939404.png" alt="image-20230315223346420"></p><ul><li>æ¬§æ‹‰å…¬å¼ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mi>m</mi><mo>+</mo><mi>r</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">n-m+r=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></li><li>é¢æ•°ä¹‹å’Œç­‰äºè¾¹æ•°ä¸¤å€</li></ul><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939762.png" alt="image-20230315223635830"></p><ul><li>å¹³é¢å›¾çš„å¿…è¦ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>â‰¤</mo><mn>3</mn><mi>n</mi><mo>âˆ’</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">m\leq 3n-6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span></li></ul><h1 id="åŸºæœ¬çš„ç»„åˆè®¡æ•°å…¬å¼">åŸºæœ¬çš„ç»„åˆè®¡æ•°å…¬å¼</h1><ol><li><p>æ’åˆ—å…¬å¼ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>A</mi><mi>n</mi><mi>k</mi></msubsup><mo>=</mo><mfrac><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mi>k</mi><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">A_n^k=\frac{n!}{(n-k)!}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4001em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)!</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mclose mtight">!</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ï¼Œè¡¨ç¤ºä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªä¸åŒçš„å…ƒç´ ä¸­é€‰å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªå…ƒç´ è¿›è¡Œæ’åˆ—çš„æ–¹æ¡ˆæ•°ã€‚</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å¼€å§‹å¾€åé€’å‡ç›¸ä¹˜ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ•°</p></li><li><p>ç»„åˆå…¬å¼ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>k</mi></msubsup><mo>=</mo><mfrac><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow><mrow><mi>k</mi><mo stretchy="false">!</mo><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mi>k</mi><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">C_n^k=\frac{n!}{k!(n-k)!}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4001em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">!</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)!</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mclose mtight">!</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ï¼Œè¡¨ç¤ºä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªä¸åŒçš„å…ƒç´ ä¸­é€‰å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªå…ƒç´ è¿›è¡Œç»„åˆçš„æ–¹æ¡ˆæ•°ã€‚</p></li><li><p>é‡å¤æ’åˆ—å…¬å¼ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">n^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span>ï¼Œè¡¨ç¤ºä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªä¸åŒçš„å…ƒç´ ä¸­é€‰å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªå…ƒç´ è¿›è¡Œé‡å¤æ’åˆ—çš„æ–¹æ¡ˆæ•°ã€‚</p></li><li><p>é‡å¤ç»„åˆå…¬å¼ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mi>k</mi><mo>âˆ’</mo><mn>1</mn></mrow><mi>k</mi></msubsup></mrow><annotation encoding="application/x-tex">C_{n+k-1}^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1905em;vertical-align:-0.3414em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.4169em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3414em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¡¨ç¤ºä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªä¸åŒçš„å…ƒç´ ä¸­é€‰å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªå…ƒç´ è¿›è¡Œé‡å¤ç»„åˆçš„æ–¹æ¡ˆæ•°ã€‚</p></li></ol><ul><li>äºŒé¡¹å¼å®šç† $$(x+y)^n=\sum_{k=0}^n {n\choose k}x^ky^{n-k}$$</li></ul><h1 id="é€’æ¨æ–¹ç¨‹ã€ç”Ÿæˆå‡½æ•°åŠåº”ç”¨">é€’æ¨æ–¹ç¨‹ã€ç”Ÿæˆå‡½æ•°åŠåº”ç”¨</h1><h2 id="é€’æ¨æ–¹ç¨‹">é€’æ¨æ–¹ç¨‹</h2><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939810.jpg" alt="image-20230316090850449"></p><p>å…·ä½“æ¥è¯´ï¼Œå‡è®¾æ–¹ç¨‹çš„ä¸€èˆ¬å½¢å¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><msup><mi>x</mi><mn>3</mn></msup><mo>+</mo><mi>b</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>c</mi><mi>x</mi><mo>+</mo><mi>d</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">ax^3+bx^2+cx+d=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">b</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼Œå…¶å¯¼æ•°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn><mi>a</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>b</mi><mi>x</mi><mo>+</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">f&#x27;(x)=3ax^2+2bx+c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mord mathnormal">b</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ã€‚å¦‚æœ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f&#x27;(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> çš„æ ¹ä¸åŸæ–¹ç¨‹çš„ä¸€ä¸ªæ ¹ç›¸åŒï¼Œåˆ™è¯´æ˜è¿™ä¸ªæ ¹æ˜¯é‡æ ¹ã€‚</p><p>æ›´å…·ä½“åœ°ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„åˆ¤æ–­æ–¹æ³•ï¼š</p><ol><li>æ±‚å‡ºæ–¹ç¨‹çš„ä¸‰ä¸ªæ ¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">x_1,x_2,x_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</li><li>æ±‚å‡ºæ–¹ç¨‹çš„å¯¼æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f&#x27;(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>ã€‚</li><li>æ±‚å‡ºå¯¼æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f&#x27;(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> çš„ä¸¤ä¸ªæ ¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">y_1,y_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</li><li>åˆ¤æ–­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">y_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯å¦ç­‰äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æˆ– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">x_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œæˆ–è€…åˆ¤æ–­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">y_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯å¦ç­‰äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æˆ– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">x_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚å¦‚æœæœ‰ä»»æ„ä¸€ä¸ªæ¡ä»¶æˆç«‹ï¼Œåˆ™è¯´æ˜æ–¹ç¨‹æœ‰é‡æ ¹ã€‚</li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f&#x27;(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> çš„ä¸¤ä¸ªæ ¹éƒ½ä¸æ–¹ç¨‹çš„æŸä¸ªæ ¹ç›¸åŒï¼Œåˆ™è¿™ä¸ªæ ¹æ˜¯äºŒé‡æ ¹ï¼›å¦‚æœæœ‰ä¸‰ä¸ªæ ¹éƒ½ç›¸åŒï¼Œåˆ™è¿™ä¸ªæ ¹æ˜¯ä¸‰é‡æ ¹ã€‚</p><h2 id="ç”Ÿæˆå‡½æ•°">ç”Ÿæˆå‡½æ•°</h2><p>ç›´æ¥æ”¾å¼ƒ</p><h1 id="ä»£æ•°ç³»ç»Ÿ">ä»£æ•°ç³»ç»Ÿ</h1><ul><li>äº¤æ¢ Commutative</li><li>ç»“åˆ Assciative</li><li>å¹‚ç­‰ Idempotent</li><li>å¹ºå…ƒ Identity</li><li>é›¶å…ƒ Zero element</li><li>é€†å…ƒ Inverse element</li></ul><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939900.png" alt="image-20230315174627203"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939047.png" alt="image-20230315173528440"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939230.png" alt="image-20230315174640779"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939376.png" alt="image-20230315174702778"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303160939483.png" alt="image-20230315173735395"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å‡½æ•°&quot;&gt;å‡½æ•°&lt;/h1&gt;
&lt;h2 id=&quot;u-å‡½æ•°åŠå…¶æ€§è´¨çš„åˆ¤æ–­ã€å‡½æ•°å€¼ã€åƒã€åŸåƒç­‰çš„è®¡ç®—-u&quot;&gt;&lt;u&gt;å‡½æ•°åŠå…¶æ€§è´¨çš„åˆ¤æ–­ã€å‡½æ•°å€¼ã€åƒã€åŸåƒç­‰çš„è®¡ç®—&lt;/u&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://pic-go-img.oss-cn-hangzhou.a</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>å¤§äºŒä¸‹å®¿èˆä¸Šæµ·ä¸€æ—¥æ¸¸æ¸¸è®°</title>
    <link href="https://www.nickxu.top/2023/03/13/%E5%A4%A7%E4%BA%8C%E4%B8%8B%E5%AE%BF%E8%88%8D%E4%B8%8A%E6%B5%B7%E4%B8%80%E6%97%A5%E6%B8%B8%E6%B8%B8%E8%AE%B0/"/>
    <id>https://www.nickxu.top/2023/03/13/%E5%A4%A7%E4%BA%8C%E4%B8%8B%E5%AE%BF%E8%88%8D%E4%B8%8A%E6%B5%B7%E4%B8%80%E6%97%A5%E6%B8%B8%E6%B8%B8%E8%AE%B0/</id>
    <published>2023-03-13T08:26:09.000Z</published>
    <updated>2023-03-24T03:09:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡å› ä¸ºæ—¶é—´æ‹–å¤ªä¹…äº†æ²¡å†™ï¼Œå°±æ„Ÿè§‰æ²¡æœ‰å½“æ—¶çš„æ„Ÿè§‰äº†</p><p>ç°åœ¨åªèƒ½è¯´æŠŠæœ‹å‹åœˆ copy ä¸€ä¸‹äº†ï¼Œæœ¬æ¥æƒ³è¯¦ç»†è®²è®²çš„ï¼ˆ</p><blockquote><p>è®²çœŸå‘¨æœ«å»é•¿ä¸‰è§’å‘¨è¾¹åŸå¸‚ä¸æ¯”åœ¨ä¸‹æ²™ç©èˆ’æœï¼Ÿæ—©ä¸ŠèŠ±ä¸€ä¸ªå°æ—¶åé«˜é“åˆ°ä¸Šæµ·è™¹æ¡¥ï¼Œç„¶åæ²¿ç€10å·çº¿ä¸€è·¯ç©<br>ä¸Šåˆåˆ°ä¸­å…±ä¸€å¤§çºªå¿µé¦†ï¼Œä¸­åˆåƒä¸ªé¥­ï¼Œç»§ç»­ååœ°é“åˆ°è±«å›­ï¼Œé¡ºä¾¿è¿˜æœ‰åŸéšåº™å¯ä»¥é€›ä¸€ä¸‹ï¼Œæ¥ç€å»å—äº¬æ­¥è¡Œè¡—ä¸€è·¯é€›åƒï¼Œæ™šä¸Šé€›åˆ°å¤–æ»©æ­£å¥½çœ‹å¤œæ™¯ï¼Œæœ€ååŸè·¯è¿”å›åé«˜é“å›æ­å·ï¼Œæ‡‚ä¸æ‡‚å›½é™…æ€§å¤§éƒ½å¸‚çš„å«é‡‘é‡å“‡ğŸ¤£</p></blockquote><div class="fj-gallery"><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241108463.png" alt="image-20230324110835972"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241108172.png" alt="image-20230324110847152"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241108898.png" alt="image-20230324110851874"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241108429.png" alt="image-20230324110857406"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241109812.png" alt="image-20230324110915794"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241109336.png" alt="image-20230324110925318"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241109416.png" alt="image-20230324110933398"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241109513.png" alt="image-20230324110944495"></p><p><img src="https://pic-go-img.oss-cn-hangzhou.aliyuncs.com/202303241109287.png" alt="image-20230324110953266"></p>          </div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿™ç¯‡å› ä¸ºæ—¶é—´æ‹–å¤ªä¹…äº†æ²¡å†™ï¼Œå°±æ„Ÿè§‰æ²¡æœ‰å½“æ—¶çš„æ„Ÿè§‰äº†&lt;/p&gt;
&lt;p&gt;ç°åœ¨åªèƒ½è¯´æŠŠæœ‹å‹åœˆ copy ä¸€ä¸‹äº†ï¼Œæœ¬æ¥æƒ³è¯¦ç»†è®²è®²çš„ï¼ˆ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è®²çœŸå‘¨æœ«å»é•¿ä¸‰è§’å‘¨è¾¹åŸå¸‚ä¸æ¯”åœ¨ä¸‹æ²™ç©èˆ’æœï¼Ÿæ—©ä¸ŠèŠ±ä¸€ä¸ªå°æ—¶åé«˜é“åˆ°ä¸Šæµ·è™¹æ¡¥ï¼Œç„¶åæ²¿ç€10å·çº¿ä¸€è·¯ç©&lt;br&gt;
ä¸Šåˆåˆ°</summary>
      
    
    
    
    <category term="éšç¬”ä¸æ€»ç»“" scheme="https://www.nickxu.top/categories/%E9%9A%8F%E7%AC%94%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="æ—…æ¸¸" scheme="https://www.nickxu.top/tags/%E6%97%85%E6%B8%B8/"/>
    
  </entry>
  
</feed>
