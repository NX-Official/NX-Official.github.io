<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>NX ã® åšå®¢</title>
    <link>https://nickxu.me/</link>
    
    <image>
      <url>https://www.nickxu.top/static/favicon.jpg</url>
      <title>NX ã® åšå®¢</title>
      <link>https://nickxu.me/</link>
    </image>
    
    <atom:link href="https://nickxu.me/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>è¿™å®¶ä¼™çœŸå‹¤å¥‹ï¼Œä»€ä¹ˆéƒ½ç•™ä¸‹äº†</description>
    <pubDate>Tue, 15 Aug 2023 16:00:13 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>ã€LeetCode-HOT-100ã€T41ï½T50</title>
      <link>https://nickxu.me/post/leetcode-hot-100-t41-t50.html</link>
      <guid>https://nickxu.me/post/leetcode-hot-100-t41-t50.html</guid>
      <pubDate>Sun, 13 Aug 2023 06:06:21 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;äºŒå‰æ ‘çš„å±‚åºéå†&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/binary-tree-level-order-traversal/&quot;&gt;äºŒå‰æ ‘çš„å±‚åºéå†&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;ç®€å•çš„ BFS ç»ƒä¹ &lt;/p&gt;
&lt;figure clas</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="äºŒå‰æ ‘çš„å±‚åºéå†"><a href="https://leetcode.cn/problems/binary-tree-level-order-traversal/">äºŒå‰æ ‘çš„å±‚åºéå†</a></h1><p>ç®€å•çš„ BFS ç»ƒä¹ </p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">levelOrder</span><span class="params">(root *TreeNode)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    ans := [][]<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    &#125;</span><br><span class="line">    queue := []TreeNode&#123;&#125;</span><br><span class="line">    queue = <span class="built_in">append</span>(queue, *root)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line">        tmpAns := []<span class="type">int</span>&#123;&#125;</span><br><span class="line">        nextLevel := []TreeNode&#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line">            curr := queue[<span class="number">0</span>]</span><br><span class="line">            queue = queue[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">            tmpAns = <span class="built_in">append</span>(tmpAns, curr.Val)</span><br><span class="line">            <span class="keyword">if</span> curr.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">                nextLevel = <span class="built_in">append</span>(nextLevel, *curr.Left)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> curr.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">                nextLevel = <span class="built_in">append</span>(nextLevel, *curr.Right)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ans = <span class="built_in">append</span>(ans, tmpAns)</span><br><span class="line">        queue = nextLevel</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="https://leetcode.cn/problems/maximum-depth-of-binary-tree/">äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</a></h1><p>ç›´æ¥ä¸Šä¸€é¢˜æ”¹æ”¹å“ˆå“ˆå“ˆ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxDepth</span><span class="params">(root *TreeNode)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    &#125;</span><br><span class="line">    queue := []TreeNode&#123;&#125;</span><br><span class="line">    queue = <span class="built_in">append</span>(queue, *root)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line">        ans++</span><br><span class="line">        nextLevel := []TreeNode&#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line">            curr := queue[<span class="number">0</span>]</span><br><span class="line">            queue = queue[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> curr.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">                nextLevel = <span class="built_in">append</span>(nextLevel, *curr.Left)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> curr.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">                nextLevel = <span class="built_in">append</span>(nextLevel, *curr.Right)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        queue = nextLevel</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/">ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a></h1><p>å‰åºä¸­å·¦å³ï¼Œä¸­åºå·¦ä¸­å³ï¼Œååºå·¦å³ä¸­</p><p>äºŒå‰æ ‘åŸºæœ¬åŠŸ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Left *TreeNode</span></span><br><span class="line"><span class="comment"> *     Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">buildTree</span><span class="params">(preorder []<span class="type">int</span>, inorder []<span class="type">int</span>)</span></span> *TreeNode &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(preorder) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(preorder) == <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &amp;TreeNode&#123;</span><br><span class="line">            Val:   preorder[<span class="number">0</span>],</span><br><span class="line">            Left:  <span class="literal">nil</span>,</span><br><span class="line">            Right: <span class="literal">nil</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ans:=&amp;TreeNode&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">    midVal := preorder[<span class="number">0</span>] <span class="comment">// mid çš„å€¼</span></span><br><span class="line">    inorderMinIdx := <span class="number">0</span>    <span class="comment">// mid åœ¨ä¸­åºçš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(inorder); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> inorder[i] == midVal &#123;</span><br><span class="line">            inorderMinIdx = i</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    leftInorder := inorder[:inorderMinIdx]</span><br><span class="line">    rightInorder := inorder[inorderMinIdx+<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å› ä¸º len(ã€Œå³ã€) åœ¨å‰åºå’Œä¸­åºæ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸”éƒ½åœ¨ç»“å°¾</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥å¾ˆå®¹æ˜“èƒ½æŠŠå‰åºçš„ã€Œå·¦ã€ã€Œå³ã€åŒºåˆ†å¼€æ¥</span></span><br><span class="line">    lenRight := <span class="built_in">len</span>(inorder) - inorderMinIdx</span><br><span class="line">    leftPreorder := preorder[<span class="number">1</span> : <span class="built_in">len</span>(preorder)-lenRight+<span class="number">1</span>]</span><br><span class="line">    rightPreorder := preorder[<span class="built_in">len</span>(preorder)-lenRight+<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fmt.Println(&quot;leftInorder&quot;,leftInorder)</span></span><br><span class="line">    <span class="comment">// fmt.Println(&quot;rightInorder&quot;,rightInorder)</span></span><br><span class="line">    <span class="comment">// fmt.Println(&quot;leftPreorder&quot;,leftPreorder)</span></span><br><span class="line">    <span class="comment">// fmt.Println(&quot;rightPreorder&quot;,rightPreorder)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &amp;TreeNode&#123;</span><br><span class="line">        Val:   midVal,</span><br><span class="line">        Left:  buildTree(leftPreorder, leftInorder),</span><br><span class="line">        Right: buildTree(rightPreorder, rightInorder),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"><a href="https://leetcode.cn/problems/flatten-binary-tree-to-linked-list/">äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</a></h1><p>è¦æ±‚å±•å¼€æˆå…ˆåºéå†ä¸€æ ·çš„é¡ºåº</p><p>é¦–å…ˆä½ éå†çš„åŒæ—¶æ„é€ æ–°é“¾è¡¨è‚¯å®šæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯è¿™æ ·å°±æ²¡æ„æ€äº†ï¼Œè‚¯å®šå¾—å†™ä¸ªåŸåœ°çš„</p><p>é¦–å…ˆå…ˆåºæ˜¯ä¸­å·¦å³ï¼Œæ‰€ä»¥ä½ æŠŠå·¦å’Œå³åˆ†åˆ«æå®šä¹‹åï¼Œå†æ‹¼ä¸€èµ·å°±è¡Œ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Left *TreeNode</span></span><br><span class="line"><span class="comment"> *     Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">flatten</span><span class="params">(root *TreeNode)</span></span> &#123;</span><br><span class="line">   _ = myFlatten(root)</span><br><span class="line">   <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myFlatten</span><span class="params">(root *TreeNode)</span></span> (tail *TreeNode) &#123;</span><br><span class="line">   <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> root.Left == <span class="literal">nil</span> &amp;&amp; root.Right == <span class="literal">nil</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> root</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   leftTail := myFlatten(root.Left)</span><br><span class="line">   rightTail := myFlatten(root.Right)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> leftTail != <span class="literal">nil</span> &#123;</span><br><span class="line">      leftTail.Left = <span class="literal">nil</span></span><br><span class="line">      leftTail.Right = root.Right</span><br><span class="line">      root.Right = root.Left</span><br><span class="line">      root.Left = <span class="literal">nil</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> rightTail != <span class="literal">nil</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> rightTail</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> leftTail</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº"><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/">ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</a></h1><p>é¦–å…ˆæš´åŠ›è‚¯å®šæ²¡é—®é¢˜ï¼Œä½†æ˜¯æ•°æ®é‡å¤§äº†ä¼š TLE</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxProfit</span><span class="params">(prices []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(prices)</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := i + <span class="number">1</span>; j &lt; n; j++ &#123;</span><br><span class="line">            v := prices[j] - prices[i]</span><br><span class="line">            <span class="keyword">if</span> v &gt; ans &#123;</span><br><span class="line">                ans = v</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®å®è´¨å°±æ˜¯æ‰¾åˆ°å·®åˆ«æœ€å¤§çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¹¶ä¸”å°çš„åœ¨å‰é¢</p><p>æ±‚å‡ºç›¸é‚»ä¹‹é—´çš„ <code>diff</code> æ•°ç»„ï¼Œç„¶åéå†å³å¯</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxProfit</span><span class="params">(prices []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(prices)</span><br><span class="line">    diff := <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">        diff[i] = prices[i] - prices[i<span class="number">-1</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    curr := <span class="number">0</span></span><br><span class="line">    <span class="comment">// fmt.Println(diff)</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">        curr += diff[i]</span><br><span class="line">        <span class="keyword">if</span> curr &gt; ans &#123;</span><br><span class="line">            ans = curr</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> curr &lt; <span class="number">0</span> &#123;</span><br><span class="line">            curr = <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><s>dp æˆ‘ä¹Ÿæƒ³äº†ï¼Œä½†æ˜¯æƒ³äº†åŠå¤©éƒ½æ˜¯ n æ–¹çš„ï¼ˆ</s></p><p>ç»“æœçœ‹è§äº†<a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/solutions/136684/121-mai-mai-gu-piao-de-zui-jia-shi-ji-by-leetcode-/comments/930057">è¿™æ¡è¯„è®º</a>ï¼Œæ„Ÿè§‰è¿˜æ˜¯äººå¤–æœ‰äººğŸ‘€ï¼ˆ</p><h1 id="äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"><a href="https://leetcode.cn/problems/binary-tree-maximum-path-sum/">äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</a></h1><p>ç¬¬ä¸€çœ¼ï¼šå—¯ï¼Ÿå›¾çš„æœ€é•¿è·¯ç®—æ³•ï¼Ÿ</p><p>ä½†æ˜¯è¿™ä¸ªæ•°æ®é‡åº”è¯¥æ¥ä¸åŠè½¬æ¢æˆå›¾ç„¶åå¤„ç†</p><p>ç¬¬äºŒçœ¼ï¼šå—¯ï¼Ÿæ ‘å½¢ dpï¼Ÿ</p><p>ä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯ä¸å¥½ç¡®å®šèµ·ç‚¹å“‡ï¼Œå¦‚æœæ˜¯å¿…é¡»ç»è¿‡ <code>root</code> çš„è¯è¿˜å¯ä»¥å·¦å³ä¸¤è¾¹åˆ†åˆ« dpï¼Œç„¶ååˆä¸€èµ·</p><p>ä»”ç»†æ€è€ƒï¼Œæˆ‘æ„Ÿè§‰å¯ä»¥ä»æ‰€æœ‰çš„å¶å­ç»“ç‚¹å‘ <code>root</code> å¼€å§‹ dpï¼Œè½¬ç§»æ–¹ç¨‹å°±æ˜¯ï¼Œæ¯ä¸€ä¸ªåˆ†æ”¯ç»“ç‚¹éƒ½å¯ä»¥é€‰æ‹©ç»§æ‰¿å·¦å„¿å­ï¼Œæˆ–è€…ç»§æ‰¿å³å„¿å­ï¼Œæˆ–è€…éƒ½ä¸ç»§æ‰¿</p><p>ä½†æ˜¯è¿™ä¸ªéå†é¡ºåºæœ‰ç‚¹éš¾æï¼Œç®—äº†ï¼Œè¿˜æ˜¯å†™æˆè®°å¿†åŒ–æœç´¢å§ï¼ˆdp å…¶å®å°±æ˜¯è®°å¿†åŒ–æœç´¢ Pro Maxï¼‰</p><p>å“ç­‰ç­‰ï¼Ÿå¥½åƒå¯ä»¥ç›´æ¥å†™æˆæœç´¢ï¼Ÿ</p><p>å†ç­‰ç­‰ï¼Ÿå¥½åƒå°‘äº†ä¸€ç§æƒ…å†µï¼Œæˆ–è€…åœ¨å½“å‰æ‰“ä½ï¼ŒæŠŠä¸¤è¾¹æ‹‰ä¸€èµ·ï¼Œä½†æ˜¯ä¸Šé¢ä¸èƒ½å†å¼•ç”¨è¿™ä¸ªæ•°æ®ï¼ˆå•Šæˆ‘å¥½åƒçŸ¥é“ ans æ€ä¹ˆæ±‚äº†</p><p>å•Šå¥½åƒè¿˜å¾—åŠ ä¸ªåªé€‰è‡ªèº«ç»“ç‚¹</p><p>å•Šè¿˜æœ‰åªé€‰å·¦è¾¹å’Œåªé€‰å³è¾¹</p><p>æˆ‘å»æˆ‘å±…ç„¶æ‰‹æ“è¿‡äº†ä¸€ä¸ª hardï¼Œæˆç»©è¿˜è¿™ä¹ˆå¥½ğŸ˜­</p><p><img src="../../../../Library/Application%20Support/typora-user-images/image-20230813%E4%B8%8B%E5%8D%88113211729.png" alt="image-20230813ä¸‹åˆ113211729"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxPathSum</span><span class="params">(root *TreeNode)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    ans := math.MinInt</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(curr *TreeNode)</span></span> <span class="type">int</span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(curr *TreeNode)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> left, right <span class="type">int</span></span><br><span class="line">        <span class="keyword">if</span> curr.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">            left = dfs(curr.Left)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> curr.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">            right = dfs(curr.Right)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ans = max(ans,</span><br><span class="line">            left+right+curr.Val,</span><br><span class="line">            left+curr.Val,</span><br><span class="line">            right+curr.Val,</span><br><span class="line">            curr.Val,</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> max(left+curr.Val, right+curr.Val, curr.Val)</span><br><span class="line">    &#125;</span><br><span class="line">    _ = dfs(root)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a ...<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    max := a[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">        <span class="keyword">if</span> v &gt; max &#123;</span><br><span class="line">            max = v</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> max</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æœ€é•¿è¿ç»­åºåˆ—"><a href="https://leetcode.cn/problems/longest-consecutive-sequence/">æœ€é•¿è¿ç»­åºåˆ—</a></h1><p>å•Šï¼Œä¸€çœ¼è²Œä¼¼ dpï¼Œä½†æ˜¯æˆ‘æƒ³ä¸å‡ºæ€ä¹ˆå†™</p><p>èƒ½ä¸èƒ½ç”¨æ¡¶æ’çš„æ€è·¯å‘¢ï¼Ÿæ•°æ®èŒƒå›´å¤ªå¤§äº†</p><p>ä½†æ˜¯è¦æ±‚ <code>O(n)</code> ï¼Œæˆ‘æ„Ÿè§‰ä¹Ÿåªæœ‰ dp äº†å“‡</p><p>å®åœ¨å†™ä¸å‡ºæ¥ï¼Œä¸€çœ‹æ ‡ç­¾ï¼Œå§æ§½ï¼Œæœ‰å¹¶æŸ¥é›†ï¼Œä½†æ˜¯ä¹Ÿä¸è¡Œå“‡ï¼ˆ</p><p>çœ‹äº†é¢˜è§£ä¹‹åï¼š</p><p>åŸæ¥å“ˆå¸Œè¡¨ä¸æ˜¯ <code>O(logn)</code> å“‡ï¼Œ æˆ‘ä¸€ç›´ä»¥ä¸º <code>map</code> æ˜¯ <code>O(logn)</code>ï¼Œé‚£æ²¡äº‹äº†~~ï¼ˆé«˜ä¸­å­¦çš„ C++ çš„ <code>std::map</code> è¯´æ˜¯åŸºäºçº¢é»‘æ ‘çš„ï¼Œçº¢é»‘æ ‘æ˜¯ <code>O(logn)</code>ï¼Œæ‰€ä»¥ä¸€ç›´è®°å¾— <code>map</code> å°±æ˜¯ <code>O(logn)</code>~~</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestConsecutive</span><span class="params">(nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    fa := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>)</span><br><span class="line">    exist := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">bool</span>)</span><br><span class="line">    count := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>)</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        fa[nums[i]] = nums[i]</span><br><span class="line">        exist[nums[i]] = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    find := <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> x != fa[x] &#123;</span><br><span class="line">            fa[x] = fa[fa[x]]</span><br><span class="line">            x = fa[x]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    combine := <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="comment">// fmt.Println(a,b)</span></span><br><span class="line">        fa[find(a)] = find(b)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> exist[nums[i]<span class="number">-1</span>] &#123;</span><br><span class="line">            combine(nums[i], nums[i]<span class="number">-1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> exist[nums[i]+<span class="number">1</span>] &#123;</span><br><span class="line">            combine(nums[i], nums[i]+<span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> exist &#123;</span><br><span class="line">        count[find(i)]++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fmt.Println(n)</span></span><br><span class="line">    <span class="comment">// fmt.Println(fa)</span></span><br><span class="line">    <span class="comment">// fmt.Println(exist)</span></span><br><span class="line">    <span class="comment">// fmt.Println(count)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, i := <span class="keyword">range</span> count &#123;</span><br><span class="line">        <span class="keyword">if</span> i &gt; ans &#123;</span><br><span class="line">            ans = i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—"><a href="https://leetcode.cn/problems/single-number/">åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</a></h1><p>å®Œå…¨æƒ³ä¸å‡ºã€Œè¯¥ç®—æ³•åªä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´ã€çš„æ–¹æ³•</p><p>æˆ‘èƒ½æƒ³åˆ°çš„æ˜¯ä¸€ä¸ªå˜é‡è¿ç»­è®¡ç®—ï¼Œç„¶åä¸¤ä¸ªç›¸åŒçš„èƒ½è‡ªåŠ¨æŠµæ¶ˆï¼Œ<code>O(n)</code> åªèƒ½æ˜¯è¿™æ ·ï¼Œä½†æ˜¯æƒ³ä¸å‡ºæ¥</p><p>ä¸€çœ‹æ ‡ç­¾å§æ§½ä½è¿ç®—</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">singleNumber</span><span class="params">(nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, i := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        ans ^= i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å•è¯æ‹†åˆ†"><a href="https://leetcode.cn/problems/word-break/">å•è¯æ‹†åˆ†</a></h1><p>å…ˆæ¥ä¸ªæš´åŠ›å¥½å§ï¼Œä½†æ˜¯ TLE äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">wordBreak</span><span class="params">(s <span class="type">string</span>, wordDict []<span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> s == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, word := <span class="keyword">range</span> wordDict &#123;</span><br><span class="line">        <span class="keyword">if</span> isTrim(s, word) &amp;&amp; wordBreak(s[<span class="built_in">len</span>(word):], wordDict) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isTrim</span><span class="params">(s, t <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(t) &gt; <span class="built_in">len</span>(s) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">len</span>(t) == <span class="built_in">len</span>(s) &#123;</span><br><span class="line">        <span class="keyword">return</span> s == t</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(t); i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> s[i] != t[i] &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æƒ³æ”¹è¿›ä¸€ä¸‹è¿™ä¸ªæš´åŠ›ï¼Œå¦‚æœ wordDict ä¸­æœ‰å•è¯å¯ä»¥ç”±å…¶ä»–å•è¯ç»„åˆæˆï¼Œé‚£å°±å¯ä»¥å¿½ç•¥</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">wordBreak</span><span class="params">(s <span class="type">string</span>, wordDict []<span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    wordDict= prework(wordDict)</span><br><span class="line">    <span class="keyword">return</span> myWordBreak(s,wordDict)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">prework</span><span class="params">(wordDict []<span class="type">string</span>)</span></span> []<span class="type">string</span>&#123;</span><br><span class="line">    ans := []<span class="type">string</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(wordDict);i++&#123;</span><br><span class="line">        ext:=<span class="built_in">make</span>([]<span class="type">string</span>,<span class="built_in">len</span>(wordDict)<span class="number">-1</span>)</span><br><span class="line">        <span class="built_in">copy</span>(ext,wordDict[:i])</span><br><span class="line">        <span class="built_in">copy</span>(ext[i:],wordDict[i+<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">if</span> !myWordBreak(wordDict[i],ext)&#123;</span><br><span class="line">            ans=<span class="built_in">append</span>(ans,wordDict[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myWordBreak</span><span class="params">(s <span class="type">string</span>, wordDict []<span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> s == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> _,word:=<span class="keyword">range</span> wordDict&#123;</span><br><span class="line">        <span class="keyword">if</span> isTrim(s,word)&amp;&amp;myWordBreak(s[<span class="built_in">len</span>(word):],wordDict) &#123;</span><br><span class="line">            <span class="keyword">return</span>  <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isTrim</span><span class="params">(s,t <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(t)&gt;<span class="built_in">len</span>(s)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">len</span>(t)==<span class="built_in">len</span>(s)&#123;</span><br><span class="line">        <span class="keyword">return</span> s == t</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(t);i++&#123;</span><br><span class="line">            <span class="keyword">if</span> s[i]!=t[i]&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿˜æ˜¯ TLE äº†ğŸ˜­</p><p>å†ä¼˜åŒ–ä¸€æ‰‹è¯•è¯•ï¼Œæ¥ç‚¹è®°å¿†åŒ–</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vis = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">bool</span>)</span><br><span class="line"><span class="keyword">var</span> flag <span class="type">bool</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">wordBreak</span><span class="params">(s <span class="type">string</span>, wordDict []<span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    flag = <span class="literal">false</span></span><br><span class="line">    vis = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">bool</span>)</span><br><span class="line">    wordDict = prework(wordDict)</span><br><span class="line">    vis = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">bool</span>)</span><br><span class="line">    flag = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> myWordBreak(s, wordDict)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">prework</span><span class="params">(wordDict []<span class="type">string</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    ans := []<span class="type">string</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(wordDict); i++ &#123;</span><br><span class="line">        ext := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="built_in">len</span>(wordDict)<span class="number">-1</span>)</span><br><span class="line">        <span class="built_in">copy</span>(ext, wordDict[:i])</span><br><span class="line">        <span class="built_in">copy</span>(ext[i:], wordDict[i+<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">if</span> !myWordBreak(wordDict[i], ext) &#123;</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, wordDict[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myWordBreak</span><span class="params">(s <span class="type">string</span>, wordDict []<span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> s == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> flag &#123;</span><br><span class="line">        <span class="keyword">if</span> val, ok := vis[s]; ok &#123;</span><br><span class="line">            <span class="keyword">return</span> val</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, word := <span class="keyword">range</span> wordDict &#123;</span><br><span class="line">        <span class="keyword">if</span> isTrim(s, word) &amp;&amp; myWordBreak(s[<span class="built_in">len</span>(word):], wordDict) &#123;</span><br><span class="line">            vis[s] = <span class="literal">true</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vis[s] = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isTrim</span><span class="params">(s, t <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(t) &gt; <span class="built_in">len</span>(s) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">len</span>(t) == <span class="built_in">len</span>(s) &#123;</span><br><span class="line">        <span class="keyword">return</span> s == t</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(t); i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> s[i] != t[i] &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å±…ç„¶è¿‡äº†ğŸ¤£</p><p>è¨€å½’æ­£ä¼ ï¼Œè¿™ä¸ªé—®é¢˜æœ€å¥½çš„æ–¹æ³•è‚¯å®šæ˜¯ dpï¼ŒGPT ç»™äº†å¾ˆå¥½çš„è¿‡ç¨‹æè¿°</p><ol><li><strong>é—®é¢˜å®šä¹‰ï¼š</strong> æˆ‘ä»¬å¸Œæœ›åˆ¤æ–­å­—ç¬¦ä¸² <code>s</code> æ˜¯å¦å¯ä»¥è¢«æ‹†åˆ†æˆè¯å…¸ä¸­çš„å•è¯ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªå¸ƒå°”æ•°ç»„ <code>dp</code>ï¼Œå…¶ä¸­ <code>dp[i]</code> è¡¨ç¤ºå­—ç¬¦ä¸²çš„å‰ <code>i</code> ä¸ªå­—ç¬¦æ˜¯å¦å¯ä»¥è¢«æ‹†åˆ†æˆè¯å…¸ä¸­çš„å•è¯ã€‚</li><li><strong>åˆå§‹åŒ–ï¼š</strong> æˆ‘ä»¬å°† <code>dp[0]</code> åˆå§‹åŒ–ä¸º <code>true</code>ï¼Œè¿™æ˜¯å› ä¸ºç©ºå­—ç¬¦ä¸²æ€»æ˜¯å¯ä»¥è¢«æ‹†åˆ†ï¼Œå³ä¸æ‹†åˆ†æˆä»»ä½•å•è¯ã€‚</li><li><strong>çŠ¶æ€è½¬ç§»ï¼š</strong> å¯¹äºæ¯ä¸ªä½ç½® <code>i</code>ï¼ˆä» 1 åˆ°å­—ç¬¦ä¸²é•¿åº¦ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­å­—ç¬¦ä¸²çš„å‰ <code>i</code> ä¸ªå­—ç¬¦æ˜¯å¦å¯ä»¥è¢«æ‹†åˆ†æˆè¯å…¸ä¸­çš„å•è¯ã€‚æˆ‘ä»¬éå†ä» <code>0</code> åˆ° <code>i-1</code> çš„æ¯ä¸ªä½ç½® <code>j</code>ï¼Œå¦‚æœ <code>dp[j]</code> ä¸º <code>true</code>ï¼Œå¹¶ä¸”å­ä¸² <code>s[j:i]</code> åœ¨è¯å…¸ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†å­—ç¬¦ä¸²çš„å‰ <code>i</code> ä¸ªå­—ç¬¦æ‹†åˆ†æˆå•è¯ï¼Œå³ <code>dp[i] = true</code>ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœä»ä½ç½® <code>j</code> åˆ°ä½ç½® <code>i-1</code> çš„å­ä¸²æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å•è¯ï¼Œä¸”å‰ <code>j</code> ä¸ªå­—ç¬¦å¯ä»¥è¢«æ‹†åˆ†æˆå•è¯ï¼Œé‚£ä¹ˆå‰ <code>i</code> ä¸ªå­—ç¬¦ä¹Ÿå¯ä»¥è¢«æ‹†åˆ†ã€‚</li><li><strong>è¿”å›ç»“æœï¼š</strong> æœ€ç»ˆï¼Œæˆ‘ä»¬è¿”å› <code>dp[len(s)]</code>ï¼Œå³å­—ç¬¦ä¸²çš„å…¨éƒ¨å­—ç¬¦æ˜¯å¦å¯ä»¥è¢«æ‹†åˆ†æˆè¯å…¸ä¸­çš„å•è¯ã€‚</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">wordBreak</span><span class="params">(s <span class="type">string</span>, wordDict []<span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(s)</span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="type">bool</span>, n+<span class="number">1</span>)</span><br><span class="line">    exist := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">bool</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(wordDict); i++ &#123;</span><br><span class="line">        exist[wordDict[i]] = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; i; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> dp[j] &amp;&amp; exist[s[j:i]] == <span class="literal">true</span> &#123;</span><br><span class="line">                dp[i] = <span class="literal">true</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[n]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç¯å½¢é“¾è¡¨"><a href="https://leetcode.cn/problems/linked-list-cycle/">ç¯å½¢é“¾è¡¨</a></h1><p>åšè¿‡äº†ï¼Œè¯·è§<a href="/posts/275.html#141-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8">ã€ç®—æ³•æ‹¾é—ã€é“¾è¡¨ï¼ˆLinked Listï¼‰</a></p>]]></content:encoded>
      
      
      
      
      <comments>https://nickxu.me/post/leetcode-hot-100-t41-t50.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ã€LeetCode-HOT-100ã€T31ï½T40</title>
      <link>https://nickxu.me/post/leetcode-hot-100-t31-t40.html</link>
      <guid>https://nickxu.me/post/leetcode-hot-100-t31-t40.html</guid>
      <pubDate>Sat, 05 Aug 2023 03:20:08 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;é¢œè‰²åˆ†ç±»&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/sort-colors/&quot;&gt;é¢œè‰²åˆ†ç±»&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;è¿™çœŸçš„æ˜¯ Medium å—ï¼Œå“ˆå“ˆå“ˆğŸ˜‚&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;tab</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="é¢œè‰²åˆ†ç±»"><a href="https://leetcode.cn/problems/sort-colors/">é¢œè‰²åˆ†ç±»</a></h1><p>è¿™çœŸçš„æ˜¯ Medium å—ï¼Œå“ˆå“ˆå“ˆğŸ˜‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sortColors</span><span class="params">(nums []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> red, white, blue <span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        <span class="keyword">switch</span> nums[i] &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            red++</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            white++</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            blue++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; red; i++ &#123;</span><br><span class="line">        nums[i] = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := red; i &lt; red+white; i++ &#123;</span><br><span class="line">        nums[i] = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := red + white; i &lt; red+white+blue; i++ &#123;</span><br><span class="line">        nums[i] = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æœ€å°è¦†ç›–å­ä¸²"><a href="https://leetcode.cn/problems/minimum-window-substring/">æœ€å°è¦†ç›–å­ä¸²</a></h1><p>å¾ˆå¥½çš„æ»‘åŠ¨çª—å£çš„é¢˜ç›®</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minWindow</span><span class="params">(s <span class="type">string</span>, t <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    target:=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">byte</span>]<span class="type">int</span>)</span><br><span class="line">    window:=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">byte</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(t);i++&#123;</span><br><span class="line">        target[t[i]]++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    left,right:=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    ansLeft,ansRight:=<span class="number">0</span>,math.MaxInt</span><br><span class="line">    diff:=<span class="built_in">len</span>(t)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> right&lt;<span class="built_in">len</span>(s)&#123;</span><br><span class="line">        c:=s[right]</span><br><span class="line">        right++</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> _,ok:=target[c] ; ok&#123;</span><br><span class="line">            <span class="keyword">if</span> window[c]&lt;target[c]&#123;</span><br><span class="line">                diff--</span><br><span class="line">            &#125;</span><br><span class="line">            window[c]++</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> diff == <span class="number">0</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> right-left&lt;ansRight-ansLeft&#123;</span><br><span class="line">                ansRight,ansLeft=right,left</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            d:=s[left]</span><br><span class="line">            left++</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> _,ok:=target[d];ok&#123;</span><br><span class="line">                <span class="keyword">if</span> window[d] &lt;= target[d]&#123;</span><br><span class="line">                    diff++</span><br><span class="line">                &#125;</span><br><span class="line">                window[d]--</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ansRight == math.MaxInt&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s[ansLeft:ansRight]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å­é›†"><a href="https://leetcode.cn/problems/subsets/">å­é›†</a></h1><p>ç›´æ¥å¥—æ¨¡æ¿ï¼Œè¯·è§<a href="/2022/07/10/%E3%80%8E%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97%E3%80%8F%E6%8E%92%E5%88%97%E4%B8%8E%E7%BB%84%E5%90%88/?highlight=%E5%AD%90%E9%9B%86#%E5%AD%90%E9%9B%86%E7%94%9F%E6%88%90%E9%97%AE%E9%A2%98">ã€ç®—æ³•æ‹¾é—ã€æ’åˆ—ä¸ç»„åˆ</a></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">subsets</span><span class="params">(nums []<span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">   n := <span class="built_in">len</span>(nums)</span><br><span class="line">   <span class="keyword">var</span> ans [][]<span class="type">int</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; n); i++ &#123;</span><br><span class="line">      <span class="keyword">var</span> tmp []<span class="type">int</span></span><br><span class="line">      <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; n; j++ &#123;</span><br><span class="line">         <span class="keyword">if</span> i&amp;(<span class="number">1</span>&lt;&lt;j) != <span class="number">0</span> &#123;</span><br><span class="line">            tmp = <span class="built_in">append</span>(tmp, nums[j])</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      ans = <span class="built_in">append</span>(ans, tmp)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å•è¯æœç´¢"><a href="https://leetcode.cn/problems/word-search/">å•è¯æœç´¢</a></h1><p>æš´åŠ› DFS</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">exist</span><span class="params">(board [][]<span class="type">byte</span>, word <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    dir := [][]<span class="type">int</span>&#123;</span><br><span class="line">        &#123;<span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">        &#123;<span class="number">-1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">        &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;,</span><br><span class="line">        &#123;<span class="number">0</span>, <span class="number">1</span>&#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    m, n := <span class="built_in">len</span>(board), <span class="built_in">len</span>(board[<span class="number">0</span>])</span><br><span class="line">    vis := <span class="built_in">make</span>([][]<span class="type">bool</span>, m)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; m; i++ &#123;</span><br><span class="line">        vis[i] = <span class="built_in">make</span>([]<span class="type">bool</span>, n)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    startX, startY := []<span class="type">int</span>&#123;&#125;, []<span class="type">int</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; m; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; n; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> board[i][j] == word[<span class="number">0</span>] &#123;</span><br><span class="line">                startX = <span class="built_in">append</span>(startX, i)</span><br><span class="line">                startY = <span class="built_in">append</span>(startY, j)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(count <span class="type">int</span>, x <span class="type">int</span>, y <span class="type">int</span>)</span></span> <span class="type">bool</span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(count <span class="type">int</span>, x <span class="type">int</span>, y <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> count == <span class="built_in">len</span>(word) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        vis[x][y] = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">            nx := x + dir[i][<span class="number">0</span>]</span><br><span class="line">            ny := y + dir[i][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nx &gt;= <span class="number">0</span> &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; nx &lt; m &amp;&amp; ny &lt; n &amp;&amp; board[nx][ny] == word[count] &amp;&amp; !vis[nx][ny] &#123;</span><br><span class="line">                vis[nx][ny] = <span class="literal">true</span></span><br><span class="line">                <span class="keyword">if</span> dfs(count+<span class="number">1</span>, nx, ny) == <span class="literal">true</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">                vis[nx][ny] = <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(startX); i++ &#123;</span><br><span class="line">        vis = <span class="built_in">make</span>([][]<span class="type">bool</span>, m)</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; m; i++ &#123;</span><br><span class="line">            vis[i] = <span class="built_in">make</span>([]<span class="type">bool</span>, n)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dfs(<span class="number">1</span>, startX[i], startY[i]) == <span class="literal">true</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"><a href="https://leetcode.cn/problems/largest-rectangle-in-histogram/">æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a></h1><p>ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯ dpï¼Œä½†æƒ³äº†ä¸€ä¸‹æ„Ÿè§‰åˆä¸è¡Œï¼Œæƒ³ä¸åˆ°ä»€ä¹ˆå¥½æ–¹æ³•ï¼Œå¹²è„†çœ‹é¢˜è§£å»äº†ï¼ˆ</p><p>é¦–å…ˆæš´åŠ›å¾ˆå®¹æ˜“å†™ï¼Œä½†æ˜¯ä¼š TLE</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largestRectangleArea</span><span class="params">(heights []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(heights); i++ &#123;</span><br><span class="line">        left, right := i, i</span><br><span class="line">        <span class="keyword">for</span> left<span class="number">-1</span> &gt;= <span class="number">0</span> &amp;&amp; heights[left<span class="number">-1</span>] &gt;= heights[i] &#123;</span><br><span class="line">            left--</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> right+<span class="number">1</span> &lt; <span class="built_in">len</span>(heights) &amp;&amp; heights[right+<span class="number">1</span>] &gt;= heights[i] &#123;</span><br><span class="line">            right++</span><br><span class="line">        &#125;</span><br><span class="line">        area := (right - left + <span class="number">1</span>) * heights[i]</span><br><span class="line">        <span class="keyword">if</span> area &gt; ans &#123;</span><br><span class="line">            ans = area</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€ä½³æ–¹æ³•æ˜¯ä½¿ç”¨å•è°ƒæ ˆï¼Œä¸»è¦æ€è·¯æˆ‘æ„Ÿè§‰ GPT è¯´çš„æ¯”é¢˜è§£æ›´æ¸…æ¥šï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªæ ˆæ¥å­˜å‚¨æŸ±å­çš„ç´¢å¼•ã€‚æ ˆä¸­çš„å…ƒç´ æ»¡è¶³é€’å¢é¡ºåºï¼Œè¡¨ç¤ºå½“å‰æŸ±å­é«˜åº¦åœ¨æ•°ç»„ä¸­çš„ä½ç½®ã€‚</li><li>ä»å·¦åˆ°å³éå†æ•°ç»„ä¸­çš„æ¯ä¸ªæŸ±å­ï¼š<ul><li>å¦‚æœæ ˆä¸ºç©ºï¼Œæˆ–è€…å½“å‰æŸ±å­çš„é«˜åº¦å¤§äºç­‰äºæ ˆé¡¶æŸ±å­çš„é«˜åº¦ï¼Œå°†å½“å‰æŸ±å­çš„ç´¢å¼•å…¥æ ˆã€‚</li><li>å¦‚æœå½“å‰æŸ±å­çš„é«˜åº¦å°äºæ ˆé¡¶æŸ±å­çš„é«˜åº¦ï¼Œè¯´æ˜æ ˆé¡¶æŸ±å­ä¸å†èƒ½å¤Ÿå‘å³æ‰©å±•ï¼Œå› æ­¤å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå¹¶è®¡ç®—ä»¥è¯¥æ ˆé¡¶æŸ±å­ä¸ºé«˜åº¦çš„çŸ©å½¢çš„é¢ç§¯ã€‚æ ˆé¡¶æŸ±å­å‡ºæ ˆåï¼Œå…¶å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒçŸ®çš„æŸ±å­å³ä¸ºå½“å‰æ ˆé¡¶å…ƒç´ ï¼Œå³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒçŸ®çš„æŸ±å­ä¸ºå½“å‰éå†åˆ°çš„æŸ±å­ã€‚</li></ul></li><li>åœ¨æ¯æ¬¡å¼¹å‡ºæ ˆé¡¶å…ƒç´ æ—¶ï¼Œè®¡ç®—ä»¥è¯¥æŸ±å­ä¸ºé«˜åº¦çš„çŸ©å½¢çš„é¢ç§¯ï¼Œå…¶å®½åº¦ä¸ºå½“å‰éå†åˆ°çš„æŸ±å­ç´¢å¼•ä¸æ ˆé¡¶æŸ±å­çš„ç´¢å¼•ä¹‹å·®ã€‚</li><li>é‡å¤æ­¥éª¤ 2 å’Œ 3ï¼Œç›´åˆ°éå†å®Œæ•´ä¸ªæ•°ç»„ã€‚</li><li>åœ¨éå†å®Œæ•°ç»„åï¼Œå¯èƒ½è¿˜æœ‰ä¸€äº›æŸ±å­ç•™åœ¨æ ˆä¸­ã€‚å¯¹äºè¿™äº›æŸ±å­ï¼Œå®ƒä»¬çš„å³è¾¹ç•Œå°±æ˜¯æ•°ç»„çš„æœ«å°¾ï¼Œå·¦è¾¹ç•Œå°±æ˜¯æ ˆä¸­ç´§é‚»çš„æŸ±å­ã€‚å¼¹å‡ºè¿™äº›æŸ±å­å¹¶è®¡ç®—çŸ©å½¢é¢ç§¯ã€‚</li><li>åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸æ–­æ›´æ–°å¹¶è®°å½•æœ€å¤§çš„çŸ©å½¢é¢ç§¯ã€‚</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largestRectangleArea</span><span class="params">(heights []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    heights = <span class="built_in">append</span>(heights, <span class="number">0</span>)</span><br><span class="line">    n := <span class="built_in">len</span>(heights)</span><br><span class="line">    stack := []<span class="type">int</span>&#123;&#125;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(stack) &gt; <span class="number">0</span> &amp;&amp; heights[i] &lt; heights[stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]] &#123;</span><br><span class="line">            curr := stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            left := <span class="number">-1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(stack) &gt; <span class="number">0</span> &#123;</span><br><span class="line">                left = stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            area := (i - left - <span class="number">1</span>) * heights[curr]</span><br><span class="line">            <span class="keyword">if</span> area &gt; ans &#123;</span><br><span class="line">                ans = area</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        stack = <span class="built_in">append</span>(stack, i)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰ä¸€ä¸ªæŠ€å·§å°±æ˜¯ç›´æ¥åœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ª <code>0</code> ï¼Œè¿™æ ·å°±èƒ½å¼ºåˆ¶æ¸…ç©ºæ ˆï¼Œä¸ç”¨å†å†™ä¸ªå¾ªç¯æ¥æœ€åæ¸…ç©ºæ ˆ</p><p>ä½†æ˜¯è¿™ä¸ªä¸¤é‡ <code>for</code> æˆ‘ä¸æ˜¯å¾ˆèƒ½ç†è§£ï¼Œå°±è¿™æ ·å§ï¼ˆ</p><h1 id="æœ€å¤§çŸ©å½¢"><a href="https://leetcode.cn/problems/maximal-rectangle/">æœ€å¤§çŸ©å½¢</a></h1><p>ä¸€çœ¼ dpï¼Œä½†æ˜¯æˆ‘çœ‹äº†åŠå¤©æƒ³ä¸å‡ºè½¬ç§»æ–¹ç¨‹ğŸ˜­</p><p>åªèƒ½å»çœ‹é¢˜è§£äº†</p><p><a href="https://leetcode.cn/problems/maximal-rectangle/solutions/9535/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by-1-8/?envType=featured-list&amp;envId=2cktkvj">å‘ç°å¯ä»¥ç›´æ¥è½¬æ¢æˆä¸Šä¸€é¢˜</a>ï¼Œä½†æ˜¯é‚£ä¸ª dp æˆ‘çœ‹ä¸æ‡‚ï¼Œç®—äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maximalRectangle</span><span class="params">(matrix [][]<span class="type">byte</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    m,n:=<span class="built_in">len</span>(matrix),<span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">if</span> m==<span class="number">0</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    heights:=<span class="built_in">make</span>([]<span class="type">int</span>,n)</span><br><span class="line">    ans:=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;m;i++&#123;</span><br><span class="line">        <span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;n;j++&#123;</span><br><span class="line">            <span class="keyword">if</span> matrix[i][j]==<span class="string">&#x27;1&#x27;</span>&#123;</span><br><span class="line">                heights[j]+=<span class="number">1</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                heights[j]=<span class="number">0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans=max(ans,largestRectangleArea(heights))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a,b <span class="type">int</span>)</span></span><span class="type">int</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> a&gt;b&#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="äºŒå‰æ ‘çš„ä¸­åºéå†"><a href="https://leetcode.cn/problems/binary-tree-inorder-traversal/"> äºŒå‰æ ‘çš„ä¸­åºéå†</a></h1><p>å‰åºä¸­å·¦å³ï¼Œä¸­åºå·¦ä¸­å³ï¼Œååºå·¦å³ä¸­</p><p>æˆ‘çš„å†™æ³•æœ‰ç‚¹æµªè´¹ç©ºé—´ï¼Œæ¯æ¬¡éƒ½è¦æ‹·è´ï¼Œä½†æ˜¯éšä¾¿äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Left *TreeNode</span></span><br><span class="line"><span class="comment"> *     Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">inorderTraversal</span><span class="params">(root *TreeNode)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    ans:=[]<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">if</span> root==<span class="literal">nil</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> root.Left!=<span class="literal">nil</span>&#123;</span><br><span class="line">        ans=inorderTraversal(root.Left)</span><br><span class="line">    &#125;</span><br><span class="line">    ans=<span class="built_in">append</span>(ans,root.Val)</span><br><span class="line">    <span class="keyword">if</span> root.Right!=<span class="literal">nil</span>&#123;</span><br><span class="line">        ans=<span class="built_in">append</span>(ans,inorderTraversal(root.Right)...)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¸åŒçš„äºŒå‰æœç´¢æ ‘"><a href="https://leetcode.cn/problems/unique-binary-search-trees/">ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a></h1><p><s>ä»€ä¹ˆåŒåˆ†å¼‚æ„ä½“</s></p><p><s>ç¬¬ä¸€çœ¼ï¼ŒèŒƒå›´é‚£ä¹ˆå°ï¼Œç›´æ¥æ‰“è¡¨å‡ºçœä¸€</s></p><p>ç¬¬äºŒçœ¼ï¼Œè‚¯å®šæœ‰æ•°å­¦è§„å¾‹ï¼Œå¥—å…¬å¼å°±è¡Œ</p><p>å¤´ç–¼ï¼Œç›´æ¥çœ‹é¢˜è§£å»äº†ï¼Œå‘ç°æ˜¯å¡ç‰¹å…°æ•°ï¼Œæ²¡äº‹äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">numTrees</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    C := <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        C = C * <span class="number">2</span> * (<span class="number">2</span> * i + <span class="number">1</span>) / (i + <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> C</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="éªŒè¯äºŒå‰æœç´¢æ ‘"><a href="https://leetcode.cn/problems/validate-binary-search-tree/">éªŒè¯äºŒå‰æœç´¢æ ‘</a></h1><p>ç»å…¸é€’å½’ï¼Œçœ‹äº†çœ¼é¢˜è§£è¿˜å¯ä»¥ç”¨ã€ŒäºŒå‰æœç´¢æ ‘ä¸­åºéå†ä¸€å®šæ˜¯é€’å¢çš„ã€è¿™ä¸ªæ€§è´¨</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isValidBST</span><span class="params">(root *TreeNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> myIsValidBST(root, math.MinInt, math.MaxInt)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myIsValidBST</span><span class="params">(root *TreeNode, minVal, maxVal <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> root.Val &lt;= minVal || root.Val &gt;= maxVal &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    leftIsValid := myIsValidBST(root.Left, minVal, root.Val)</span><br><span class="line">    rightIsValid := myIsValidBST(root.Right, root.Val, maxVal)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> leftIsValid &amp;&amp; rightIsValid</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¯¹ç§°äºŒå‰æ ‘"><a href="https://leetcode.cn/problems/symmetric-tree/">å¯¹ç§°äºŒå‰æ ‘</a></h1><p>ç¬¬ä¸€ååº”ï¼šå—¯ï¼Ÿ</p><p>ç¬¬äºŒååº”ï¼šå·¦ä¾§ç”¨ã€Œå·¦ä¸­å³ã€éå†ï¼Œå³ä¾§ç”¨ã€Œå³ä¸­å·¦ã€éå†ï¼Œç„¶åæ¯”è¾ƒè¡Œä¸è¡Œï¼Ÿ</p><p>ç¬¬ä¸‰ååº”ï¼šå°†ä¸€ä¾§çš„å·¦å³å„¿å­é€’å½’åœ°åè½¬ï¼Œç„¶åå’Œå¦ä¸€ä¾§æ¯”è¾ƒæ˜¯ä¸æ˜¯å®Œå…¨ä¸€æ ·</p><p>ä½†æ˜¯è¿™æ ·æ„Ÿè§‰å¤ªéº»çƒ¦äº†ï¼Œæˆ‘é€’å½’çš„æ—¶å€™ç›´æ¥é•œåƒæ¯”è¾ƒè¡Œä¸è¡Œï¼ˆå·¦è¾¹çš„å·¦å„¿å­æ¯”è¾ƒå³è¾¹çš„å³å„¿å­ï¼‰</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Left *TreeNode</span></span><br><span class="line"><span class="comment"> *     Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isSymmetric</span><span class="params">(root *TreeNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> myIsSymmetric(root.Left, root.Right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myIsSymmetric</span><span class="params">(left *TreeNode, right *TreeNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> left == <span class="literal">nil</span> &amp;&amp; right == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="literal">nil</span> &amp;&amp; right != <span class="literal">nil</span>) || (left != <span class="literal">nil</span> &amp;&amp; right == <span class="literal">nil</span>) || left.Val != right.Val &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> myIsSymmetric(left.Left, right.Right) &amp;&amp; myIsSymmetric(left.Right, right.Left)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      
      <comments>https://nickxu.me/post/leetcode-hot-100-t31-t40.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ã€LeetCode-HOT-100ã€T21ï½T30</title>
      <link>https://nickxu.me/post/leetcode-hot-100-t21-t30.html</link>
      <guid>https://nickxu.me/post/leetcode-hot-100-t21-t30.html</guid>
      <pubDate>Thu, 03 Aug 2023 08:27:29 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;å…¨æ’åˆ—&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/permutations/&quot;&gt;å…¨æ’åˆ—&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://nickxu.me/2022/07/10/%E3%80%8E%E7%AE%97%E</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="å…¨æ’åˆ—"><a href="https://leetcode.cn/problems/permutations/">å…¨æ’åˆ—</a></h1><p><a href="https://nickxu.me/2022/07/10/%E3%80%8E%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97%E3%80%8F%E6%8E%92%E5%88%97%E4%B8%8E%E7%BB%84%E5%90%88/?highlight=%E6%8E%92%E5%88%97#%E4%BD%BF%E7%94%A8%E9%80%92%E5%BD%92%EF%BC%88%E6%B3%95%E4%BA%8C%EF%BC%8C%E6%8E%A8%E8%8D%90%EF%BC%89">æ¿å­é¢˜</a>ï¼Œä¸è§£é‡Š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">permute</span><span class="params">(nums []<span class="type">int</span>)</span></span> (ans [][]<span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(begain, end <span class="type">int</span>)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(begain, end <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> begain == end &#123;</span><br><span class="line">            <span class="comment">// åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œéœ€è¦æ·±æ‹·è´ä¸€ä¸‹</span></span><br><span class="line">            tmp := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(nums))</span><br><span class="line">            <span class="built_in">copy</span>(tmp, nums)</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, tmp)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> i := begain; i &lt;= end; i++ &#123;</span><br><span class="line">            nums[begain], nums[i] = nums[i], nums[begain]</span><br><span class="line">            dfs(begain+<span class="number">1</span>, end)</span><br><span class="line">            nums[begain], nums[i] = nums[i], nums[begain]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="number">0</span>, <span class="built_in">len</span>(nums)<span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ—‹è½¬å›¾åƒ"><a href="https://leetcode.cn/problems/rotate-image/">æ—‹è½¬å›¾åƒ</a></h1><p>æ„Ÿè§‰çº¯è„‘ç­‹æ€¥è½¬å¼¯ï¼Œåœ¨è‰ç¨¿çº¸æ¨æ¼”ä¸€æ³¢åº”è¯¥å°±è¡ŒğŸ‘€</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rotate</span><span class="params">(matrix [][]<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(matrix)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n/<span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; (n+<span class="number">1</span>)/<span class="number">2</span>; j++ &#123;</span><br><span class="line">            matrix[i][j], matrix[n-j<span class="number">-1</span>][i], matrix[n-i<span class="number">-1</span>][n-j<span class="number">-1</span>], matrix[j][n-i<span class="number">-1</span>] =</span><br><span class="line">                matrix[n-j<span class="number">-1</span>][i], matrix[n-i<span class="number">-1</span>][n-j<span class="number">-1</span>], matrix[j][n-i<span class="number">-1</span>], matrix[i][j]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å­—æ¯å¼‚ä½è¯åˆ†ç»„"><a href="https://leetcode.cn/problems/group-anagrams/">å­—æ¯å¼‚ä½è¯åˆ†ç»„</a></h1><p>æ²¡æƒ³åˆ°æš´åŠ›è§£æ³•æ—¶é—´ä¸Šèƒ½å‡»è´¥ 95% çš„ Go ç”¨æˆ·ğŸ¤£</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">groupAnagrams</span><span class="params">(strs []<span class="type">string</span>)</span></span> [][]<span class="type">string</span> &#123;</span><br><span class="line">    m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>][]<span class="type">int</span>)</span><br><span class="line">    <span class="keyword">var</span> ans [][]<span class="type">string</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx, str := <span class="keyword">range</span> strs &#123;</span><br><span class="line">        tmpStr := []<span class="type">byte</span>(str)</span><br><span class="line">        sort.Slice(tmpStr, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> tmpStr[i] &lt; tmpStr[j]</span><br><span class="line">        &#125;)</span><br><span class="line">        m[<span class="type">string</span>(tmpStr)] = <span class="built_in">append</span>(m[<span class="type">string</span>(tmpStr)], idx)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, idxs := <span class="keyword">range</span> m &#123;</span><br><span class="line">        tmp := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="built_in">len</span>(idxs))</span><br><span class="line">        <span class="keyword">for</span> i, idx := <span class="keyword">range</span> idxs &#123;</span><br><span class="line">            tmp[i] = strs[idx]</span><br><span class="line">        &#125;</span><br><span class="line">        ans = <span class="built_in">append</span>(ans, tmp)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯ç»Ÿè®¡å­—ç¬¦ä¸ªæ•°æ¥åŒºåˆ†</p><h1 id="æœ€å¤§å­æ•°ç»„å’Œ"><a href="https://leetcode.cn/problems/maximum-subarray/">æœ€å¤§å­æ•°ç»„å’Œ</a></h1><p>ç»å…¸ dpï¼Œä½†æ˜¯åšå®Œäº†æ‰å‘ç°æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œå°±æ˜¯åªæ¥çº³æœ‰è´¡çŒ®çš„å…ƒç´ ï¼ˆå¤§äº 0ï¼‰</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxSubArray</span><span class="params">(nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(nums))</span><br><span class="line">    ans := nums[<span class="number">0</span>]</span><br><span class="line">    dp[<span class="number">0</span>] = nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        dp[i] = max(dp[i<span class="number">-1</span>]+nums[i], nums[i])</span><br><span class="line">        ans = max(ans, dp[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è·³è·ƒæ¸¸æˆ"><a href="https://leetcode.cn/problems/jump-game/">è·³è·ƒæ¸¸æˆ</a></h1><p>ä¹Ÿæ˜¯ç»å…¸ dpï¼Œå½“ç„¶ä¹Ÿæœ‰å…¶ä»–çš„æ–¹æ³•</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">canJump</span><span class="params">(nums []<span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="type">bool</span>, <span class="built_in">len</span>(nums))</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> dp[i] &#123;</span><br><span class="line">            <span class="keyword">for</span> j := i + <span class="number">1</span>; j &lt;= i+nums[i] &amp;&amp; j &lt; <span class="built_in">len</span>(nums); j++ &#123;</span><br><span class="line">                dp[j] = <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="built_in">len</span>(nums)<span class="number">-1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åˆå¹¶åŒºé—´"><a href="https://leetcode.cn/problems/merge-intervals/">åˆå¹¶åŒºé—´</a></h1><p>æ‰“æ­»ä¸çœ‹ğŸ™ˆé¢˜è§£ï¼Œæˆ‘æ‰‹æ“äº†ä¸€ä¸ªæš´åŠ›æ”¹äº†å¥½å‡ å›ç»ˆäºä¹Ÿè¿‡äº†ğŸ˜­</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SIZE = <span class="number">10001</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">merge</span><span class="params">(intervals [][]<span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line"></span><br><span class="line">    end := <span class="built_in">make</span>([]<span class="type">int</span>, SIZE) <span class="comment">// å½“å‰åŒºé—´çš„ç»“æŸä½ç½®</span></span><br><span class="line">    v := <span class="built_in">make</span>([]<span class="type">int</span>, SIZE)   <span class="comment">// è¢«åŒºé—´è¦†ç›–æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line">    sort.Slice(intervals, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> intervals[i][<span class="number">1</span>] != intervals[j][<span class="number">1</span>] &#123;</span><br><span class="line">            <span class="keyword">return</span> intervals[i][<span class="number">1</span>] &lt; intervals[j][<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> intervals[i][<span class="number">0</span>] &lt; intervals[j][<span class="number">0</span>]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fmt.Println(intervals)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx, interval := <span class="keyword">range</span> intervals &#123;</span><br><span class="line">        <span class="keyword">if</span> idx+<span class="number">1</span> &lt; <span class="built_in">len</span>(intervals) &amp;&amp; intervals[idx][<span class="number">0</span>] == intervals[idx+<span class="number">1</span>][<span class="number">0</span>] &amp;&amp; intervals[idx][<span class="number">1</span>] == intervals[idx+<span class="number">1</span>][<span class="number">1</span>] &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> i := interval[<span class="number">0</span>]; i &lt;= interval[<span class="number">1</span>]; i++ &#123;</span><br><span class="line">            end[i] = interval[<span class="number">1</span>]</span><br><span class="line">            v[i]++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// fmt.Println(end)</span></span><br><span class="line">    <span class="comment">// fmt.Println(v)</span></span><br><span class="line">    <span class="keyword">var</span> ans [][]<span class="type">int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; SIZE; i++ &#123;</span><br><span class="line">        <span class="comment">// if v[end[i]] == 0&#123;</span></span><br><span class="line">        <span class="comment">//     continue</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="keyword">if</span> i != <span class="number">0</span> &amp;&amp; end[i] == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> v[end[i]] == <span class="number">1</span> &#123;</span><br><span class="line">            tmp := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">2</span>)</span><br><span class="line">            tmp[<span class="number">0</span>] = i</span><br><span class="line">            i = end[i]</span><br><span class="line">            tmp[<span class="number">1</span>] = i</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, tmp)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> v[end[i]] &gt;= <span class="number">2</span> &#123;</span><br><span class="line">            tmp := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">2</span>)</span><br><span class="line">            tmp[<span class="number">0</span>] = i</span><br><span class="line">            <span class="keyword">for</span> v[end[i]] &gt;= <span class="number">2</span> &amp;&amp; i != end[i] &#123;</span><br><span class="line">                i = end[i]</span><br><span class="line">            &#125;</span><br><span class="line">            i = end[i]</span><br><span class="line">            tmp[<span class="number">1</span>] = i</span><br><span class="line">            <span class="comment">// fmt.Println(tmp)</span></span><br><span class="line">            ans = <span class="built_in">append</span>(ans, tmp)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®æœ‰æ›´ç®€å•çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯å…ˆæ’åºï¼ˆè¿™é‡Œä»¥å·¦ç«¯ç‚¹ä¸ºä¾‹ï¼‰ï¼Œç„¶åæŒ‰ç…§ä¸‹é¢çš„æ€è·¯å¤„ç†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> å½“å‰åŒºé—´çš„å·¦ç«¯ç‚¹ &lt;= å‰ä¸€ä¸ªåŒºé—´çš„å³ç«¯ç‚¹ &#123;</span><br><span class="line">    ä¸ ans çš„æœ€åä¸€ä¸ªåŒºé—´åˆå¹¶ï¼ˆå³ç«¯ç‚¹å–æœ€å¤§å€¼ï¼‰</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    ç›´æ¥åŠ å…¥ ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¸åŒè·¯å¾„"><a href="https://leetcode.cn/problems/unique-paths/">ä¸åŒè·¯å¾„</a></h1><p>æˆ‘å†™çš„åº”è¯¥æ˜¯è®°å¿†åŒ–æœç´¢ï¼ˆï¼Ÿï¼‰å’Œ dp æ„Ÿè§‰æ²¡ä»€ä¹ˆåŒºåˆ«äº†ğŸ‘€</p><p>å½“ç„¶ä½ è¿˜å¯ä»¥ç”¨æ’åˆ—ç»„åˆå…¬å¼ä¸€æ­¥åˆ°ä½å“ˆå“ˆå“ˆ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> N = <span class="number">128</span></span><br><span class="line"><span class="keyword">var</span> count [][]<span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    count = <span class="built_in">make</span>([][]<span class="type">int</span>, N)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; N; i++ &#123;</span><br><span class="line">        count[i] = <span class="built_in">make</span>([]<span class="type">int</span>, N)</span><br><span class="line">    &#125;</span><br><span class="line">    count[<span class="number">1</span>][<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">uniquePaths</span><span class="params">(m <span class="type">int</span>, n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> count[m][n] != <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count[m][n]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> m<span class="number">-1</span> &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        count[m][n] += uniquePaths(m<span class="number">-1</span>, n)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> n<span class="number">-1</span> &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        count[m][n] += uniquePaths(m, n<span class="number">-1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count[m][n]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æœ€å°è·¯å¾„å’Œ"><a href="https://leetcode.cn/problems/minimum-path-sum/">æœ€å°è·¯å¾„å’Œ</a></h1><p>è¿™ä¸ªä¹Ÿæ˜¯ dpï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å†™äº†ä¸ªè®°å¿†åŒ–æœç´¢ï¼ˆ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> N = <span class="number">256</span></span><br><span class="line"><span class="keyword">var</span> count [][]<span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minPathSum</span><span class="params">(grid [][]<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    count = <span class="built_in">make</span>([][]<span class="type">int</span>, N)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; N; i++ &#123;</span><br><span class="line">        count[i] = <span class="built_in">make</span>([]<span class="type">int</span>, N)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; N; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; N; j++ &#123;</span><br><span class="line">            count[i][j] = math.MaxInt</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    count[<span class="number">0</span>][<span class="number">0</span>] = grid[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dfs(<span class="built_in">len</span>(grid)<span class="number">-1</span>, <span class="built_in">len</span>(grid[<span class="number">0</span>])<span class="number">-1</span>, grid)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(m, n <span class="type">int</span>, grid [][]<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> count[m][n] != math.MaxInt &#123;</span><br><span class="line">        <span class="keyword">return</span> count[m][n]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> m<span class="number">-1</span> &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        count[m][n] = min(count[m][n], dfs(m<span class="number">-1</span>, n, grid)+grid[m][n])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> n<span class="number">-1</span> &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        count[m][n] = min(count[m][n], dfs(m, n<span class="number">-1</span>, grid)+grid[m][n])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count[m][n]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="çˆ¬æ¥¼æ¢¯"><a href="https://leetcode.cn/problems/climbing-stairs/">çˆ¬æ¥¼æ¢¯</a></h1><p>æœ€æœ€ç»å…¸çš„ dp äº†ï¼</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> N = <span class="number">64</span></span><br><span class="line"><span class="keyword">var</span> dp = <span class="built_in">make</span>([]<span class="type">int</span>, N)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">climbStairs</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">    dp[<span class="number">2</span>] = <span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">3</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        dp[i] = dp[i<span class="number">-1</span>] + dp[i<span class="number">-2</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç¼–è¾‘è·ç¦»"><a href="https://leetcode.cn/problems/edit-distance/">ç¼–è¾‘è·ç¦»</a></h1><p>å“‡è¿™ä¸ªé¢˜ç›®æ„Ÿè§‰æœ‰ç‚¹éš¾åº¦</p><p>æˆ‘å…ˆä»æš´æœå¼€å§‹æƒ³ï¼Œæ„Ÿè§‰çº¯ BFS è¿˜æ˜¯çº¯ DFS éƒ½ä¸è¡Œï¼Œå¾—å‰ªæï¼Œç„¶åæˆ‘è¿˜æƒ³åˆ° A*ï¼Œå°±åƒå…«æ•°ç é‚£æ ·ï¼Œä½†æ˜¯æ„Ÿè§‰åº”è¯¥æ˜¯æˆ‘æƒ³å¤æ‚äº†</p><p>ç„¶åæˆ‘ä¸€çœ‹æ ‡ç­¾ï¼Œå§æ§½åŠ¨æ€è§„åˆ’ï¼Œæˆ‘åªèƒ½è¯´è¿™ä¹Ÿèƒ½ç”¨ dpï¼Ÿç„¶åæˆ‘å°±å»ä¹–ä¹–åœ°çœ‹é¢˜è§£äº†ğŸ˜­</p><p><a href="https://leetcode.cn/problems/edit-distance/solutions/188223/bian-ji-ju-chi-by-leetcode-solution/comments/331399">è¿™ä¸ªè¯„è®º</a>æ„Ÿè§‰è®²çš„å¾ˆæ¸…æ¥šï¼Œä¸»è¦è¿˜æ˜¯è¦ç†è§£è½¬ç§»æ–¹ç¨‹</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minDistance</span><span class="params">(word1 <span class="type">string</span>, word2 <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">   m, n := <span class="built_in">len</span>(word1), <span class="built_in">len</span>(word2)</span><br><span class="line">   dp := <span class="built_in">make</span>([][]<span class="type">int</span>, m+<span class="number">1</span>)</span><br><span class="line">   <span class="keyword">for</span> i := <span class="keyword">range</span> dp &#123;</span><br><span class="line">      dp[i] = <span class="built_in">make</span>([]<span class="type">int</span>, n+<span class="number">1</span>)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; m+<span class="number">1</span>; i++ &#123;</span><br><span class="line">      dp[i][<span class="number">0</span>] = i</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; n+<span class="number">1</span>; j++ &#123;</span><br><span class="line">      dp[<span class="number">0</span>][j] = j</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; m+<span class="number">1</span>; i++ &#123;</span><br><span class="line">      <span class="keyword">for</span> j := <span class="number">1</span>; j &lt; n+<span class="number">1</span>; j++ &#123;</span><br><span class="line">         <span class="keyword">if</span> word1[i<span class="number">-1</span>] == word2[j<span class="number">-1</span>] &#123;</span><br><span class="line">            dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>]</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            dp[i][j] = <span class="number">1</span> + Min(dp[i][j<span class="number">-1</span>], dp[i<span class="number">-1</span>][j], dp[i<span class="number">-1</span>][j<span class="number">-1</span>])</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> dp[m][n]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Min</span><span class="params">(args ...<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">   min := args[<span class="number">0</span>]</span><br><span class="line">   <span class="keyword">for</span> _, item := <span class="keyword">range</span> args &#123;</span><br><span class="line">      <span class="keyword">if</span> item &lt; min &#123;</span><br><span class="line">         min = item</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> min</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      
      <comments>https://nickxu.me/post/leetcode-hot-100-t21-t30.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ã€LeetCode-HOT-100ã€T11ï½T20</title>
      <link>https://nickxu.me/post/leetcode-hot-100-t11-t20.html</link>
      <guid>https://nickxu.me/post/leetcode-hot-100-t11-t20.html</guid>
      <pubDate>Sun, 30 Jul 2023 11:40:58 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;æœ‰æ•ˆçš„æ‹¬å·&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/valid-parentheses/&quot;&gt;æœ‰æ•ˆçš„æ‹¬å·&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;æ ˆçš„ç»å…¸é¢˜ç›®äº†å±äºæ˜¯&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;tabl</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="æœ‰æ•ˆçš„æ‹¬å·"><a href="https://leetcode.cn/problems/valid-parentheses/">æœ‰æ•ˆçš„æ‹¬å·</a></h1><p>æ ˆçš„ç»å…¸é¢˜ç›®äº†å±äºæ˜¯</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isValid</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    stack := <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k := <span class="number">0</span>; k &lt; <span class="built_in">len</span>(s); k++ &#123;</span><br><span class="line">        i := s[k]</span><br><span class="line">        <span class="keyword">switch</span> i &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">            stack = stack + <span class="type">string</span>(i)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">            <span class="keyword">if</span> stack != <span class="string">&quot;&quot;</span> &amp;&amp; stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>] == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">                stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;&#123;&#x27;</span>:</span><br><span class="line">            stack = stack + <span class="type">string</span>(i)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;&#125;&#x27;</span>:</span><br><span class="line">            <span class="keyword">if</span> stack != <span class="string">&quot;&quot;</span> &amp;&amp; stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>] == <span class="string">&#x27;&#123;&#x27;</span> &#123;</span><br><span class="line">                stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;[&#x27;</span>:</span><br><span class="line">            stack = stack + <span class="type">string</span>(i)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;]&#x27;</span>:</span><br><span class="line">            <span class="keyword">if</span> stack != <span class="string">&quot;&quot;</span> &amp;&amp; stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>] == <span class="string">&#x27;[&#x27;</span> &#123;</span><br><span class="line">                stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> stack == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="https://leetcode.cn/problems/merge-two-sorted-lists/">åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a></h1><p>åšè¿‡äº†ï¼Œè¯·è§<a href="/posts/275.html#21-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8">ã€ç®—æ³•æ‹¾é—ã€é“¾è¡¨ï¼ˆLinked Listï¼‰</a></p><h1 id="æ‹¬å·ç”Ÿæˆ"><a href="https://leetcode.cn/problems/generate-parentheses/">æ‹¬å·ç”Ÿæˆ</a></h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">generateParenthesis</span><span class="params">(n <span class="type">int</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    ans = []<span class="type">string</span>&#123;&#125;</span><br><span class="line">    dfs(<span class="number">0</span>, n)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    curr <span class="type">string</span></span><br><span class="line">    ans  []<span class="type">string</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(count <span class="type">int</span>, n <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(curr) &gt;= n*<span class="number">2</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> count == <span class="number">0</span> &#123;</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, curr)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    pre := curr</span><br><span class="line">    <span class="keyword">if</span> count &lt; n &#123;</span><br><span class="line">        curr = pre + <span class="string">&quot;(&quot;</span></span><br><span class="line">        dfs(count+<span class="number">1</span>, n)</span><br><span class="line">        curr = pre</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> count &gt; <span class="number">0</span> &#123;</span><br><span class="line">        curr = pre + <span class="string">&quot;)&quot;</span></span><br><span class="line">        dfs(count<span class="number">-1</span>, n)</span><br><span class="line">        curr = pre</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åˆå¹¶-K-ä¸ªå‡åºé“¾è¡¨"><a href="https://leetcode.cn/problems/merge-k-sorted-lists/">åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨</a></h1><p>æ–¹æ³•å¾ˆå¤š</p><ol><li>æš´åŠ›è§£ï¼šæŠŠæ‰€æœ‰é“¾è¡¨çš„ç»“ç‚¹éƒ½æ‹†å‡ºæ¥ï¼Œå€¼å­˜åœ¨ä¸€ä¸ªåˆ‡ç‰‡é‡Œï¼Œç„¶åæ’åºå†æ„å»ºä¸€ä¸ªæ–°é“¾è¡¨è¿”å›</li><li>é€ä¸ªå¯¹æ¯”å¤´ç»“ç‚¹ï¼šæ¯æ¬¡é€ä¸€æ¯”è¾ƒæ¯ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹å€¼ï¼Œç”Ÿæˆæ–°é“¾è¡¨</li><li>ä¼˜å…ˆé˜Ÿåˆ—å¤´èŠ‚ç‚¹ï¼šä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå­˜å‚¨æ‰€æœ‰é“¾è¡¨çš„å¤´èŠ‚ç‚¹å€¼ï¼Œä¹‹ååŠ¨æ€å–å‡ºæœ€å¤§å€¼</li><li>é€ä¸€åˆå¹¶ï¼š ä½¿ç”¨ åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ çš„æ–¹æ³•ï¼Œå°†æ‰€æœ‰é“¾è¡¨é€ä¸ªåˆåˆ°ç¬¬ä¸€ä¸ªé“¾è¡¨ä¸­</li><li>ä¸¤ä¸¤åˆå¹¶ï¼šå’Œä¸Šä¸€ç§ç±»å‹ï¼Œä½†æ˜¯æ˜¯å°†é“¾è¡¨ä¸¤ä¸¤åˆå¹¶ï¼Œå°±è·Ÿæ·˜æ±°èµ›ä¸€æ ·ï¼Œæœ€åå‰©ä¸€ä¸ª</li></ol><h2 id="æš´åŠ›è§£">æš´åŠ›è§£</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeKLists</span><span class="params">(lists []*ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    <span class="keyword">var</span> vals []<span class="type">int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, list := <span class="keyword">range</span> lists &#123;</span><br><span class="line">        curr := list</span><br><span class="line">        <span class="keyword">for</span> curr != <span class="literal">nil</span> &#123;</span><br><span class="line">            vals = <span class="built_in">append</span>(vals, curr.Val)</span><br><span class="line">            curr = curr.Next</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort.Ints(vals)</span><br><span class="line"></span><br><span class="line">    dummy := &amp;ListNode&#123;&#125;</span><br><span class="line">    curr := dummy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, val := <span class="keyword">range</span> vals &#123;</span><br><span class="line">        curr.Next = &amp;ListNode&#123;</span><br><span class="line">            Val: val,</span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€ä¸ªå¯¹æ¯”å¤´ç»“ç‚¹">é€ä¸ªå¯¹æ¯”å¤´ç»“ç‚¹</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeKLists</span><span class="params">(lists []*ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    dummy:=&amp;ListNode&#123;&#125;</span><br><span class="line">    curr:=dummy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        minIndex:=<span class="number">-1</span></span><br><span class="line">        minVal:=math.MaxInt32</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> index,listHead := <span class="keyword">range</span> lists&#123;</span><br><span class="line">            <span class="keyword">if</span> listHead!=<span class="literal">nil</span> &amp;&amp; listHead.Val&lt;minVal&#123;</span><br><span class="line">                minIndex=index</span><br><span class="line">                minVal=listHead.Val</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> minIndex==<span class="number">-1</span>&#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        curr.Next=lists[minIndex]</span><br><span class="line">        lists[minIndex]=lists[minIndex].Next</span><br><span class="line">        curr=curr.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¼˜å…ˆé˜Ÿåˆ—å¤´èŠ‚ç‚¹">ä¼˜å…ˆé˜Ÿåˆ—å¤´èŠ‚ç‚¹</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123;</span><br><span class="line">    Index <span class="type">int</span></span><br><span class="line">    Val   <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">cmp</span><span class="params">(a, b any)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> utils.IntComparator(</span><br><span class="line">        a.(Node).Val,</span><br><span class="line">        b.(Node).Val,</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeKLists</span><span class="params">(lists []*ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    dummy := &amp;ListNode&#123;&#125;</span><br><span class="line">    curr := dummy</span><br><span class="line"></span><br><span class="line">    q := priorityqueue.NewWith(cmp)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> index, listHead := <span class="keyword">range</span> lists &#123;</span><br><span class="line">        <span class="keyword">if</span> listHead != <span class="literal">nil</span> &#123;</span><br><span class="line">            q.Enqueue(Node&#123;</span><br><span class="line">                Index: index,</span><br><span class="line">                Val:   listHead.Val,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> !q.Empty() &#123;</span><br><span class="line"></span><br><span class="line">        tmp, _ := q.Dequeue()</span><br><span class="line">        minNode := tmp.(Node)</span><br><span class="line">        curr.Next = lists[minNode.Index]</span><br><span class="line">        lists[minNode.Index] = lists[minNode.Index].Next</span><br><span class="line">        curr = curr.Next</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> lists[minNode.Index] != <span class="literal">nil</span> &#123;</span><br><span class="line">            q.Enqueue(Node&#123;</span><br><span class="line">                Index: minNode.Index,</span><br><span class="line">                Val:   lists[minNode.Index].Val,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€ä¸€åˆå¹¶">é€ä¸€åˆå¹¶</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeKLists</span><span class="params">(lists []*ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(lists) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(lists); i++ &#123;</span><br><span class="line">        lists[<span class="number">0</span>] = mergeTwoLists(lists[<span class="number">0</span>], lists[i])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> lists[<span class="number">0</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸¤ä¸¤åˆå¹¶">ä¸¤ä¸¤åˆå¹¶</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeKLists</span><span class="params">(lists []*ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(lists) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">len</span>(lists) == <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lists[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    empty := <span class="built_in">make</span>([]<span class="type">bool</span>, <span class="built_in">len</span>(lists))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> !empty[<span class="number">1</span>] &#123;</span><br><span class="line">        <span class="keyword">for</span> i := <span class="built_in">len</span>(lists) - <span class="number">1</span>; i &gt; <span class="number">0</span>; i-- &#123;</span><br><span class="line">            lists[i/<span class="number">2</span>] = mergeTwoLists(lists[i/<span class="number">2</span>], lists[i])</span><br><span class="line">            empty[i] = <span class="literal">true</span></span><br><span class="line">            empty[i/<span class="number">2</span>] = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> lists[<span class="number">0</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¸‹ä¸€ä¸ªæ’åˆ—"><a href="https://leetcode.cn/problems/next-permutation/">ä¸‹ä¸€ä¸ªæ’åˆ—</a></h1><ol><li>ä»å³å‘å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå‡åºçš„ä½ç½® <code>i</code></li><li>å¦‚æœ <code>i &gt;= 0</code>ï¼Œä»å³å‘å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº <code>nums[i]</code> çš„ä½ç½® <code>j</code></li><li>äº¤æ¢ä½ç½® <code>i</code> å’Œ <code>j</code> çš„å…ƒç´ </li><li>åè½¬ <code>i</code> ä¹‹åçš„å…ƒç´ ï¼Œå¾—åˆ°ä¸‹ä¸€ä¸ªå…¨æ’åˆ—</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">nextPermutation</span><span class="params">(nums []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="comment">// Step 1: ä»å³å‘å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå‡åºçš„ä½ç½® i</span></span><br><span class="line">    i := <span class="built_in">len</span>(nums) - <span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> i &gt;= <span class="number">0</span> &amp;&amp; nums[i] &gt;= nums[i+<span class="number">1</span>] &#123;</span><br><span class="line">        i--</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Step 2: å¦‚æœ i &gt;= 0ï¼Œä»å³å‘å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº nums[i] çš„ä½ç½® j</span></span><br><span class="line">    <span class="keyword">if</span> i &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        j := <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j &gt;= <span class="number">0</span> &amp;&amp; nums[j] &lt;= nums[i] &#123;</span><br><span class="line">            j--</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Step 3: äº¤æ¢ä½ç½® i å’Œ j çš„å…ƒç´ </span></span><br><span class="line">        nums[i], nums[j] = nums[j], nums[i]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Step 4: åè½¬ i ä¹‹åçš„å…ƒç´ ï¼Œå¾—åˆ°ä¸‹ä¸€ä¸ªå…¨æ’åˆ—</span></span><br><span class="line">    reverse(nums[i+<span class="number">1</span>:])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverse</span><span class="params">(nums []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    left, right := <span class="number">0</span>, <span class="built_in">len</span>(nums)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        nums[left], nums[right] = nums[right], nums[left]</span><br><span class="line">        left++</span><br><span class="line">        right--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æœ€é•¿æœ‰æ•ˆæ‹¬å·"><a href="https://leetcode.cn/problems/longest-valid-parentheses/">æœ€é•¿æœ‰æ•ˆæ‹¬å·</a></h1><h2 id="æ ˆ">æ ˆ</h2><p>é¢˜è§£é‡Œé¢çš„å…ˆå‹å…¥ <code>-1</code> æˆ‘æ˜¯çœŸçš„ç†è§£ä¸æ¥ï¼Œè¿™ä¸ªæ˜¯æˆ‘ä¸€å¼€å§‹æ‰‹æ“çš„ï¼Œæ²¡å‘ç°è¿˜è¦è¿ç€çœ‹ä¹‹å‰çš„è®°å½•ï¼Œåæ¥å‘ç°äº†ï¼Œå°±åŠ äº†ä¸ª <code>maxLen</code> ï¼Œå±…ç„¶å°±è¿‡äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestValidParentheses</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="comment">// æŸä¸ªä¸‹æ ‡çš„æœ‰æ•ˆé•¿åº¦ï¼Œè¿™ä¸œè¥¿æœ‰ç‚¹dpé‚£å‘³äº†å“ˆå“ˆå“ˆ</span></span><br><span class="line">    maxLen := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(s))</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    stack := []<span class="type">int</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx, i := <span class="keyword">range</span> s &#123;</span><br><span class="line">        <span class="keyword">if</span> i == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">            stack = <span class="built_in">append</span>(stack, idx)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(stack) == <span class="number">0</span> &#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            pre := stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å½“å‰è¿™å¯¹æ‹¬å·çš„æœ‰æ•ˆé•¿åº¦</span></span><br><span class="line">            maxLen[idx] = idx - pre + <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> pre<span class="number">-1</span> &gt; <span class="number">0</span> &#123; <span class="comment">// çœ‹çœ‹èƒ½ä¸èƒ½å’Œå‰é¢çš„æ‹¼ä¸€èµ·ğŸ‘€</span></span><br><span class="line">                maxLen[idx] += maxLen[pre<span class="number">-1</span>]</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> maxLen[idx] &gt; ans &#123;</span><br><span class="line">                ans = maxLen[idx]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h2><p><code>dp[i]</code> è¡¨ç¤ºä»¥ç¬¬ <code>i</code> ä¸ªå­—ç¬¦ä¸ºç»“å°¾çš„æœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²çš„é•¿åº¦</p><ol><li>å¯¹äºæ¯ä¸ª <code>s[i]</code> ä¸º <code>(</code> ï¼Œ<code>dp[i]</code> å¿…å®šä¸º <code>0</code> ï¼Œå› ä¸ºä»¥ <code>(</code> ç»“å°¾çš„å­—ç¬¦ä¸²æ°¸è¿œä¸ä¼šæ˜¯æœ‰æ•ˆçš„æ‹¬å·å­ä¸²ã€‚</li><li>å¯¹äºæ¯ä¸ª <code>s[i]</code> ä¸º <code>)</code>ï¼Œå¦‚æœ <code>s[i-1]</code> ä¸º <code>(</code> ï¼Œåˆ™ <code>dp[i] = dp[i-2] + 2</code></li><li>å¯¹äºæ¯ä¸ª <code>s[i]</code> ä¸º <code>)</code>ï¼Œå¦‚æœ <code>s[i-1]</code> ä¸º <code>)</code>å¹¶ä¸” <code>s[i-dp[i-1]-1]</code> ä¸º <code>(</code>ï¼Œåˆ™ <code>dp[i] = dp[i-1] + 2 + dp[i-dp[i-1]-2]</code></li></ol><p>æˆ‘åªèƒ½è¯´æˆ‘çš„ğŸ§ ä¸å¯èƒ½è‡ªå·±è½¬çš„è¿‡æ¥ğŸ¥²</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestValidParentheses</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(s)</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">    maxLength := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> s[i] == <span class="string">&#x27;)&#x27;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> s[i<span class="number">-1</span>] == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> i<span class="number">-2</span> &gt;= <span class="number">0</span> &#123;</span><br><span class="line">                    dp[i] = dp[i<span class="number">-2</span>] + <span class="number">2</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i] = <span class="number">2</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> i-dp[i<span class="number">-1</span>]<span class="number">-1</span> &gt;= <span class="number">0</span> &amp;&amp; s[i-dp[i<span class="number">-1</span>]<span class="number">-1</span>] == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> i-dp[i<span class="number">-1</span>]<span class="number">-2</span> &gt;= <span class="number">0</span> &#123;</span><br><span class="line">                    dp[i] = dp[i<span class="number">-1</span>] + <span class="number">2</span> + dp[i-dp[i<span class="number">-1</span>]<span class="number">-2</span>]</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i] = dp[i<span class="number">-1</span>] + <span class="number">2</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            maxLength = max(maxLength, dp[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> maxLength</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æœç´¢æ—‹è½¬æ’åºæ•°ç»„"><a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/">æœç´¢æ—‹è½¬æ’åºæ•°ç»„</a></h1><p>ä¿®æ”¹è¿‡çš„äºŒåˆ†æ³•ï¼Œæœ‰ç‚¹æ„æ€</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">search</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å·¦å³æŒ‡é’ˆ</span></span><br><span class="line">    left, right := <span class="number">0</span>, <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œåœ¨æœç´¢èŒƒå›´å†…æŸ¥æ‰¾ç›®æ ‡å€¼</span></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        <span class="comment">// è®¡ç®—ä¸­é—´ä½ç½®</span></span><br><span class="line">        mid := left + (right - left) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœä¸­é—´å€¼ç­‰äºç›®æ ‡å€¼ï¼Œåˆ™æ‰¾åˆ°ç›®æ ‡ï¼Œè¿”å›ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">if</span> nums[mid] == target &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­å“ªä¸€åŠæ˜¯æœ‰åºçš„</span></span><br><span class="line">        <span class="keyword">if</span> nums[left] &lt;= nums[mid] &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå·¦åŠæ®µæœ‰åº</span></span><br><span class="line">            <span class="keyword">if</span> nums[left] &lt;= target &amp;&amp; target &lt; nums[mid] &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœç›®æ ‡å€¼åœ¨å·¦åŠæ®µèŒƒå›´å†…ï¼Œåˆ™åœ¨å·¦åŠæ®µç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                right = mid - <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¦åˆ™åœ¨å³åŠæ®µç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå³åŠæ®µæœ‰åº</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid] &lt; target &amp;&amp; target &lt;= nums[right] &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœç›®æ ‡å€¼åœ¨å³åŠæ®µèŒƒå›´å†…ï¼Œåˆ™åœ¨å³åŠæ®µç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¦åˆ™åœ¨å·¦åŠæ®µç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                right = mid - <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæœªæ‰¾åˆ°ç›®æ ‡å€¼ï¼Œåˆ™è¿”å› -1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"><a href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/">åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</a></h1><p>ä¹Ÿæ˜¯äºŒåˆ†ï¼Œæˆ‘çš„æ€è·¯æ˜¯å…ˆä¼ ç»ŸäºŒåˆ†æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ ï¼Œå†ä¸¤ä¾§äºŒåˆ†</p><p>å…¶å®ä¹Ÿå¯ä»¥ä¸¤æ¬¡äºŒåˆ†ï¼Œä¸€æ¬¡æ‰¾æœ€å°å€¼ï¼Œä¸€æ¬¡æ‰¾æœ€å¤§å€¼</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">searchRange</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[<span class="number">0</span>] == target &#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="type">int</span>&#123;<span class="number">0</span>, <span class="number">0</span>&#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="type">int</span>&#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    idx := findIdx(nums, target)</span><br><span class="line">    fmt.Println(idx)</span><br><span class="line">    <span class="keyword">if</span> idx == <span class="number">-1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="type">int</span>&#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    left := leftExt(nums, idx)</span><br><span class="line">    right := rightExt(nums, idx)</span><br><span class="line">    <span class="keyword">return</span> []<span class="type">int</span>&#123;left, right&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findIdx</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> nums[mid] == target &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> nums[mid] &gt; target &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">leftExt</span><span class="params">(nums []<span class="type">int</span>, idx <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    target := nums[idx]</span><br><span class="line">    left, right := <span class="number">0</span>, idx</span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> nums[mid] == target &#123;</span><br><span class="line">            right = mid</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rightExt</span><span class="params">(nums []<span class="type">int</span>, idx <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    target := nums[idx]</span><br><span class="line">    left, right := idx, <span class="built_in">len</span>(nums)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := (left + right + <span class="number">1</span>) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> nums[mid] == target &#123;</span><br><span class="line">            left = mid</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç»„åˆæ€»å’Œ"><a href="https://leetcode.cn/problems/combination-sum/">ç»„åˆæ€»å’Œ</a></h1><p>æƒ³èµ·æ¥é«˜ä¸­çš„ç»å…¸ç¡¬å¸ä¹°å•†å“çš„é¢˜ç›®ï¼Œä½†æ˜¯é‚£ä¸ªå¥½åƒæ˜¯ç»Ÿè®¡æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Œä» 0 å¼€å§‹å¾€å dp è½¬ç§»å°±è¡Œï¼Œè¿™ä¸ªé¢˜æ„Ÿè§‰é€’å½’æ›´å¥½ï¼Œè€Œä¸”å»é‡ä¹Ÿæœ‰ç‚¹éº»çƒ¦</p><p>é€‰æ‹©é€’å½’ä¹Ÿè¦å¤„ç†å»é‡çš„é—®é¢˜ï¼Œå¯ä»¥é™å®šæ¯æ¬¡æ–°çš„å…ƒç´ ä¸èƒ½æ¯”ä¹‹å‰çš„å…ƒç´ å°ï¼ˆç­”æ¡ˆå…ƒç´ å•è°ƒï¼‰ï¼Œè¿™æ ·å°±è¡Œäº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">combinationSum</span><span class="params">(candidates []<span class="type">int</span>, target <span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> curr []<span class="type">int</span> <span class="comment">// å½“å‰é€‰æ‹©çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">var</span> ans [][]<span class="type">int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(target <span class="type">int</span>, pre <span class="type">int</span>)</span></span> <span class="comment">// ç›®æ ‡ targetï¼Œä¹‹å‰æ˜¯ç¬¬ pre ä¸ªå…ƒç´ </span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(target <span class="type">int</span>, pre <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> target == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">// å› ä¸ºåˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥å¾—æ·±æ‹·è´ä¸€ä¸‹</span></span><br><span class="line">            tmp := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(curr))</span><br><span class="line">            <span class="built_in">copy</span>(tmp, curr)</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, tmp)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i := pre; i &lt; <span class="built_in">len</span>(candidates); i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> target-candidates[i] &gt;= <span class="number">0</span> &#123;</span><br><span class="line">                curr = <span class="built_in">append</span>(curr, candidates[i])</span><br><span class="line">                dfs(target-candidates[i], i)</span><br><span class="line">                curr = curr[:<span class="built_in">len</span>(curr)<span class="number">-1</span>]</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(target, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ¥é›¨æ°´"><a href="https://leetcode.cn/problems/trapping-rain-water/">æ¥é›¨æ°´</a></h1><p>å“‡ç»å…¸æ¥é›¨æ°´ï¼Œä¹‹å‰ä¸‰ç»´æ¥é›¨æ°´æŠŠæˆ‘æŠ˜è…¾çš„å¤Ÿå‘›ï¼ˆ</p><p>è¿™é“é¢˜è§£æ³•å¤ªå¤šäº†ï¼Œé™¤äº†æš´åŠ›ï¼ˆæ¯ä¸ªä½ç½®å¾€å·¦å³æ‰«ï¼Œçœ‹å·¦å³æœ€é«˜æœ‰å¤šå°‘ï¼‰ï¼Œè¿˜æœ‰åŠ¨æ€è§„åˆ’ï¼Œæ ˆå’ŒåŒæŒ‡é’ˆç­‰ï¼Œä¸‹é¢æ˜¯åŠ¨æ€è§„åˆ’çš„å†™æ³•</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">trap</span><span class="params">(height []<span class="type">int</span>)</span></span> (ans <span class="type">int</span>) &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(height)</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    leftMax := <span class="built_in">make</span>([]<span class="type">int</span>, n)  <span class="comment">// å½“å‰åŠå·¦è¾¹çš„æœ€å¤§é«˜åº¦</span></span><br><span class="line">    rightMax := <span class="built_in">make</span>([]<span class="type">int</span>, n) <span class="comment">// å½“å‰åŠå³è¾¹çš„æœ€å¤§é«˜åº¦</span></span><br><span class="line">    leftMax[<span class="number">0</span>] = height[<span class="number">0</span>]</span><br><span class="line">    rightMax[n<span class="number">-1</span>] = height[n<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">        leftMax[i] = max(leftMax[i<span class="number">-1</span>], height[i])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        rightMax[i] = max(rightMax[i+<span class="number">1</span>], height[i])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx, h := <span class="keyword">range</span> height &#123;</span><br><span class="line">        ans += min(leftMax[idx], rightMax[idx]) - h</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      
      <comments>https://nickxu.me/post/leetcode-hot-100-t11-t20.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ã€LeetCode-HOT-100ã€T1ï½T10</title>
      <link>https://nickxu.me/post/leetcode-hot-100-t1-t10.html</link>
      <guid>https://nickxu.me/post/leetcode-hot-100-t1-t10.html</guid>
      <pubDate>Mon, 24 Jul 2023 09:40:22 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;ä¸¤æ•°ä¹‹å’Œ&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/two-sum/?envType=featured-list&amp;amp;envId=2cktkvj&quot;&gt;ä¸¤æ•°ä¹‹å’Œ&lt;/a&gt;&lt;/h1&gt;
&lt;h2 id=&quot;æš´åŠ›æšä¸¾&quot;&gt;æš´åŠ›æšä¸¾&lt;/h2&gt;
</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="ä¸¤æ•°ä¹‹å’Œ"><a href="https://leetcode.cn/problems/two-sum/?envType=featured-list&amp;envId=2cktkvj">ä¸¤æ•°ä¹‹å’Œ</a></h1><h2 id="æš´åŠ›æšä¸¾">æš´åŠ›æšä¸¾</h2><p>æš´åŠ›æšä¸¾ <code>i</code> å’Œ <code>j</code> ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">twoSum</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i, _ := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        <span class="keyword">for</span> j := i + <span class="number">1</span>; j &lt; <span class="built_in">len</span>(nums); j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> nums[i]+nums[j] == target &#123;</span><br><span class="line">                <span class="keyword">return</span> []<span class="type">int</span>&#123;i, j&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å“ˆå¸Œè¡¨">å“ˆå¸Œè¡¨</h2><p>å¯¹äºæ¯ä¸€ä¸ª <code>x</code>ï¼Œæ£€æŸ¥ä»¥å‰æœ‰æ²¡æœ‰éå†è¿‡å¦ä¸€åŠ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">twoSum</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, x := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        j, ok := m[target-x]</span><br><span class="line">        <span class="keyword">if</span> ok &#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="type">int</span>&#123;i, j&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        m[x] = i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ä¸¤æ•°ç›¸åŠ "><a href="https://leetcode.cn/problems/add-two-numbers/?envType=featured-list&amp;envId=2cktkvj">ä¸¤æ•°ç›¸åŠ </a></h1><p>ä¸€å¼€å§‹æƒ³ç€èƒ½ä¸èƒ½æŠ½ç¦»å‡ºä¸€ä¸ªå‡½æ•°ç”¨æ¥ç»´æŠ¤ <code>ans</code> é“¾è¡¨ï¼Œç»“æœè¿™ä¸œè¥¿ä¸èƒ½è§£å†³æœ€åçš„è¿›ä½é—®é¢˜</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * type ListNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Next *ListNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addTwoNumbers</span><span class="params">(l1 *ListNode, l2 *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ä½œä¸ºæ–°é“¾è¡¨çš„å¤´éƒ¨</span></span><br><span class="line">    dummy := &amp;ListNode&#123;&#125;</span><br><span class="line">    curr := dummy</span><br><span class="line"></span><br><span class="line">    i, j := l1, l2</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i != <span class="literal">nil</span> &amp;&amp; j != <span class="literal">nil</span> &#123;</span><br><span class="line"></span><br><span class="line">        addNum(&amp;curr, i.Val+j.Val)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> i.Next == <span class="literal">nil</span> &amp;&amp; j.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> j != <span class="literal">nil</span> &#123;</span><br><span class="line">                addNum(&amp;curr, j.Val)</span><br><span class="line">                j = j.Next</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> j.Next == <span class="literal">nil</span> &amp;&amp; i.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> i != <span class="literal">nil</span> &#123;</span><br><span class="line">                addNum(&amp;curr, i.Val)</span><br><span class="line">                i = i.Next</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        i = i.Next</span><br><span class="line">        j = j.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummy</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addNum</span><span class="params">(curr **ListNode, num <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Println(num)</span><br><span class="line"></span><br><span class="line">    (*curr).Val = ((*curr).Val + num) % <span class="number">10</span></span><br><span class="line">    (*curr).Next = &amp;ListNode&#123;</span><br><span class="line">        Val:  num / <span class="number">10</span>,</span><br><span class="line">        Next: <span class="literal">nil</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(*curr)</span><br><span class="line"></span><br><span class="line">    *curr = (*curr).Next</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ²¡åŠæ³•ï¼Œè¿˜æ˜¯æŒ‰ç…§é¢˜è§£çš„æ€è·¯æ‰“äº†ä¸€é</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * type ListNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Next *ListNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addTwoNumbers</span><span class="params">(l1 *ListNode, l2 *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ä½œä¸ºæ–°é“¾è¡¨çš„å¤´éƒ¨</span></span><br><span class="line">    dummy := &amp;ListNode&#123;&#125;</span><br><span class="line">    curr := dummy</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æš‚å­˜è¿›ä½</span></span><br><span class="line">    tmp := <span class="number">0</span></span><br><span class="line">    i, j := l1, l2</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i != <span class="literal">nil</span> || j != <span class="literal">nil</span> &#123;</span><br><span class="line">        x, y := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> i != <span class="literal">nil</span> &#123;</span><br><span class="line">            x = i.Val</span><br><span class="line">            i = i.Next</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> j != <span class="literal">nil</span> &#123;</span><br><span class="line">            y = j.Val</span><br><span class="line">            j = j.Next</span><br><span class="line">        &#125;</span><br><span class="line">        sum := x + y + tmp</span><br><span class="line">        sum, tmp = sum%<span class="number">10</span>, sum/<span class="number">10</span></span><br><span class="line"></span><br><span class="line">        curr.Next = &amp;ListNode&#123;Val: sum&#125;</span><br><span class="line">        curr = curr.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> tmp &gt; <span class="number">0</span> &#123;</span><br><span class="line">        curr.Next = &amp;ListNode&#123;Val: tmp&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/">æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></h1><h2 id="æš´åŠ›æšä¸¾-2">æš´åŠ›æšä¸¾</h2><p>ä½ åº”è¯¥æƒ³åˆ°çš„æ€ä¹ˆå†™ï¼Œä¸å†™äº†</p><h2 id="æ»‘åŠ¨çª—å£">æ»‘åŠ¨çª—å£</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(s)</span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®°å½•æŸä¸ªå­—ç¬¦æœ‰æ²¡æœ‰å‡ºç°è¿‡ï¼Œä¹Ÿå¯ä»¥ç”¨ [128]int&#123;&#125;</span></span><br><span class="line">    set := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">byte</span>]<span class="type">bool</span>)</span><br><span class="line">    <span class="comment">// å·¦å³æŒ‡é’ˆ</span></span><br><span class="line">    i, j, ans := <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j &lt; n &#123;</span><br><span class="line">        <span class="keyword">if</span> set[s[j]] &#123; <span class="comment">// å¦‚æœå­˜åœ¨ï¼Œå°±åœ¨å·¦ä¾§ä¸€ç›´åˆ ï¼Œåˆ åˆ°ä¸å­˜åœ¨</span></span><br><span class="line">            <span class="built_in">delete</span>(set, s[i])</span><br><span class="line">            i++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// å¦‚æœä¸å­˜åœ¨å°±è®°å½•å¹¶æ›´æ–°é•¿åº¦</span></span><br><span class="line">            set[s[j]] = <span class="literal">true</span></span><br><span class="line">            ans = max(ans, j-i+<span class="number">1</span>)</span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &lt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"><a href="https://leetcode.cn/problems/median-of-two-sorted-arrays/">å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</a></h1><h2 id="åˆå¹¶åæ’åº">åˆå¹¶åæ’åº</h2><p>æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæœ€æš´åŠ›çš„æ–¹æ³•</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMedianSortedArrays</span><span class="params">(nums1 []<span class="type">int</span>, nums2 []<span class="type">int</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">    nums3 := <span class="built_in">append</span>(nums1, nums2...)</span><br><span class="line">    sort.Ints(nums3)</span><br><span class="line">    <span class="comment">// fmt.Println(nums3)</span></span><br><span class="line"></span><br><span class="line">    n := <span class="built_in">len</span>(nums3)</span><br><span class="line">    <span class="keyword">if</span> n%<span class="number">2</span> == <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">float64</span>(nums3[n/<span class="number">2</span>])</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">float64</span>(nums3[n/<span class="number">2</span>]+nums3[n/<span class="number">2</span><span class="number">-1</span>]) / <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å½’å¹¶æ³•æœ‰åºåˆå¹¶">ä½¿ç”¨å½’å¹¶æ³•æœ‰åºåˆå¹¶</h2><p>ä¸å†™äº†ï¼Œå°±æ˜¯å½’å¹¶æ’åºçš„å…¶ä¸­ä¸€æ­¥</p><h2 id="åŒæŒ‡é’ˆé€ä¸ªç§»åŠ¨">åŒæŒ‡é’ˆé€ä¸ªç§»åŠ¨</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMedianSortedArrays</span><span class="params">(nums1 []<span class="type">int</span>, nums2 []<span class="type">int</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸‰ä¸ªæŒ‡é’ˆå’Œä¸¤ä¸ªæ•°ç»„é•¿åº¦</span></span><br><span class="line">    i, j, k := <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    n1, n2 := <span class="built_in">len</span>(nums1), <span class="built_in">len</span>(nums2)</span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸­ä½æ•°å˜é‡å’Œä¹‹å‰çš„å€¼</span></span><br><span class="line">    pre, cur := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="comment">// è®¡ç®—æ€»å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    m := n1 + n2</span><br><span class="line">    <span class="comment">// è®¡ç®—ä¸­ä½æ•°çš„ä½ç½®</span></span><br><span class="line">    mid := m / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾ªç¯ï¼Œç›´åˆ°æ‰¾åˆ°ä¸­ä½æ•°çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">for</span> k &lt;= mid &#123;</span><br><span class="line">        <span class="comment">// ä¿å­˜ä¸Šä¸€æ¬¡çš„å€¼</span></span><br><span class="line">        pre = cur</span><br><span class="line">        <span class="comment">// æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„å…ƒç´ ï¼Œå°†è¾ƒå°çš„å…ƒç´ æ”¾å…¥å½“å‰ä½ç½®ï¼ŒæŒ‡é’ˆå‘åç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">if</span> i &lt; n1 &amp;&amp; j &lt; n2 &#123;</span><br><span class="line">            <span class="keyword">if</span> nums1[i] &lt; nums2[j] &#123;</span><br><span class="line">                cur = nums1[i]</span><br><span class="line">                i++</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = nums2[j]</span><br><span class="line">                j++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> i &lt; n1 &#123; <span class="comment">// ç¬¬ä¸€ä¸ªæ•°ç»„è¿˜æœ‰å‰©ä½™å…ƒç´ </span></span><br><span class="line">            cur = nums1[i]</span><br><span class="line">            i++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// ç¬¬äºŒä¸ªæ•°ç»„è¿˜æœ‰å‰©ä½™å…ƒç´ </span></span><br><span class="line">            cur = nums2[j]</span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">        k++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ€»å…ƒç´ ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ï¼Œè¿”å›ç›¸åº”çš„ç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span> m % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">float64</span>(pre + cur) / <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">float64</span>(cur)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŒæŒ‡é’ˆäºŒåˆ†ç§»åŠ¨ï¼ˆç±»ä¼¼ç¬¬-k-å°æ•°ï¼‰">åŒæŒ‡é’ˆäºŒåˆ†ç§»åŠ¨ï¼ˆç±»ä¼¼ç¬¬ k å°æ•°ï¼‰</h2><p>å»ºè®®å»çœ‹ä¸€çœ¼é¢˜è§£ğŸ‘€</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMedianSortedArrays</span><span class="params">(nums1 []<span class="type">int</span>, nums2 []<span class="type">int</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="comment">// ç¡®ä¿nums1æ˜¯è¾ƒçŸ­çš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums1) &gt; <span class="built_in">len</span>(nums2) &#123;</span><br><span class="line">        nums1, nums2 = nums2, nums1</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">    m, n := <span class="built_in">len</span>(nums1), <span class="built_in">len</span>(nums2)</span><br><span class="line">    <span class="comment">// è®¡ç®—æ€»å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    total := m + n</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰äºŒåˆ†æŸ¥æ‰¾çš„è¾¹ç•Œ</span></span><br><span class="line">    left, right := <span class="number">0</span>, m</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        <span class="comment">// äºŒåˆ†æŸ¥æ‰¾åˆ†å‰²çº¿çš„ä½ç½®</span></span><br><span class="line">        partition1 := (left + right) / <span class="number">2</span></span><br><span class="line">        partition2 := (total+<span class="number">1</span>)/<span class="number">2</span> - partition1</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¡ç®—åˆ†å‰²çº¿ä¸¤è¾¹çš„æœ€å¤§æœ€å°å€¼</span></span><br><span class="line">        maxLeft1 := math.MinInt32</span><br><span class="line">        <span class="keyword">if</span> partition1 &gt; <span class="number">0</span> &#123;</span><br><span class="line">            maxLeft1 = nums1[partition1<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        maxLeft2 := math.MinInt32</span><br><span class="line">        <span class="keyword">if</span> partition2 &gt; <span class="number">0</span> &#123;</span><br><span class="line">            maxLeft2 = nums2[partition2<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        minRight1 := math.MaxInt32</span><br><span class="line">        <span class="keyword">if</span> partition1 &lt; m &#123;</span><br><span class="line">            minRight1 = nums1[partition1]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        minRight2 := math.MaxInt32</span><br><span class="line">        <span class="keyword">if</span> partition2 &lt; n &#123;</span><br><span class="line">            minRight2 = nums2[partition2]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†æ­£ç¡®çš„åˆ†å‰²çº¿</span></span><br><span class="line">        <span class="keyword">if</span> maxLeft1 &lt;= minRight2 &amp;&amp; maxLeft2 &lt;= minRight1 &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®æ€»å…ƒç´ ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°è¿”å›ç»“æœ</span></span><br><span class="line">            <span class="keyword">if</span> total % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="type">float64</span>(max(maxLeft1, maxLeft2) + min(minRight1, minRight2)) / <span class="number">2.0</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="type">float64</span>(max(maxLeft1, maxLeft2))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> maxLeft1 &gt; minRight2 &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå½“å‰åˆ†å‰²çº¿å·¦ä¾§çš„å…ƒç´ è¿‡å¤šï¼Œç¼©å°å³è¾¹ç•Œ</span></span><br><span class="line">            right = partition1 - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå½“å‰åˆ†å‰²çº¿å³ä¾§çš„å…ƒç´ è¿‡å¤šï¼Œå¢å¤§å·¦è¾¹ç•Œ</span></span><br><span class="line">            left = partition1 + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0.0</span> <span class="comment">// è¾“å…¥æ•°ç»„æœ‰è¯¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾…åŠ©å‡½æ•°ï¼Œè¿”å›ä¸¤ä¸ªæ•´æ•°ä¸­è¾ƒå¤§çš„ä¸€ä¸ª</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾…åŠ©å‡½æ•°ï¼Œè¿”å›ä¸¤ä¸ªæ•´æ•°ä¸­è¾ƒå°çš„ä¸€ä¸ª</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><details class="toggle"><summary class="toggle-button" style="">GPT çš„è§£é‡Š</summary><div class="toggle-content"><p>å½“æˆ‘ä»¬å¤„ç†ä¸¤ä¸ªå·²æ’åºçš„æ•°ç»„ï¼Œè¦æ‰¾åˆ°å®ƒä»¬çš„ä¸­ä½æ•°æ—¶ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ˜¯ä¸€ç§é«˜æ•ˆçš„æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨è¾ƒçŸ­çš„æ•°ç»„ä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œé€šè¿‡åˆ†å‰²çº¿å°†ä¸¤ä¸ªæ•°ç»„åˆ’åˆ†æˆå·¦å³ä¸¤éƒ¨åˆ†ï¼Œå¹¶æ»¡è¶³ä¸€å®šçš„æ¡ä»¶ã€‚è®©æˆ‘ä»¬è¯¦ç»†è§£é‡Šä¸€ä¸‹è¿™ä¸ªäºŒåˆ†æ³•ã€‚</p><ol><li><p>ç¡®å®šè¾ƒçŸ­çš„æ•°ç»„ï¼šä¸ºäº†å‡å°‘æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬é€‰æ‹©åœ¨è¾ƒçŸ­çš„æ•°ç»„ä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ï¼Œå¦‚æœnums1çš„é•¿åº¦å¤§äºnums2çš„é•¿åº¦ï¼Œåˆ™äº¤æ¢å®ƒä»¬ï¼Œç¡®ä¿nums1æ˜¯è¾ƒçŸ­çš„æ•°ç»„ã€‚</p></li><li><p>è®¾å®šäºŒåˆ†æŸ¥æ‰¾çš„è¾¹ç•Œï¼šæˆ‘ä»¬åœ¨è¾ƒçŸ­æ•°ç»„nums1ä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾å®šå·¦è¾¹ç•Œ<code>left</code>ä¸º0ï¼Œå³è¾¹ç•Œ<code>right</code>ä¸ºnums1çš„é•¿åº¦ã€‚</p></li><li><p>äºŒåˆ†æŸ¥æ‰¾ï¼šæˆ‘ä»¬åœ¨nums1æ•°ç»„ä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ¯æ¬¡è¿­ä»£éƒ½è®¡ç®—ä¸€ä¸ªåˆ†å‰²çº¿çš„ä½ç½®<code>partition1</code>ï¼Œä»¥åŠå¦ä¸€ä¸ªæ•°ç»„nums2ä¸­å¯¹åº”çš„åˆ†å‰²çº¿ä½ç½®<code>partition2</code>ã€‚</p></li><li><p>è®¡ç®—åˆ†å‰²çº¿ä¸¤è¾¹çš„æœ€å¤§æœ€å°å€¼ï¼šæˆ‘ä»¬åˆ†åˆ«è®¡ç®—ä¸¤ä¸ªæ•°ç»„ä¸­åˆ†å‰²çº¿ä¸¤è¾¹çš„æœ€å¤§å’Œæœ€å°å€¼ã€‚è®¾<code>maxLeft1</code>ä¸ºnums1ä¸­å·¦è¾¹éƒ¨åˆ†çš„æœ€å¤§å€¼ï¼Œ<code>maxLeft2</code>ä¸ºnums2ä¸­å·¦è¾¹éƒ¨åˆ†çš„æœ€å¤§å€¼ï¼Œ<code>minRight1</code>ä¸ºnums1ä¸­å³è¾¹éƒ¨åˆ†çš„æœ€å°å€¼ï¼Œ<code>minRight2</code>ä¸ºnums2ä¸­å³è¾¹éƒ¨åˆ†çš„æœ€å°å€¼ã€‚</p></li><li><p>åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°æ­£ç¡®çš„åˆ†å‰²çº¿ï¼šå¦‚æœ<code>maxLeft1</code>å°äºç­‰äº<code>minRight2</code>ä¸”<code>maxLeft2</code>å°äºç­‰äº<code>minRight1</code>ï¼Œè¯´æ˜å½“å‰çš„åˆ†å‰²çº¿ä½ç½®æ˜¯æ­£ç¡®çš„ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦ç¡®ä¿å·¦è¾¹çš„å…ƒç´ éƒ½å°äºç­‰äºå³è¾¹çš„å…ƒç´ ï¼Œä¸”å·¦è¾¹çš„éƒ¨åˆ†çš„é•¿åº¦ä¸å³è¾¹çš„éƒ¨åˆ†é•¿åº¦ç›¸ç­‰æˆ–ç›¸å·®1ï¼ˆè¿™æ ·æ‰èƒ½å¾—åˆ°ä¸­ä½æ•°ï¼‰ã€‚å¦‚æœæ¡ä»¶æ»¡è¶³ï¼Œåˆ™æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†æ­£ç¡®çš„åˆ†å‰²çº¿ã€‚</p></li><li><p>è°ƒæ•´åˆ†å‰²çº¿ä½ç½®ï¼šå¦‚æœå½“å‰åˆ†å‰²çº¿ä½ç½®ä¸æ­£ç¡®ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®<code>maxLeft1</code>å’Œ<code>minRight2</code>ä¹‹é—´çš„å…³ç³»æ¥è°ƒæ•´åˆ†å‰²çº¿ä½ç½®ã€‚å¦‚æœ<code>maxLeft1</code>å¤§äº<code>minRight2</code>ï¼Œè¯´æ˜nums1çš„åˆ†å‰²çº¿ä½ç½®è¿‡å¤§ï¼Œéœ€è¦å°†å³è¾¹ç•Œ<code>right</code>å‘å·¦ç§»åŠ¨ï¼›å¦‚æœ<code>maxLeft2</code>å¤§äº<code>minRight1</code>ï¼Œè¯´æ˜nums1çš„åˆ†å‰²çº¿ä½ç½®è¿‡å°ï¼Œéœ€è¦å°†å·¦è¾¹ç•Œ<code>left</code>å‘å³ç§»åŠ¨ã€‚ç„¶åç»§ç»­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°æ­£ç¡®çš„åˆ†å‰²çº¿ä½ç½®ã€‚</p></li><li><p>è¿”å›ç»“æœï¼šæ ¹æ®æ€»å…ƒç´ ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ï¼Œè¿”å›ç›¸åº”çš„ç»“æœã€‚å¦‚æœæ€»å…ƒç´ ä¸ªæ•°æ˜¯å¶æ•°ï¼Œåˆ™ä¸­ä½æ•°ä¸ºä¸¤ä¸ªä¸­é—´å€¼çš„å¹³å‡æ•°ï¼›å¦‚æœæ€»å…ƒç´ ä¸ªæ•°æ˜¯å¥‡æ•°ï¼Œåˆ™ä¸­ä½æ•°ä¸ºè¾ƒé•¿çš„æ•°ç»„ä¸­çš„ä¸­é—´å€¼ã€‚</p></li></ol><p>é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨O(log(min(m, n)))çš„æ—¶é—´å¤æ‚åº¦å†…æ‰¾åˆ°ä¸¤ä¸ªå·²æ’åºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œæ˜¯ä¸€ç§é«˜æ•ˆä¸”ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p></div></details><h1 id="æœ€é•¿å›æ–‡å­ä¸²"><a href="https://leetcode.cn/problems/longest-palindromic-substring/">æœ€é•¿å›æ–‡å­ä¸²</a></h1><h2 id="æš´åŠ›æšä¸¾-3">æš´åŠ›æšä¸¾</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestPalindrome</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    ans := <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := i + <span class="number">1</span>; j &lt; <span class="built_in">len</span>(s)+<span class="number">1</span>; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> isPaling(s[i:j]) &amp;&amp; <span class="built_in">len</span>(s[i:j]) &gt; <span class="built_in">len</span>(ans) &#123;</span><br><span class="line">                ans = s[i:j]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isPaling</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s)/<span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> s[i] != s[<span class="built_in">len</span>(s)-i<span class="number">-1</span>] &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æšä¸¾ä¸­å¿ƒå¹¶æ‰©å±•">æšä¸¾ä¸­å¿ƒå¹¶æ‰©å±•</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestPalindrome</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> start, end <span class="type">int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        left1, right1 := expandAroundCenter(s, i, i)</span><br><span class="line">        left2, right2 := expandAroundCenter(s, i, i+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> right1-left1 &gt; end-start &#123;</span><br><span class="line">            start, end = left1, right1</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> right2-left2 &gt; end-start &#123;</span><br><span class="line">            start, end = left2, right2</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s[start : end+<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">expandAroundCenter</span><span class="params">(s <span class="type">string</span>, left, right <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> left &gt;= <span class="number">0</span> &amp;&amp; right &lt; <span class="built_in">len</span>(s) &amp;&amp; s[left] == s[right] &#123;</span><br><span class="line">        left = left - <span class="number">1</span></span><br><span class="line">        right = right + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left + <span class="number">1</span>, right - <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h2><ul><li>$      dp[i][j]$  è¡¨ç¤º <code>s[i][j]</code> æ˜¯å›æ–‡</li><li>è½¬ç§»æ–¹ç¨‹ï¼š $      dp[i][j]$ = $      dp[i+1][j-1]$ and  $      s[i]==s[j]$</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestPalindrome</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(s)</span><br><span class="line">    dp := <span class="built_in">make</span>([][]<span class="type">bool</span>, n)</span><br><span class="line">    ans := s[<span class="number">0</span>:<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        dp[i] = <span class="built_in">make</span>([]<span class="type">bool</span>, n)</span><br><span class="line">        dp[i][i] = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> l := <span class="number">2</span>; l &lt;= n; l++ &#123;</span><br><span class="line">        <span class="keyword">for</span> start := <span class="number">0</span>; start &lt; n-l+<span class="number">1</span>; start++ &#123;</span><br><span class="line">            end := start + l - <span class="number">1</span></span><br><span class="line">            <span class="comment">// é¦–ä½æ˜¯å¦ç›¸åŒ</span></span><br><span class="line">            <span class="keyword">if</span> s[start] == s[end] &#123;</span><br><span class="line">                <span class="keyword">if</span> l == <span class="number">2</span> &#123;</span><br><span class="line">                    dp[start][end] = <span class="literal">true</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[start][end] = dp[start+<span class="number">1</span>][end<span class="number">-1</span>]</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">                <span class="keyword">if</span> dp[start][end] == <span class="literal">true</span> &amp;&amp; (end-start+<span class="number">1</span>) &gt; <span class="built_in">len</span>(ans) &#123;</span><br><span class="line">                    ans = s[start : end+<span class="number">1</span>]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"><a href="https://leetcode.cn/problems/regular-expression-matching/">æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</a></h1><p>hard é¢˜ï¼Œå…ˆæ”¾å¼ƒäº†</p><p>åŠ¨æ€è§„åˆ’ï¼Œ<code>dp[i][j]</code> è¡¨ç¤º <code>s</code> çš„å‰ <code>i</code> ä¸ªå­—ç¬¦å’Œ <code>p</code> çš„å‰<code>j</code> ä¸ªå­—ç¬¦æ˜¯å¦èƒ½åŒ¹é…</p><details class="toggle"><summary class="toggle-button" style="">è½¬ç§»æ–¹ç¨‹ GPT</summary><div class="toggle-content"><p>å¯¹äºçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„è§£é‡Šï¼Œæˆ‘ä»¬æ¥å…·ä½“è¯´æ˜ä¸€ä¸‹åœ¨åŠ¨æ€è§„åˆ’ä¸­å¦‚ä½•æ„å»ºçŠ¶æ€è½¬ç§»ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ <code>dp[i][j]</code> æ¥è¡¨ç¤º <code>s</code> çš„å‰ <code>i</code> ä¸ªå­—ç¬¦å’Œ <code>p</code> çš„å‰ <code>j</code> ä¸ªå­—ç¬¦æ˜¯å¦åŒ¹é…ã€‚</p><ol><li><p>å½“ <code>p[j-1]</code> æ˜¯æ™®é€šå­—ç¬¦ï¼ˆå°å†™å­—æ¯ï¼‰ï¼Œä¸”ä¸ <code>s[i-1]</code> åŒ¹é…æ—¶ï¼Œ<code>dp[i][j]</code> çš„å€¼ç”± <code>dp[i-1][j-1]</code> å†³å®šã€‚å³ï¼š</p> <figure class="highlight plaintext"><div class="highlight-tools "><i class="fas fa-angle-down expand "></i><div class="code-lang">plaintext</div><div class="copy-notice"></div><i class="fas fa-paste copy-button"></i></div><table><tbody><tr><td class="code"><pre><span class="line">if p[j-1] == s[i-1] {</span><br><span class="line">    dp[i][j] = dp[i-1][j-1]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>å½“ <code>p[j-1]</code> æ˜¯ â€œ.â€ï¼ˆåŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼‰æ—¶ï¼Œ<code>dp[i][j]</code> çš„å€¼åŒæ ·ç”± <code>dp[i-1][j-1]</code> å†³å®šã€‚å³ï¼š</p> <figure class="highlight plaintext"><div class="highlight-tools "><i class="fas fa-angle-down expand "></i><div class="code-lang">plaintext</div><div class="copy-notice"></div><i class="fas fa-paste copy-button"></i></div><table><tbody><tr><td class="code"><pre><span class="line">if p[j-1] == '.' {</span><br><span class="line">    dp[i][j] = dp[i-1][j-1]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>å½“ <code>p[j-1]</code> æ˜¯ â€œ*â€ï¼ˆåŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„å­—ç¬¦ï¼‰æ—¶ï¼Œæƒ…å†µç¨å¾®å¤æ‚ä¸€äº›ã€‚</p><ul><li><p>å¦‚æœ <code>p[j-2]</code> ä¸ <code>s[i-1]</code> ä¸åŒ¹é…ï¼Œé‚£ä¹ˆ <code>*</code> åªèƒ½è®© <code>p</code> çš„å‰é¢ä¸¤ä¸ªå­—ç¬¦æ¶ˆå¤±ï¼Œå³åŒ¹é… 0 æ¬¡ï¼Œ<code>dp[i][j]</code> çš„å€¼ç”± <code>dp[i][j-2]</code> å†³å®šã€‚å³ï¼š</p>   <figure class="highlight plaintext"><div class="highlight-tools "><i class="fas fa-angle-down expand "></i><div class="code-lang">plaintext</div><div class="copy-notice"></div><i class="fas fa-paste copy-button"></i></div><table><tbody><tr><td class="code"><pre><span class="line">if p[j-1] == '*' &amp;&amp; p[j-2] != s[i-1] {</span><br><span class="line">    dp[i][j] = dp[i][j-2]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>å¦‚æœ <code>p[j-2]</code> ä¸ <code>s[i-1]</code> åŒ¹é…ï¼Œæˆ–è€… <code>p[j-2]</code> æ˜¯ â€œ.â€ï¼ˆåŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰å¤šç§é€‰æ‹©ï¼š</p><ul><li><code>*</code> åŒ¹é… 0 æ¬¡ï¼š<code>dp[i][j]</code> çš„å€¼ç”± <code>dp[i][j-2]</code> å†³å®šã€‚</li><li><code>*</code> åŒ¹é… 1 æ¬¡ï¼š<code>dp[i][j]</code> çš„å€¼ç”± <code>dp[i-1][j-2]</code> å†³å®šã€‚</li><li><code>*</code> åŒ¹é…å¤šæ¬¡ï¼š<code>dp[i][j]</code> çš„å€¼ç”± <code>dp[i-1][j]</code> å†³å®šã€‚</li></ul><p>ç»¼åˆä¸Šè¿°æƒ…å†µï¼Œ<code>dp[i][j]</code> çš„å€¼ä¸ºè¿™äº›é€‰æ‹©çš„é€»è¾‘æˆ–ï¼ˆ<code>||</code>ï¼‰ç»“æœã€‚å³ï¼š</p>   <figure class="highlight plaintext"><div class="highlight-tools "><i class="fas fa-angle-down expand "></i><div class="code-lang">plaintext</div><div class="copy-notice"></div><i class="fas fa-paste copy-button"></i></div><table><tbody><tr><td class="code"><pre><span class="line">if p[j-1] == '*' &amp;&amp; (p[j-2] == s[i-1] || p[j-2] == '.') {</span><br><span class="line">    dp[i][j] = dp[i][j-2] || dp[i-1][j-2] || dp[i-1][j]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul></li></ol><p>è¿™å°±æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å…·ä½“è¡¨è¾¾å¼ï¼Œé€šè¿‡åˆç†çš„çŠ¶æ€è½¬ç§»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŠ¨æ€è§„åˆ’çš„è¿‡ç¨‹ä¸­æ±‚è§£å‡º <code>dp[m][n]</code> çš„å€¼ï¼Œå…¶ä¸­ <code>m</code> æ˜¯å­—ç¬¦ä¸² <code>s</code> çš„é•¿åº¦ï¼Œ<code>n</code> æ˜¯å­—ç¬¦è§„å¾‹ <code>p</code> çš„é•¿åº¦ã€‚æœ€ç»ˆï¼Œ<code>dp[m][n]</code> çš„å€¼å³ä¸ºæ•´ä¸ªå­—ç¬¦ä¸² <code>s</code> å’Œå­—ç¬¦è§„å¾‹ <code>p</code> æ˜¯å¦åŒ¹é…çš„ç»“æœã€‚</p></div></details><h1 id="ç››æœ€å¤šæ°´çš„å®¹å™¨"><a href="https://leetcode.cn/problems/container-with-most-water/">ç››æœ€å¤šæ°´çš„å®¹å™¨</a></h1><p>ç»å…¸çš„äºŒç»´æ¥é›¨æ°´ï¼ŒåŒæŒ‡é’ˆæ³•</p><p>å·²çŸ¥ï¼š</p><ul><li>ç›¸åŒæƒ…å†µä¸‹ï¼Œä¸¤è¾¹è¶Šè¿œè¶Šå¥½</li><li>é¢ç§¯å—é™äºçŸ­è¾¹</li></ul><p>ç­–ç•¥ï¼š</p><ul><li>ä»å·¦å³ä¸¤è¾¹å¼€å§‹å¾€ä¸­é—´æ‰«</li><li>å°½é‡ä¿æŒé•¿è¾¹ä¸åŠ¨ï¼Œç§»åŠ¨çŸ­è¾¹</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxArea</span><span class="params">(height []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(height)</span><br><span class="line"></span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span></span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        ans = max(ans, (right-left)*min(height[right], height[left]))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> height[left] &gt; height[right] &#123;</span><br><span class="line">            right--</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¸‰æ•°ä¹‹å’Œ"><a href="https://leetcode.cn/problems/3sum/">ä¸‰æ•°ä¹‹å’Œ</a></h1><p>æ’åº+åŒæŒ‡é’ˆï¼Œ<a href="https://leetcode.cn/problems/3sum/solutions/11525/3sumpai-xu-shuang-zhi-zhen-yi-dong-by-jyd/?envType=featured-list&amp;envId=2cktkvj">è¿™ç¯‡é¢˜è§£</a>è®²çš„å¾ˆå¥½</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">threeSum</span><span class="params">(nums []<span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    sort.Ints(nums)</span><br><span class="line">    ans := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k := <span class="number">0</span>; k &lt; n<span class="number">-2</span>; k++ &#123; <span class="comment">// ç¬¬ä¸€ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">if</span> nums[k] &gt; <span class="number">0</span> &#123; <span class="comment">// å› ä¸º k,i,j é€’å¢ï¼Œå¦‚æœ k&gt;0 å°±ç›´æ¥ä¸å¯èƒ½äº†</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> k &gt; <span class="number">0</span> &amp;&amp; nums[k] == nums[k<span class="number">-1</span>] &#123;  <span class="comment">// è·³è¿‡é‡å¤</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        i, j := k+<span class="number">1</span>, n<span class="number">-1</span> <span class="comment">// i,j ä» [k+1,n-1] å‘ä¸­é—´èµ°</span></span><br><span class="line">        <span class="keyword">for</span> i &lt; j &#123;</span><br><span class="line">            sum := nums[k] + nums[i] + nums[j]</span><br><span class="line">            <span class="keyword">if</span> sum == <span class="number">0</span> &#123;</span><br><span class="line">                ans = <span class="built_in">append</span>(ans, []<span class="type">int</span>&#123;nums[k], nums[i], nums[j]&#125;)</span><br><span class="line">                <span class="keyword">for</span> i &lt; j &amp;&amp; nums[i] == nums[i+<span class="number">1</span>] &#123;</span><br><span class="line">                    i++</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> i &lt; j &amp;&amp; nums[j] == nums[j<span class="number">-1</span>] &#123;</span><br><span class="line">                    j--</span><br><span class="line">                &#125;</span><br><span class="line">                i++</span><br><span class="line">                j--</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> sum &gt; <span class="number">0</span> &#123; <span class="comment">// ä¾æ®é€’å¢æ€§è´¨ï¼Œè°ƒæ•´ i,j</span></span><br><span class="line">                j--</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                i++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"><a href="https://leetcode.cn/problems/letter-combinations-of-a-phone-number/">ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</a></h1><p>ç»å…¸å›æº¯ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰ BFS çš„æ€è·¯æ›´æ¸…æ™°</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m = <span class="keyword">map</span>[<span class="type">byte</span>][]<span class="type">string</span>&#123;</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span>: &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span>: &#123;<span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;4&#x27;</span>: &#123;<span class="string">&quot;g&quot;</span>, <span class="string">&quot;h&quot;</span>, <span class="string">&quot;i&quot;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;5&#x27;</span>: &#123;<span class="string">&quot;j&quot;</span>, <span class="string">&quot;k&quot;</span>, <span class="string">&quot;l&quot;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;6&#x27;</span>: &#123;<span class="string">&quot;m&quot;</span>, <span class="string">&quot;n&quot;</span>, <span class="string">&quot;o&quot;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;7&#x27;</span>: &#123;<span class="string">&quot;p&quot;</span>, <span class="string">&quot;q&quot;</span>, <span class="string">&quot;r&quot;</span>, <span class="string">&quot;s&quot;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;8&#x27;</span>: &#123;<span class="string">&quot;t&quot;</span>, <span class="string">&quot;u&quot;</span>, <span class="string">&quot;v&quot;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;9&#x27;</span>: &#123;<span class="string">&quot;w&quot;</span>, <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>, <span class="string">&quot;z&quot;</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">letterCombinations</span><span class="params">(digits <span class="type">string</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> digits == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="type">string</span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> queue []<span class="type">string</span></span><br><span class="line">    queue = <span class="built_in">append</span>(queue, m[digits[<span class="number">0</span>]]...) <span class="comment">// æŠŠé¦–ä½æ•°å­—å¯¹åº”çš„å­—æ¯æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">    digits = digits[<span class="number">1</span>:]                    <span class="comment">// å»æ‰é¦–ä½æ•°å­—</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> digits != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> tmp []<span class="type">string</span></span><br><span class="line">        <span class="keyword">for</span> _, v := <span class="keyword">range</span> queue &#123;</span><br><span class="line">            tmp = <span class="built_in">append</span>(tmp, combination(v, digits[<span class="number">0</span>])...)</span><br><span class="line">        &#125;</span><br><span class="line">        queue = tmp</span><br><span class="line">        digits = digits[<span class="number">1</span>:]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> queue</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† s çš„ç»“å°¾åˆ†åˆ«åŠ ä¸Š target çš„æ˜ å°„</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">combination</span><span class="params">(s <span class="type">string</span>, target <span class="type">byte</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> ans []<span class="type">string</span></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> m[target] &#123;</span><br><span class="line">        ans = <span class="built_in">append</span>(ans, s+v)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-N-ä¸ªç»“ç‚¹"><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/">åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</a></h1><p>åšè¿‡äº†ï¼Œè¯·è§<a href="/posts/275.html#19-%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%AC-N-%E4%B8%AA%E7%BB%93%E7%82%B9">ã€ç®—æ³•æ‹¾é—ã€é“¾è¡¨ï¼ˆLinked Listï¼‰</a></p>]]></content:encoded>
      
      
      
      
      <comments>https://nickxu.me/post/leetcode-hot-100-t1-t10.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ã€OSPP2023ã€æˆ‘ä¸ OSPP çš„æ•…äº‹ â€”â€” ä»å¬é—»åˆ°ä¸­é€‰</title>
      <link>https://nickxu.me/2023/06/my-story-with-OSPP-from-hearing-to-being-selected.html</link>
      <guid>https://nickxu.me/2023/06/my-story-with-OSPP-from-hearing-to-being-selected.html</guid>
      <pubDate>Fri, 30 Jun 2023 06:41:59 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;https://image.nickxu.me/202306301521080.jpeg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;6æœˆ26æ—¥ä¸‹åˆ3ç‚¹ï¼ŒOSPP2023 ä¸­é€‰ç»“æœæ­£å¼å‘å¸ƒï¼Œ&lt;a href=&quot;https://summer-o</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="https://image.nickxu.me/202306301521080.jpeg" alt=""></p><blockquote><p>6æœˆ26æ—¥ä¸‹åˆ3ç‚¹ï¼ŒOSPP2023 ä¸­é€‰ç»“æœæ­£å¼å‘å¸ƒï¼Œ<a href="https://summer-ospp.ac.cn/news/data">å…¨çƒå…±æœ‰ 1486 äººæˆåŠŸç”³è¯·ï¼Œæœ€ç»ˆä¸­é€‰äººæ•°ä¸º 504 äºº</a></p><p>é„™äººéå¸¸è£å¹¸åœ°æˆä¸ºäº†è¿™ 504 ä¸ªå¹¸è¿å„¿çš„ä¸€ä»½å­ï¼Œç‰¹æ’°æ­¤æ–‡ï¼Œè®°å½• <code>æˆ‘ä¸ OSPP çš„æ•…äº‹ â€”â€” ä»å¬é—»åˆ°ä¸­é€‰</code></p><p>å½“ç„¶ï¼Œæˆ‘ä¹Ÿå¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¤Ÿå¸å¼•æ›´å¤šäººå‚ä¸å¼€æºï¼Œä¸ºå¼€æºé¡¹ç›®åšå‡ºè‡ªå·±çš„è´¡çŒ®</p></blockquote><details class="toggle" ><summary class="toggle-button" style="">ç»™ã€Œæ­ç”µåŠ©æ‰‹ã€æ‰“ç‚¹å°å¹¿å‘Š</summary><div class="toggle-content"><p><img src="https://image.nickxu.me/202306301616858.jpeg" alt="IMG_0166"></p><p>æœ¬æ¬¡å¼€æºä¹‹å¤æ´»åŠ¨ï¼Œæ­å·ç”µå­ç§‘æŠ€å¤§å­¦å…±ä¸­é€‰ 13 äººï¼Œå…¶ä¸­ 8 äººæ¥è‡ªæ­ç”µåŠ©æ‰‹</p><p>æ­åŠ©æœ¬æ¬¡å…±å‚ä¸ 11 äººï¼Œä¸­é€‰ç‡é«˜è¾¾ 8/11</p><p>ï¼ˆå¦å¤–ä»Šå¹´å¦æœ‰ 1 äººä¸­é€‰ GSoCï¼Œ1 äºº LFX Mentorship ï¼‰</p><p><img src="https://image.nickxu.me/202306301625148.png" alt="img"></p><blockquote><p>æ¬¢è¿çƒ­çˆ±æŠ€æœ¯çš„åŒå­¦ä»¬å¡«æŠ¥æ­å·ç”µå­ç§‘æŠ€å¤§å­¦ï¼Œæ¬¢è¿åŒå­¦ä»¬é€‰æ‹©æ­ç”µåŠ©æ‰‹æŠ€æœ¯éƒ¨ï¼ <a href="https://mp.weixin.qq.com/s/4hU4m2Y1eH3VfbTU267e1w">æŸ¥çœ‹æ¨æ–‡</a></p></blockquote></div></details><hr><h1 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h1><p>è¿™é‡Œæ˜¯å¯¹ä¸äº†è§£å¼€æºæ´»åŠ¨çš„åŒå­¦è¿›è¡Œä¸€ç‚¹é£é€Ÿçš„è¡¥å……ï¼Œç®€çŸ­åœ°è°ˆä¸€ä¸‹æˆ‘çš„ç†è§£</p><p>å…¶å®å·²ç»æœ‰å¾ˆå¤šæ–‡ç« è®²çš„å¾ˆå¥½äº†ï¼Œè¿™é‡Œæˆ‘æ¨èä¸€ç¯‡æ­åŠ©æˆå‘˜ã€Œçˆ±é£çš„é¸Ÿã€çš„ <a href="https://blog.aflybird.cn/2023/01/before-good-first-issue/">Before Good First Issue</a></p><h2 id="å¼€æºæ´»åŠ¨æ˜¯ä»€ä¹ˆ">å¼€æºæ´»åŠ¨æ˜¯ä»€ä¹ˆ</h2><p>å¼€æºæ´»åŠ¨é€šå¸¸æ˜¯ç”±å¼€æºç¤¾åŒºã€ç»„ç»‡æˆ–å…¬å¸ç»„ç»‡çš„æ´»åŠ¨ï¼Œç›®çš„åœ¨äºå¸å¼•æ›´å¤šçš„äººï¼ˆç‰¹åˆ«æ˜¯å­¦ç”Ÿï¼‰å‚ä¸å¼€æºï¼Œå¸®åŠ©æ„å»ºå¼€æºé¡¹ç›®ï¼Œå¢åŠ å¼€æºç¤¾åŒºçƒ­åº¦ï¼Œæ¨å¹¿å¼€æºæ–‡åŒ–ä¸ä»·å€¼è§‚ï¼Œä¸ºå¼€æºäº‹ä¸šä½œå‡ºè´¡çŒ®</p><p>æ¯”è¾ƒæœ‰åçš„æ¯”å¦‚ LFX Mentorshipã€è°·æ­Œçš„ GSoCã€å›½å†…çš„ OSPPã€GLCC ç­‰</p><p>ä¸€èˆ¬çš„å½¢å¼æ˜¯è¿™æ ·çš„ï¼šç”±æ´»åŠ¨ä¸»åŠæ–¹æä¾›å¹³å°ä¸èµ„é‡‘ï¼Œå¸å¼•å„è·¯å¼€æºç¤¾åŒº/ç»„ç»‡å…¥é©»ï¼Œç¤¾åŒºæŒ‘é€‰ç›®å‰è¦åšçš„ä¸€äº›æ´»ä½œä¸ºè‹¥å¹²å­é¡¹ç›®ï¼ˆå†™æ¸…æ¥šå…·ä½“è¦åšä»€ä¹ˆäº‹æƒ…ï¼Œæœ€ç»ˆè¾¾æˆä»€ä¹ˆç›®çš„ï¼‰ï¼Œå¹¶ä¸”åˆ†é…è‡³å°‘ä¸€ä¸ªå¯¼å¸ˆä¸“é—¨è´Ÿè´£è¿™ä¸ªé¡¹ç›®ï¼ˆå¤§å¤šæ•°æ˜¯ä¸€ä¸ªï¼‰</p><p>å­¦ç”Ÿå‘¢éœ€è¦ç»™å¯¼å¸ˆå†™ Proposalï¼ˆç”³è¯·ä¹¦ï¼‰ï¼Œé˜è¿°è‡ªå·±å¯¹è¿™ä¸ªé¡¹ç›®çš„æƒ³æ³•ï¼ˆå¦‚ä½•å®ç°ï¼‰ï¼Œå¹¶åŠªåŠ›è®©å¯¼å¸ˆç›¸ä¿¡è‡ªå·±èƒ½å¤Ÿå¾ˆå¥½åœ°å®Œæˆè¿™ä¸ªé¡¹ç›®</p><p>æœ€ç»ˆæ¯ä¸ªé¡¹ç›®çš„å¯¼å¸ˆä¼šåœ¨æ‰€æœ‰ç”³è¯·çš„å­¦ç”Ÿä¸­æŒ‘é€‰ä¸€ä¸ªæ¥åšè¿™ä¸ªé¡¹ç›®ï¼Œå¹¶è¿›è¡Œä¸€å¯¹ä¸€çš„æŒ‡å¯¼ï¼Œå¸®åŠ©å­¦ç”Ÿæœ€ç»ˆå®Œæˆä»»åŠ¡</p><p>è¿™æ—¶å€™ä½ å°±ä¼šå‘ç°ï¼Œè¿™é‡Œæ˜¯å­˜åœ¨ç«äº‰çš„ï¼Œå¹¶ä¸”æ˜¯é›¶å’Œåšå¼ˆï¼Œèµ¢è€…é€šåƒï¼Œä¸è¿‡ä½ ä¹Ÿå¯ä»¥åŒæ—¶å°è¯•å¤šä¸ªé¡¹ç›®ï¼Œè¿™æ ·æœ€ç»ˆä¸­é€‰çš„å¯èƒ½å°±å¤§ä¸€äº›</p><h2 id="ä¸ºä»€ä¹ˆè¦å‚åŠ å¼€æºæ´»åŠ¨">ä¸ºä»€ä¹ˆè¦å‚åŠ å¼€æºæ´»åŠ¨</h2><p>TL;DRï¼Œä¸»è¦æœ‰ä¸‹é¢å‡ ä¸ªå¸å¼•ä½ çš„ç†ç”±</p><ol><li><p>é’±</p><img src="https://image.nickxu.me/202306302249043.png" alt="image-20230630ä¸‹åˆ104907011" style="zoom:50%;" /><blockquote><p>OSPP æ–‡æ¡£ä¸­å…³äºå¥–é‡‘çš„è¯´æ˜</p></blockquote><p>å“ˆå“ˆå“ˆè°ä¼šå’Œé’±è¿‡ä¸å»å‘¢ï¼Ÿå¸å¼•åˆ«äººå‚ä¸æ´»åŠ¨æœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯ç‰©è´¨å¥–åŠ±</p><p>ä¸€èˆ¬æ¥è¯´æ˜¯ 6000 èµ·æ­¥ï¼ˆGLCCï¼‰ï¼ŒOSPP æ˜¯ 8000 å’Œ 12000 ä¸¤æ¡£ï¼Œè€Œ GSoC åˆ™æ˜¯ 3000 åˆ€èµ·æ­¥ï¼ˆå›½å†…å­¦ç”Ÿï¼Œä¸åŒåœ°åŒºå¥–é‡‘ä¸åŒï¼‰</p><p><s>å¼€æºä¹‹å¤ä¹Ÿè¢«å«åš mac ä¹‹å¤ï¼Œå› ä¸ºå¾ˆå¤šäººéƒ½ä¼šå»æ‹¿é’±ä¹° mac</s></p><p>å½“ç„¶ï¼Œé’±å¯èƒ½æ˜¯æœ€å¼€å§‹å¸å¼•ä½ åœ°æ–¹ï¼Œä½†æ˜¯ä½ æ—¥åä¼šå‘ç°ä¸‹é¢çš„ç†ç”±æ˜¯æ›´åŠ å¸å¼•ä½ çš„åœ°æ–¹</p><p>ç”šè‡³ä¼šè§‰å¾—è®©ä½ è§‰å¾—å€’è´´é’±ä½ ä¹Ÿæ„¿æ„</p></li><li><p>æ¥è§¦é¡¶çº§é¡¹ç›®</p><img src="https://image.nickxu.me/202306302242256.png" alt="image-20230630ä¸‹åˆ104203209" style="zoom: 50%;" /><blockquote><p>æ­åŠ©ä»Šå¹´ä¸­äº† GSoC çš„ daidrï¼Œå‚åŠ çš„æ˜¯ chromiumï¼Œä»–è¢«é‚€è¯·æ—å¬å†…éƒ¨ä¼šè®®</p></blockquote><p>å‚åŠ å¼€æºæ´»åŠ¨çš„ä¸ä¹ä¸€äº›é¡¶çº§çš„å¼€æºé¡¹ç›®ï¼Œæ¯”å¦‚è¯´ gitï¼Œåˆæ¯”å¦‚è¯´ chromiumï¼Œä½ å°†æœ‰æœºä¼šç»™å®ƒä»¬è´¡çŒ®è‡ªå·±çš„ä»£ç </p><p>ä»¥åï¼Œä½ å°±å¯ä»¥è‡ªè±ªåœ°å’Œåˆ«äººè¯´</p><ul><li>ä¸ä¼šç”¨ gitï¼Ÿæˆ‘å¯ä»¥æ•™ä½ ï¼Œæˆ‘ä¹Ÿæ˜¯å¼€å‘è€…ä¹‹ä¸€å“¦</li><li>ä½ çŸ¥é“å—ï¼Œä½ ç”¨çš„æµè§ˆå™¨é‡Œé¢æœ‰æˆ‘çš„ä»£ç å“¦</li></ul><p>æ˜¯ä¸æ˜¯éå¸¸çš„è®©äººåˆ®ç›®ç›¸çœ‹ï¼Ÿ</p></li><li><p>ç»“äº¤æœ‹å‹ï¼Œç§¯ç´¯äººè„‰</p><img src="https://image.nickxu.me/202306302246602.png" alt="image-20230630ä¸‹åˆ104639571" style="zoom:50%;" /><blockquote><p>æˆ‘çš„å¯¼å¸ˆè¯´ä»–çœ‹äº†æˆ‘çš„åšå®¢ï¼Œå±…ç„¶ä¸»åŠ¨é—®æˆ‘æœ€è¿‘æ˜¯ä¸æ˜¯å¯¹æ‰¾å®ä¹ æœ‰äº›ç„¦è™‘ï¼ˆ</p><p>ç„¶åç»™æˆ‘çš„ç®€å†ææ„è§ï¼Œè·Ÿæˆ‘èŠäº†å¾ˆå¤šæ±‚èŒå°±ä¸šçš„å†…å®¹</p></blockquote><p>åœ¨ç¤¾åŒºä¸­å‚ä¸é¡¹ç›®èƒ½è®©ä½ ç§¯ç´¯å¾ˆå¤šå¤§ç‰›çš„äººè„‰ï¼Œå¹¶ä¸”å‚ä¸ç¤¾åŒºå†…éƒ¨äº‹åŠ¡</p><p>è€Œä¸”ç”šè‡³å¯¼å¸ˆä»¬å¯èƒ½ä¼šä¸»åŠ¨å’Œä½ äº¤æœ‹å‹</p><p>æˆ‘å‰å¤©ä¹Ÿå’Œ MOSN é‡Œçš„å¤§ä½¬ä¸€èµ·è¿éº¦å¼€ä¼šï¼Œä¸»è¦å†…å®¹å¼€å®Œåå’Œæˆ‘ä¸€èµ·èŠå¤©ï¼Œæœ‰æœºä¼šå’Œé˜¿é‡Œã€èš‚èšã€äº¬ä¸œçš„å¤§ç‰›ä¸€èµ·èŠå¤©ï¼Œè¿™çœŸçš„æ˜¯éå¸¸å®è´µçš„ç»å†</p></li><li><p>æå‡ä¸ªäººèƒ½åŠ›</p><p>æ­£å¦‚å‰æ–‡æ‰€è¯´ï¼Œå¼€æºæ´»åŠ¨çš„ç›®çš„æ˜¯å¸å¼•æ›´å¤šçš„äººæ¥å‚ä¸å¼€æº</p><p>æ‰€ä»¥è¿™ä¸ªæ´»åŠ¨å¹¶ä¸æ˜¯ä¸€ä¸ªã€Œæˆ‘ç»™ä½ é’±ï¼Œä½ ç»™æˆ‘å¹²æ´»ã€çš„é›‡ä½£å…³ç³»ï¼Œè€Œæ˜¯ã€Œæ¬¢è¿ä½ æ¥ï¼Œæˆ‘åŸ¹å…»ä½ ã€çš„å…³ç³»</p><p>å¯¼å¸ˆä¼šä¸ºä½ çš„å¼€å‘æä¾›æŒ‡å¯¼ï¼Œä½ å¯ä»¥å›´ç»•é¡¹ç›®å‘å¯¼å¸ˆä¸ç¤¾åŒºæå‡ºè‡ªå·±çš„é—®é¢˜</p><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥å­¦åˆ°å¾ˆå¤šçŸ¥è¯†ï¼Œä¸°å¯Œä¸ªäººç»éªŒï¼Œæå‡ä¸ªäººèƒ½åŠ›</p><p>ï¼ˆå½“ç„¶ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰çš„å¯¼å¸ˆå’Œç¤¾åŒºéƒ½æœ‰è¿™ä¹ˆå¥½ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘åæ–‡ä¼šè®²çš„å†…å®¹ï¼‰</p></li><li><p>ä¸°å¯Œç®€å†</p><p>èƒ½å‚ä¸åˆ°å¼€æºæ´»åŠ¨ä¸­è‚¯å®šæ˜¯èƒ½å†™è¿›ç®€å†çš„ï¼Œä»¥åè‚¯å®šä¹Ÿèƒ½ä½œä¸ºä¸ä»–äººçš„è°ˆèµ„</p></li></ol><h2 id="å…³äºå¼€æºä¹‹å¤ï¼ˆOSPPï¼‰">å…³äºå¼€æºä¹‹å¤ï¼ˆOSPPï¼‰</h2><p><img src="https://image.nickxu.me/202307012225862.png" alt="image-20230701ä¸‹åˆ102543373"></p><blockquote><p>ä»Šå¹´æ˜¯ OSPP çš„ç¬¬å››ä¸ªå¹´å¤´ï¼Œä¸çŸ¥é“æ˜å¹´ä¼šæœ‰å¤šå°‘äºº</p></blockquote><p><a href="https://summer-ospp.ac.cn/">OSPP (Open Source Promotion Plan)</a> åº”è¯¥æ˜¯ä¸­ç§‘é™¢å¯¹æ ‡è°·æ­Œçš„ GSoC ä¸¾åŠçš„æ´»åŠ¨ï¼Œåœ¨å›½å†…ç®—æ˜¯å«é‡‘é‡æœ€é«˜çš„äº†</p><p>è´´å‡ æ®µæ¯”è¾ƒæ­£å¼çš„ä»‹ç»ï¼š</p><ul><li>â€œå¼€æºä¹‹å¤ï¼ˆè‹±æ–‡ç®€ç§° OSPPï¼‰â€æ˜¯ä¸­ç§‘é™¢è½¯ä»¶æ‰€â€œå¼€æºè½¯ä»¶ä¾›åº”é“¾ç‚¹äº®è®¡åˆ’â€æŒ‡å¯¼ä¸‹çš„ç³»åˆ—æš‘æœŸæ´»åŠ¨ï¼Œç”±è½¯ä»¶æ‰€ä¸ openEuler ç¤¾åŒºå…±åŒä¸»åŠã€ä¸­ç§‘å—äº¬è½¯ä»¶æŠ€æœ¯ç ”ç©¶é™¢æ‰¿åŠï¼Œæ—¨åœ¨é¼“åŠ±åœ¨æ ¡å­¦ç”Ÿç§¯æå‚ä¸å¼€æºè½¯ä»¶çš„å¼€å‘ç»´æŠ¤ï¼ŒåŸ¹å…»å’Œå‘æ˜æ›´å¤šä¼˜ç§€çš„å¼€å‘è€…ï¼Œä¿ƒè¿›ä¼˜ç§€å¼€æºè½¯ä»¶ç¤¾åŒºçš„è“¬å‹ƒå‘å±•ï¼ŒåŠ©åŠ›å¼€æºè½¯ä»¶ä¾›åº”é“¾å»ºè®¾</li><li>æ´»åŠ¨è”åˆå„å¤§å¼€æºç¤¾åŒºï¼Œé’ˆå¯¹é‡è¦å¼€æºè½¯ä»¶çš„å¼€å‘ä¸ç»´æŠ¤æä¾›é¡¹ç›®ï¼Œå¹¶å‘å…¨çƒé«˜æ ¡å­¦ç”Ÿå¼€æ”¾æŠ¥åã€‚å­¦ç”Ÿå¯è‡ªä¸»é€‰æ‹©æ„Ÿå…´è¶£çš„é¡¹ç›®è¿›è¡Œç”³è¯·ï¼Œä¸­é€‰ååœ¨é¡¹ç›®èµ„æ·±å¼€å‘è€…ï¼ˆç¤¾åŒºå¯¼å¸ˆï¼‰çš„æŒ‡å¯¼ä¸‹è¿›è¡Œå¼€å‘ã€‚æ ¹æ®é¡¹ç›®çš„éš¾æ˜“ç¨‹åº¦å’Œå®Œæˆæƒ…å†µï¼Œç»“é¡¹è€…å°†è·å–å¼€æºä¹‹å¤æ´»åŠ¨å¥–é‡‘å’Œç»“é¡¹è¯ä¹¦</li><li>å¼€æºä¹‹å¤æ´»åŠ¨å·²è¿ˆå…¥ç¬¬å››ä¸ªå¹´å¤´ã€‚åœ¨è¿‡å»çš„ä¸‰å¹´ä¸­ï¼Œå¼€æºä¹‹å¤ä¸ä¼—å¤šè“¬å‹ƒå‘å±•çš„å¼€æºç¤¾åŒºæºæ‰‹å¹¶è¿›ï¼Œä¸æ–­æ¨åŠ¨å¼€æºæŠ€æœ¯åœ¨é«˜æ ¡å­¦ç”Ÿä¸­çš„æ™®åŠå’Œæ¨å¹¿ï¼Œä½¿å¾—è¶Šæ¥è¶Šå¤šçš„å­¦ç”Ÿå‚ä¸åˆ°å¼€æºé¡¹ç›®ä¸­æ¥ï¼Œæ›´å¤šä¼˜ç§€çš„å¼€æºè´¡çŒ®è€…å’Œå¼€æºé¡¹ç›®åº”è¿è€Œç”Ÿï¼Œä¸ºæ¨åŠ¨å¼€æºç”Ÿæ€å‘å±•æä¾›äº†æœ‰åŠ›çš„æ”¯æŒ</li></ul><p>æ•´ä½“æ´»åŠ¨æµç¨‹åŒ GSoCï¼Œç¤¾åŒºæŠ¥å-å®˜æ–¹å‘å¸ƒç¤¾åŒºå…¥é€‰åå•-ç¤¾åŒºå‘å¸ƒé¡¹ç›®-å­¦ç”Ÿå¼€å§‹ç”³è¯·-ç¤¾åŒºå‘å¸ƒå­¦ç”Ÿåå•-å­¦ç”Ÿå¼€å§‹è´¡çŒ®ï¼Œæ¯ä¸ªäººå¯ä»¥æäº¤ä¸‰ä»½ç”³è¯·ï¼Œåªèƒ½ä¸­é€‰ä¸€ä¸ªé¡¹ç›®</p><p>éš¾åº¦ä¸Šæ„Ÿè§‰æ¯” GSoC ç®€å•ä¸å°‘ï¼ŒGSoC é˜¿ä¸‰çš„ç¡®æ˜¯çœŸçš„å¤š</p><img src="https://image.nickxu.me/202307012239237.png" alt="image-20230701ä¸‹åˆ103928213" style="zoom: 67%;" /><blockquote><p>iyear å¯¹äº OSPP éš¾åº¦çš„è¯„ä»·ï¼Œæˆ‘æ„Ÿè§‰æŒºä¸­è‚¯çš„</p></blockquote><hr><h1 id="ä¸ªäººç»å†">ä¸ªäººç»å†</h1><h2 id="å¼€å§‹çš„å¼€å§‹">å¼€å§‹çš„å¼€å§‹</h2><p>åœ¨æˆ‘çš„å°è±¡ä¸­ï¼Œåº”è¯¥æ˜¯ã€Œiyearã€å’Œã€Œé¸Ÿã€æœ€å¼€å§‹åœ¨ç¤¾å›¢é‡Œè¯´ OSPP å’Œ GSoC è¿™äº›äº‹æƒ…</p><p>äºæ˜¯å»å¹´æˆ‘å°±å¼€å§‹æ…¢æ…¢å…³æ³¨äº†ï¼Œä½†å½“æ—¶ 2022 å¹´çš„éƒ½å·²ç»å¿«ç»“æŸäº†ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹æœé›†ä¿¡æ¯ï¼Œä¸ºæ˜å¹´å‡†å¤‡</p><p>æˆ‘è¦æ‰¾å“ªäº›ä¸œè¥¿å‘¢ï¼Ÿ</p><ul><li>ç¬¬ä¸€ä¸ªï¼Œæˆ‘è¦çœ‹çœ‹è¿‡å»éƒ½æ˜¯äº›ä»€ä¹ˆé¡¹ç›®</li><li>ç¬¬äºŒä¸ªï¼Œæˆ‘è¦å»çœ‹ timeline ï¼Œç†Ÿæ‚‰é‡Œé¢å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„æ—¶é—´èŠ‚ç‚¹</li><li>æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘è¦çŸ¥é“ç«äº‰çš„æ¿€çƒˆç¨‹åº¦ï¼Œä¸­é€‰ç‡å¤§æ¦‚æ˜¯ä¸ªä»€ä¹ˆæƒ…å†µ</li></ul><p>é¦–å…ˆæˆ‘å»äº† <a href="https://summerofcode.withgoogle.com/">GSoC çš„å®˜ç½‘</a>ï¼Œç„¶åå¼€å§‹ç¿»ï¼Œç„¶åå‘ç°æ€ä¹ˆè¿™ä¹ˆå¤šå‡ºåçš„é¡¹ç›®å“‡ï¼Œä»€ä¹ˆ VLCï¼Œä»€ä¹ˆ Electronï¼Œè¿˜æœ‰ Chromiumï¼Œè¿˜æœ‰ git ã€GUNï¼Œæˆ‘æ€ä¹ˆé…çš„ä¸Šè¿™äº›é¡¹ç›®å“‡ï¼ˆ</p><p>ç„¶åæˆ‘å»ç¿»äº†ç¿»ç”³è¯·äººå’Œä¸­é€‰äººæ•°ï¼Œå¤§æ¦‚æœ‰å››åˆ†ä¹‹ä¸€çš„æ¦‚ç‡ä¸­é€‰</p><p>æ„Ÿè§‰è¿˜è¡Œå§ï¼Œè¯´ä¸å®šå¯ä»¥è¯•è¯•ï¼Œè™½ç„¶æˆ‘çŸ¥é“ä» 22 å¹´å¼€å§‹ï¼ŒGSoC çš„ç”³è¯·ä¸å†å±€é™å­¦ç”Ÿï¼Œäººè‚¯å®šä¸€å¹´æ¯”ä¸€å¹´å¤š</p><p><img src="https://image.nickxu.me/202307012352421.png" alt=""></p><blockquote><p>ç°åœ¨åˆç¿»äº†ç¿»ä»Šå¹´çš„ï¼ŒçœŸçš„å“äººï¼Œæˆ‘åªèƒ½è¯´ä»Šå¹´èƒ½ä¸­ GSoC çš„éƒ½æ˜¯ç¥ä»™</p><p>è€Œä¸”ä»Šå¹´çš„ç”³è¯·äººæ•°æ˜¯ä»€ä¹ˆé¬¼å“‡ï¼ˆ</p></blockquote><p>ç„¶åæˆ‘å»çœ‹äº† <a href="https://developers.google.com/open-source/gsoc/timeline?hl=zh-cn">timeline</a> ï¼Œå…³æ³¨äº†å‡ ä¸ªæ—¶é—´ç‚¹</p><div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>GSoC 2023</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2 æœˆ 22 æ—¥</p></div></div><div class='timeline-item-content'><p>ç¤¾åŒºã€é¡¹ç›®åå•å…¬å¸ƒ</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>3 æœˆ 20 æ—¥</p></div></div><div class='timeline-item-content'><p>å¼€å§‹æ¥å—ç”³è¯·</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>4 æœˆ 4 æ—¥</p></div></div><div class='timeline-item-content'><p>æˆªæ­¢ç”³è¯·</p></div></div></div><p>çœ‹å®Œäº† GSoCï¼Œæˆ‘æ¥ç€å»çœ‹ OSPP çš„é¡¹ç›®</p><p>è™½ç„¶é¡¹ç›®æ„Ÿè§‰ä¹Ÿéƒ½å¾ˆé«˜å¤§ä¸Šï¼Œä½†æ˜¯ç«äº‰å‹åŠ›çœ‹ä¸Šå»æ›´å°</p><p><img src="https://image.nickxu.me/202307022303147.png" alt="image-20230702ä¸‹åˆ110331878"></p><blockquote><p>OSPP2022ï¼Œåªèƒ½è¯´ä»ç”³è¯·ä¸ä¸­é€‰çš„æ¯”ç‡æ¥çœ‹ï¼Œå…¶å®è¿˜è¡Œ</p></blockquote><p>ç„¶åæ˜¯ 2023 çš„ timeline</p><div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>OSPP 2023</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>4 æœˆ 4 æ—¥</p></div></div><div class='timeline-item-content'><p>ç¤¾åŒºå¼€å§‹ä¸Šçº¿é¡¹ç›®</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>4 æœˆ 29 æ—¥</p></div></div><div class='timeline-item-content'><p>å¼€å§‹æ¥å—ç”³è¯·</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>6 æœˆ 4 æ—¥</p></div></div><div class='timeline-item-content'><p>æˆªæ­¢ç”³è¯·</p></div></div></div><p>æœ€åï¼Œæˆ‘å»ç¿»äº†ç¿» iyear 2022 å¹´çš„é¡¹ç›®ï¼ŒçœŸçš„å¼ºå“‡ï¼Œæˆ‘å¤§ä¸€åœ¨å¹²ä»€ä¹ˆï¼Œåˆ«äººå¤§ä¸€åœ¨å¹²ä»€ä¹ˆ</p><p><s>å¤§ä¸€å‚åŠ  OSPP è¿›é˜¶ï¼Œæˆ‘åªèƒ½è¯´äººä¸äººçš„å·®è·çœŸçš„æ¯”äººä¸ç‹—çš„å·®è·è¿˜å¤§ï¼ˆ</s></p><p>æˆ‘åªèƒ½è¯´æ¥ä¸‹æ¥èµ°ä¸€æ­¥çœ‹ä¸€æ­¥å§</p><h2 id="æ²¡ä¸‹æ‰‹çš„-GSoC">æ²¡ä¸‹æ‰‹çš„ GSoC</h2><p>è½¬çœ¼é—´åˆ°äº† GSoC é¡¹ç›®å…¬å¸ƒçš„æ—¥å­ï¼Œiyear åœ¨ç¾¤é‡Œä¹Ÿæäº†ä¸€å˜´</p><img src="https://image.nickxu.me/202307030014383.png" alt="image-20230703ä¸Šåˆ121444324"  /><blockquote><p>ç¾¤å‹æ¶ˆæ¯å¤ªå¤šäº†ï¼Œæˆ‘å°±æˆªäº†å‡ ä¸ª iyear çš„</p></blockquote><p>ç„¶åæˆ‘å°±å»çœ‹æœ‰ä»€ä¹ˆé¡¹ç›®</p><p>çœ‹çš„ç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯ï¼š<code>æˆ‘ä¸é…å•Šï¼</code></p><p>æˆ‘å»æˆ‘æ€ä¹ˆå‚åŠ çš„äº†è¿™äº›é¡¹ç›®ï¼Œæˆ‘çœŸçš„é…ä¸ä¸Š</p><p>æ›´å…³é”®çš„æ˜¯ï¼ŒGolang æ˜¯çœŸçš„ä¸å¤š</p><p>æˆ‘åœ¨ Golang çš„é¡¹ç›®é‡Œå…œå…œè½¬è½¬ï¼Œçœ‹è§äº†ä¸€ä¸ª Keploy  ï¼Œæ˜¯åš API æµ‹è¯•å·¥å…·çš„</p><p><img src="https://image.nickxu.me/202307022329223.png" alt="image-20230702ä¸‹åˆ112950192"></p><p>çœ‹äº†çœ‹é¡¹ç›®ï¼Œåªæ„Ÿè§‰è¿™ä¸ªé‡æ„å‘½ä»¤è¡Œå·¥å…·çš„æˆ‘å¯èƒ½ä¼šåš</p><p>å½“ç„¶ï¼Œæˆ‘è‚¯å®šçŸ¥é“è¿™ä¸œè¥¿è‚¯å®šä¸€å †äººæ¥æŠ¢ï¼Œæˆ‘åªèƒ½è¯´å…ˆçœ‹çœ‹ï¼Œå…ˆç ”ç©¶ä¸€ä¸‹</p><img src="https://image.nickxu.me/202307022334237.png" alt="image-20230702ä¸‹åˆ113446200" style="zoom:50%;" /><blockquote><p>å“ˆå“ˆï¼Œä½ å¯ä»¥çœ‹çœ‹ç°åœ¨æœ‰å‡ ä¸ª starï¼ŒäººçœŸçš„å¤š</p></blockquote><p><img src="https://image.nickxu.me/202307030010605.png" alt="image-20230703ä¸Šåˆ121003545"></p><p>ç„¶åï¼Œå¾ˆå¿«å•Šï¼Œè¿™ä¸œè¥¿å·²ç»å¯„äº†</p><p>æˆ‘åªèƒ½è¯´é˜¿ä¸‰çœŸçš„ nbï¼ŒGSoC æ€ä¹ˆè¿™ä¹ˆå¤šé˜¿ä¸‰</p><p>ä¹‹åæˆ‘å°±çœŸçš„æ‰¾ä¸åˆ°æˆ‘æœ‰èƒ½åŠ›å‚åŠ çš„é¡¹ç›®äº†~~ï¼Œæ¸¸æˆä¹Ÿä¸èƒ½ä¸€ä¸Šæ¥å°±æ˜¯æœ€ç»ˆ BOSS å§ï¼Œæˆ‘æƒ³ï¼ˆ~~</p><p>æœ€ç»ˆçš„ç»“æœæ˜¯å¯ä»¥é¢„è§çš„ï¼ŒGSoC 2023 æˆ‘è¿˜æ˜¯æ²¡ä¸‹å¾—å»æ‰‹</p><h2 id="å…‹æœææƒ§">å…‹æœææƒ§</h2><p>åé¢å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œæˆ‘éƒ½æ˜¯ä¸ç›¸ä¿¡è‡ªå·±çš„</p><p>æˆ‘çœŸçš„ä¸è§å¾—èƒ½æœ‰èƒ½åŠ›å‚åŠ è¿™ç§æ´»åŠ¨ï¼ŒçœŸçš„è¿™æ ·</p><p>å³ä½¿åé¢ iyear ä¸“é—¨è®²äº†ä¸€èŠ‚ä¾‹ä¼šï¼Œä¸¾äº†å¥½å‡ ä¸ªä¾‹å­ï¼Œæˆ‘å¿ƒé‡Œä¹Ÿæ²¡ä»€ä¹ˆä¿¡å¿ƒ</p><p><img src="https://image.nickxu.me/202307030018312.png" alt="image-20230703ä¸Šåˆ121828262"></p><blockquote><p>ä¾‹ä¼šä¸Šçš„ mdï¼Œiyear è®²äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œåé¢çš„å†…å®¹æœ‰ç‚¹éšç§å°±ä¸æ”¾å‡ºæ¥äº†</p></blockquote><p>ç›´åˆ°é‚£å¥è¯ï¼Œè®©æˆ‘æŒ¯è‹å‘è©</p><p><img src="https://image.nickxu.me/202307022356272.png" alt="image-20230702ä¸‹åˆ115636218"></p><blockquote><p>è¦æœ‰é˜¿ä¸‰çš„è‡ªä¿¡ğŸ˜</p></blockquote><p>å¯¹å“‡ï¼Œä¸ºä»€ä¹ˆå°åº¦é˜¿ä¸‰éƒ½èƒ½åœ¨ GSoC ä¸Šä¸»åŠ¨å‡ºå‡»ï¼Œæˆ‘ä¸€ä¸ªä¸­å›½äººæ€ä¹ˆèƒ½ä¸€ç‚¹ä¿¡å¿ƒéƒ½æ²¡æœ‰</p><p>å°åº¦è€å“¥æŠ€æœ¯ä¸Šåº”è¯¥ä¹Ÿä¼šå¤ªå¼ºï¼Œä½†æ˜¯ä»–ä»¬è‡ªä¿¡å“‡ï¼Œä½ è‡³å°‘è¦ç›¸ä¿¡è‡ªå·±èƒ½åšåˆ°ï¼Œè¿™æ ·æ‰æœ‰å¸Œæœ›</p><p>ç„¶å OSPP æ¯•ç«Ÿæˆ‘ä»¬æœ‰ä¸»åœºä¼˜åŠ¿ï¼ŒåŸºæœ¬éƒ½æ˜¯å›½äººï¼Œæˆ‘ä¸‹å®šå†³å¿ƒï¼Œä¸ç®¡ä¸­æ²¡ä¸­ï¼Œè‡³å°‘è‡³å°‘ï¼Œæˆ‘è¦æŠ•ä¸ªé¡¹ç›®å§</p><h2 id="OSPP-å¼€å§‹">OSPP å¼€å§‹</h2><p>å¾ˆå¿« OSPP å°±è¦å¼€å§‹äº†ï¼Œå·²ç»åˆ°äº†ç¤¾åŒºå¼€å§‹ä¸Šçº¿çš„æ—¥å­</p><p>ä½†æ˜¯æˆ‘è®°å¾—å‰å‡ å¤©æ˜¯æ²¡ä»€ä¹ˆåŠ¨é™çš„ï¼Œåé¢å¼€å§‹æ…¢æ…¢æ”¾å‡ºç¤¾åŒºï¼Œæ˜¯ä¸€ç‚¹ä¸€ç‚¹æ”¾çš„</p><p>æ‰€ä»¥æˆ‘æ¯å¤©èµ·æ¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å» <a href="https://summer-ospp.ac.cn/org/orglist">https://summer-ospp.ac.cn/org/orglist</a> ä¸Šçœ‹ä»Šå¤©åˆå¤šäº†ä»€ä¹ˆç¤¾åŒºï¼Œæœ‰ä»€ä¹ˆé¡¹ç›®</p><p>å½“ç„¶äº†ï¼Œæˆ‘å¾ˆæ—©ä¹ŸæŠŠå»å¹´çš„é¡¹ç›®éƒ½çœ‹äº†ä¸€é</p><p>è®²çœŸæ¯å¤©éƒ½å»çœ‹çœ‹æ˜¯å¾ˆæœ‰æ•ˆçš„ï¼Œå°±åƒé«˜ä¸­çš„æ—¶å€™èƒŒæ–‡è¨€æ–‡ä¸€æ ·ï¼Œçœ‹ä¸Šå»å¾ˆé•¿å¾ˆææ€–ï¼Œä½†æ˜¯åŒå­¦å‘Šè¯‰æˆ‘ï¼Œåªè¦æ¯èŠ‚è¯¾ä¸€ä¸‹è¯¾å°±é£å¿«åœ°è¯»ä¸€éï¼Œå¾ˆå¿«å°±ç†Ÿäº†</p><p>çš„ç¡®å¦‚æ­¤ï¼Œè¿‡å»æˆ‘çœ‹ç€è¿™äº›é¡¹ç›®éƒ½å¾ˆä¸è‡ªä¿¡</p><p>ä½†æ˜¯ç°åœ¨ï¼Œæˆ‘èƒ½å¾ˆå¹³é™åœ°è¯´ï¼š</p><p>â€œä¹Ÿæ²¡ä»€ä¹ˆï¼Œè¿™é‡Œçš„æ¯ä¸ªé¡¹ç›®æˆ‘éƒ½çœ‹è¿‡â€</p><h2 id="æ„Ÿè°¢-yeebing-ï¼">æ„Ÿè°¢ yeebing ï¼</h2><p>çœ‹äº†å¾ˆä¹…çš„é¡¹ç›®ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯æ²¡æ‰¾åˆ°æ¯”è¾ƒé€‚åˆæˆ‘çš„</p><p>å…¶ä»–é¢†åŸŸå°±ä¸è¯´äº†ï¼Œæˆ‘ç›®å‰æ¯”è¾ƒèƒ½æ‹¿å¾—å‡ºæ‰‹æ„Ÿè§‰åªæœ‰ Golang åç«¯</p><p>è€Œé€›äº†ä¸€åœˆï¼Œæ„Ÿè§‰å¯¹å‰ç«¯çœŸçš„å¾ˆå‹å¥½ï¼Œåœ¨çœ‹å»å¹´é¡¹ç›®çš„æ—¶å€™å±…ç„¶æœ‰ä¸å°‘å®˜ç½‘è®¾è®¡å’Œæ–‡æ¡£ä¼˜åŒ–çš„</p><div class="gallery">    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://image.nickxu.me/202307041603566.png","alt":"1c508ec5077eff3f9b366938e43a1cba"},{"url":"https://image.nickxu.me/202307041607998.png","alt":"334dcddce604b196fea8bd4be4126ac1"},{"url":"https://image.nickxu.me/202307041603661.png","alt":"6f4f10146ff20cb15aa25bc522584e3e"}]</span>    </div>    <button class="gallery-load-more"><span>åŠ è½½æ›´å¤š</span><i class="fa-solid fa-arrow-down"></i></button>    </div><p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒGolang çš„ä½éš¾åº¦é¡¹ç›®å¾ˆç¨€ç¼ºï¼Œ æˆ‘çœ‹ç€åŸºæœ¬éƒ½æ˜¯äº‘åŸç”Ÿçš„ï¼Œæ¯•ç«Ÿ Golang ç›®å‰æœ€å¤§çš„ç”¨é€”åŸºæœ¬ä¹Ÿå°±æ˜¯å†™äº‘åŸç”Ÿçš„åŸºç¡€è®¾æ–½</p><p>ä½†æ˜¯äº‘åŸç”Ÿæˆ‘æ˜¯çœŸçš„ä¸ä¼šå“‡ï¼Œkubernetes æˆ‘éƒ½ä¸æ˜¯å¾ˆç†Ÿï¼Œé‚£äº›é¡¹ç›®æˆ‘ä¹Ÿçœ‹ä¸å¤ªæ‡‚</p><p>åªèƒ½è¯´å†çœ‹çœ‹ä¼šæœ‰ä»€ä¹ˆé¡¹ç›®äº†</p><p>ç„¶åçªç„¶æœ‰ä¸€å¤©ï¼Œyeebing çªç„¶æ‰¾åˆ°æˆ‘</p><img src="https://image.nickxu.me/202307041617977.png" alt="image-20230704ä¸‹åˆ41722930" style="zoom:50%;" /><blockquote><p>è¿˜å¾—æ˜¯æ­åŠ©çš„äººè„‰å“ˆå“ˆå“ˆ</p></blockquote><p>çœ‹äº†ä¸€çœ¼ï¼Œåç«¯æˆ‘çš„ç¡®æ²¡é—®é¢˜ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯æˆ‘ä¸ä¼šå‰ç«¯å“‡</p><p>ä½†æ˜¯è½¬å¿µä¸€æƒ³ï¼Œæ¥ OSPP å°±æ˜¯è¦å­¦æ–°ä¸œè¥¿çš„ï¼Œè€Œä¸”æ­åŠ©è¿™ä¹ˆå¤šå‰ç«¯çš„ä½¬ï¼Œæˆ‘é€Ÿæˆä¸€æ³¢å‰ç«¯åº”è¯¥ä¹Ÿä¸æ˜¯ä¸å¯ä»¥</p><p>æ¯•ç«Ÿæˆ‘ç›®å‰ä¹Ÿæ‰¾ä¸åˆ°æ¯”è¿™ä¸ªæ›´å¥½çš„é¡¹ç›®äº†ï¼Œäºæ˜¯æˆ‘å¼€å§‹å†²è¿™ä¸ªé¡¹ç›®</p><h2 id="å¼€å§‹è¿­ä»£">å¼€å§‹è¿­ä»£</h2><p>yeebing å¸®æˆ‘å äº†ä¸ªæ²™å‘ï¼Œæˆ‘ç¿»äº†ç¿»æ–‡æ¡£ï¼Œå¤§æ¦‚çŸ¥é“æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ä¹‹åï¼Œæˆ‘å°±å¼€å§‹å†²äº†</p><p><img src="https://image.nickxu.me/202307041637634.png" alt="image-20230704ä¸‹åˆ43727576"></p><p>å‰æœŸæ˜¯å¾ˆå…³é”®çš„ï¼Œåªè¦ä½ èƒ½åœ¨ issue é‡Œè·Ÿå¯¼å¸ˆæ¥å›è¯´ä¸€å †è¯ï¼Œé‚£åˆ«äººä¹Ÿå°±èƒ½çŸ¥é“è¿™ä¸ªé¡¹ç›®å·²ç»æœ‰äººäº†ï¼Œè‡³å°‘èƒ½è®©ä¸€éƒ¨åˆ†äººçŸ¥éš¾è€Œé€€</p><p>ä¹‹åå°±å¼€å§‹è¿­ä»£äº†ï¼Œæˆ‘ä»¬åœ¨ issue ä¸‹äº¤æµï¼Œä¹‹åæ˜¯æ·±å…¥çš„æ€è€ƒï¼Œæ„Ÿè§‰å·®ä¸å¤šäº†å°±å¼€å§‹æ“ Proposal å‘é‚®ä»¶</p><p>å¯¼å¸ˆç»™æˆ‘çº æ­£äº†ä¸€äº›æ–¹å‘ä¸Šçš„é—®é¢˜ï¼Œäºæ˜¯æˆ‘è°ƒç ”åé‡æ–°æ€è€ƒè®¾è®¡</p><p>æ²¡æƒ³åˆ°å‡ºåˆ°ç¬¬äºŒç‰ˆè·Ÿæˆ‘è¯´å¯ä»¥å»æäº¤äº†ï¼ˆ</p><p><img src="https://image.nickxu.me/202307041645144.png" alt="image-20230704ä¸‹åˆ44538074"></p><p>ç„¶åçªç„¶æœ‰ä¸€å¤©æ™šä¸Šï¼Œå¯¼å¸ˆçªç„¶æ¥åŠ æˆ‘å¥½å‹</p><p><img src="https://image.nickxu.me/202307041708059.png" alt="d1a99451107484673017aae5d322e672_0"></p><p>æ‰æƒ³èµ·æ¥æˆ‘ä¹‹å‰ç¿»æ–‡æ¡£çš„æ—¶å€™é¡ºæ‰‹åŠ äº†ä¸ªç”¨æˆ·ç¾¤ï¼ˆæ„Ÿè§‰æœ‰ç‚¹çŒä¸åŠé˜²</p><p>ç„¶åæˆ‘ä»¬åé¢å°±å¼€å§‹èŠï¼Œæ ¹æ®æˆ‘çš„ç®€å†ç»™æˆ‘æäº†å¥½å¤šå»ºè®®</p><p><img src="https://image.nickxu.me/202307041704047.png" alt="image-20230704ä¸‹åˆ50425978"></p><blockquote><p>å¯¹æ¯”å…¶ä»–ç¾¤å‹ï¼Œæˆ‘æ„Ÿè§‰æˆ‘è¿™çœŸçš„æ˜¯ä¸ªç¥ä»™å¯¼å¸ˆï¼ˆ</p></blockquote><h2 id="OSPP-çº¿ä¸‹ä¼š">OSPP çº¿ä¸‹ä¼š</h2><p><img src="https://image.nickxu.me/202307041719852.webp" alt="å›¾ç‰‡"></p><blockquote><p>çº¿ä¸‹ä¼šæ­å·ç«™ï¼Œå¯ä»¥çœ‹ <a href="https://www.bilibili.com/read/cv23843608">cv23843608</a> ï¼Œä¸‰å’²æ™ºå­å±…ç„¶ä¹Ÿå»äº†</p></blockquote><p>OSPP å½“æ—¶ä¹Ÿåœ¨å…¨å›½å„åœ°å¼€çº¿ä¸‹ä¼šï¼Œåœ¨æ­å·ä¹Ÿæœ‰</p><p>æˆ‘çš„ç¡®æŠ¥åäº†ï¼Œä¹Ÿè¿›äº†ç¾¤ï¼Œæ­åŠ©ä¹Ÿæœ‰ä¸å°‘äººå»äº†</p><p>ä½†å¯æƒœçš„æ˜¯æˆ‘é‚£å¤©é˜³äº†åœ¨éš”ç¦»ï¼Œæƒ³ç€é˜³äº†å°±åˆ«å‡ºå»ç¥¸å®³åˆ«äººäº†ï¼Œè€Œä¸”ç²¾åŠ›ä¹Ÿä¸æ˜¯å¾ˆå¥½ï¼Œå°±æ²¡å»</p><img src="https://image.nickxu.me/202307041723785.png" alt="image-20230704ä¸‹åˆ52338719" style="zoom:50%;" /><p>å†è´´ç‚¹æ‰¾åˆ°çš„å½“æ—¶çš„ç…§ç‰‡å§å“ˆå“ˆå“ˆ</p><div class="gallery">    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://image.nickxu.me/202307041731134.png","alt":"image-20230704ä¸‹åˆ53115061"},{"url":"https://image.nickxu.me/202307041733694.png","alt":"image-20230704ä¸‹åˆ53327596"},{"url":"https://image.nickxu.me/202307041733568.png","alt":"image-20230704ä¸‹åˆ53305500"},{"url":"https://image.nickxu.me/202307041731500.png","alt":"image-20230704ä¸‹åˆ53132438"},{"url":"https://image.nickxu.me/202307041731435.png","alt":"image-20230704ä¸‹åˆ53150368"},{"url":"https://image.nickxu.me/202307041732513.png","alt":"image-20230704ä¸‹åˆ53245428"}]</span>    </div>    <button class="gallery-load-more"><span>åŠ è½½æ›´å¤š</span><i class="fa-solid fa-arrow-down"></i></button>    </div><h2 id="å¤§å—éœ‡æ’¼">å¤§å—éœ‡æ’¼</h2><p>æ—¥å­ä¸€å¤©å¤©åœ°è¿‡å»ï¼Œæˆ‘è¿˜åœ¨ä¸ºå¥½åƒè¿˜æ²¡æœ‰äººå’Œæˆ‘æŠ¢é¡¹ç›®è€Œæ²¾æ²¾è‡ªå–œ</p><p>çªç„¶æœ‰ä¸€å¤©æ”¶åˆ°äº† GitHub çš„é‚®ä»¶ï¼Œä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯å“ªä¸ªç¤¾å›¢é¡¹ç›®è° PR äº†ï¼Œç»“æœä¸€çœ‹å±…ç„¶æœ‰äººæ¥æŠ¢æˆ‘çš„ OSPP é¡¹ç›®äº† ï¼Ÿï¼</p><p><img src="https://image.nickxu.me/202307041750442.png" alt="image-20230704ä¸‹åˆ55052373"></p><blockquote><p>å§æ§½æˆ‘ç›´æ¥å¤§å—éœ‡æ’¼</p></blockquote><p>ç„¶åæˆ‘ä¸€çœ‹ï¼Œå§æ§½ï¼Œé…’å§èˆâœŒï¸ï¼ŒACMâœŒï¸ï¼Œç„¶åä¸€çœ‹åšå®¢ï¼Œå¤§ä¸€åä¸ºå®ä¹ </p><p>å§æ§½è¿™æ˜¯ä»€ä¹ˆç¥ä»™</p><p><s>çœŸçš„æ˜¯äººä¸äººçš„å·®è·æ¯”äººä¸ç‹—çš„å·®è·éƒ½å¤§ï¼ˆ</s></p><p>ç„¶å iyear å°±æ¥å®‰æ…°æˆ‘ï¼Œè¿˜å¾—æ˜¯ iyear å¤Ÿè‡ªä¿¡</p><p><img src="https://image.nickxu.me/202307041823065.png" alt="image-20230704ä¸‹åˆ62305997"></p><p>å…¶å®è¿˜ä¸ç®—å¤ªæ…Œï¼Œæ¯•ç«Ÿéƒ½æœ€åå‡ å¤©äº†ï¼Œå¯¼å¸ˆåº”è¯¥ä¹Ÿä¸ä¼šå†æ¢äººäº†</p><h2 id="é¢„çŸ¥ç»“æœ">é¢„çŸ¥ç»“æœ</h2><p>æäº¤æˆªæ­¢äº†ï¼Œåé¢çš„å°±æ˜¯ç­‰ç»“æœ</p><p>ä¹‹åçªç„¶æœ‰ä¸€å¤©</p><p><img src="https://image.nickxu.me/202307041831306.png" alt="image-20230704ä¸‹åˆ63127228"></p><p>äºæ˜¯æˆ‘å°±å»çœ‹</p><p><img src="https://image.nickxu.me/202307041853830.png" alt="6b3cc9b5bf5949f6cba2901034ba9cda"></p><blockquote><p>è¿˜æ˜¯ç¾¡æ…• daidr çš„ GSoC å“ˆå“ˆå“ˆ</p></blockquote><p>æˆ‘æ„Ÿè§‰åŸºæœ¬ç®—æ˜¯ç¨³äº†ï¼Œåæ­£æœŸæœ«è€ƒäº†ä¹Ÿå¹²ä¸äº†ä»€ä¹ˆäº†ï¼Œé‚£å°±ç­‰é€šçŸ¥å§</p><h2 id="æ­£å¼é€šçŸ¥-æ­åŠ©å–œæŠ¥">æ­£å¼é€šçŸ¥ &amp; æ­åŠ©å–œæŠ¥</h2><p>6 æœˆ 26 æ—¥ï¼Œç»“æœä¸‹æ¥äº†ï¼Œæˆ‘ä¹Ÿæ”¶åˆ°äº†é‚®ä»¶</p><p><img src="https://image.nickxu.me/202307042134321.png" alt="86e87455433bb7b1b9f5e14e3f38f591_0"></p><blockquote><p>ç»ˆäºç­‰åˆ°ä½ ï¼</p></blockquote><p>ç„¶ååœ¨æ­åŠ©é‡Œç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰çœŸçš„æŒºå¼€å¿ƒçš„ï¼Œæ­åŠ©çš„æŠ€æœ¯æ°›å›´çœŸçš„ä¸é”™</p><img src="https://image.nickxu.me/202307042135884.png" alt="image-20230704ä¸‹åˆ93502834" style="zoom: 50%;" /><blockquote><p>ä¹Ÿå¸Œæœ›èƒ½å¸å¼•æ›´å¤šäººåŠ å…¥æ­ç”µåŠ©æ‰‹æŠ€æœ¯éƒ¨çš„å¤§å®¶åº­</p></blockquote><h2 id="ç»§ç»­å¼€å‘">ç»§ç»­å¼€å‘</h2><p><img src="https://image.nickxu.me/202307042152919.png" alt="image-20230704ä¸‹åˆ95240872"></p><p>ä¸­é€‰ä¹‹åï¼Œå¯¼å¸ˆæ‹‰ç€æˆ‘å‚åŠ äº†å†…éƒ¨çš„ä¼šè®®ï¼Œå¯¹ä¸€éƒ¨åˆ†å†…å®¹æå‡ºäº†ä¿®æ”¹æ„è§</p><p>æ¯•ç«Ÿæˆ‘å¯¹è¿™ä¸ªæ’ä»¶å¸‚åœºçš„å®šä½æ²¡æœ‰ MOSN çš„ maintainers é‚£ä¹ˆæ·±å…¥ï¼Œè€Œä¸”æˆ‘æ„Ÿè§‰çœŸçš„æŒºåˆç†çš„ï¼Œæƒ³çš„é—®é¢˜éƒ½è€ƒè™‘çš„éå¸¸å‘¨åˆ°</p><p>ä¸»è¦å†…å®¹è®¨è®ºå®Œä¹‹åï¼Œè¯´å¼€çš„è¿™ä¹ˆå¥½å±…ç„¶æ²¡æœ‰å½•ä¸‹æ¥ï¼ˆ</p><p>ç„¶ååˆèŠåˆ°æˆ‘å¤šå¤§äº†ï¼Œæˆ‘è¯´æˆ‘ 03 å¹´çš„ï¼Œå°±æ„Ÿè§‰æŒºå¹´è½»å§ï¼Œä¸€æ—æœ‰äººè¯´ç°åœ¨è¿ç ”ç©¶ç”Ÿéƒ½æ˜¯ 00 åäº†ï¼Œå“ˆå“ˆå“ˆ</p><p>æˆ‘å°±æ„Ÿè§‰ï¼Œå“‡ï¼Œæˆ‘æ„Ÿè§‰æˆ‘å°±æ˜¯å¼€æºçš„æ–°é²œè¡€æ¶²ï¼Œæˆ‘çš„ç¡®èƒ½ã€Œä¸ºå…¶ä»–äººåšä¸€äº›ï¼Œæœ‰æ„ä¹‰çš„äº‹æƒ…ã€</p><hr><h1 id="ç»éªŒæ€»ç»“">ç»éªŒæ€»ç»“</h1><p>ä¸€ç›´æ‹–æ‹–æ‹–ï¼Œæ„Ÿè§‰å†™çš„æœ‰ç‚¹è™å¤´è›‡å°¾äº†ï¼Œä¸‹é¢å°±åˆ†äº«å‡ ç‚¹ä¸­é€‰çš„ç»éªŒå§</p><h2 id="æ»šé›ªçƒ-ç°åœ¨å°±å¼€å§‹">æ»šé›ªçƒ ç°åœ¨å°±å¼€å§‹</h2><p>åˆ«ä¸€å¼€å§‹å°±è¯´åšä¸åˆ°ï¼Œæ²¡æœ‰äººæ˜¯ä¸€å£åƒæˆèƒ–å­çš„ï¼Œéƒ½æ˜¯ä¸€ä¸ªæˆé•¿çš„è¿‡ç¨‹</p><p>å…¶å®å¾ˆå¤šäº‹æƒ…éƒ½æ˜¯ã€Œä½ ä¹‹å‰åšäº†ä¸€ä¸ªä»€ä¹ˆäº‹ã€ï¼Œä¸€æ­¥æ­¥è¿›æ­¥çš„ï¼Œå°±åƒæ»šä¸€ä¸ªé›ªçƒçš„è¿‡ç¨‹</p><p>æ¯”å¦‚è¯´æˆ‘</p><ul><li>å¦‚æœä¸æ˜¯åˆä¸­å¯¹è®¡ç®—æœºæ„Ÿå…´è¶£ï¼Œå¼€å§‹æŠ˜è…¾è®¡ç®—æœºï¼Œé«˜ä¸­ä¹Ÿä¸ä¼šå» Noipï¼Œä¹Ÿä¸ä¼šå»ç©æ ‘è“æ´¾</li><li>å¦‚æœé«˜ä¸­æ²¡æœ‰ä¸€å®šçš„ç§¯ç´¯ï¼Œå¤§ä¸€ä¹Ÿæ²¡é‚£ä¹ˆå®¹æ˜“è¿›æ­ç”µåŠ©æ‰‹ï¼Œä¹Ÿä¸ä¼šåœ¨æ­åŠ©èå…¥çš„é‚£ä¹ˆå¿«</li><li>å¦‚æœæ²¡è¿›æ­ç”µåŠ©æ‰‹ï¼Œ ä¹Ÿå°±æ²¡æœ‰åé¢çš„äº‹æƒ…äº†ï¼Œæˆ‘ä¹Ÿæ²¡æ³•åœ¨å­—èŠ‚é’è®­è¥å–å¾—é‚£æ ·çš„æˆç»©ï¼Œæ›´ä¸ä¼šå¬è¯´ OSPP è¿™ç§ä¸œè¥¿</li></ul><p>æ‰€ä»¥è¯´ä¸ç®¡é‚£ä¹ˆå¤šï¼Œå…ˆè®©è‡ªå·±æ»šèµ·æ¥å†è¯´ï¼Œç­‰äºè¯´æ˜¯æœ‰ä¸€ä¸ªæ­£å‘çš„å¾ªç¯ï¼Œèƒ½è®©ä½ ä¸æ–­çš„è¿›æ­¥</p><p>è€Œä¸”æ˜¯è¶Šæ—©è¶Šå¥½ï¼Œåˆ«æ˜å¤©ï¼Œç°åœ¨å°±å¼€å§‹ï¼Œåƒ iyearï¼Œåˆä¸­å°±åœ¨æ‰“ oiï¼Œæ¯”æˆ‘æ—©äº†ä¸€ä¸ªé˜¶æ®µï¼Œæ‰€ä»¥å¤§ä¸€å°±å‚åŠ äº† OSPPï¼Œä»Šå¹´æ›´æ˜¯å»äº† LFX Mentorship</p><h2 id="è¦æœ‰é˜¿ä¸‰çš„è‡ªä¿¡">è¦æœ‰é˜¿ä¸‰çš„è‡ªä¿¡</h2><img src="https://image.nickxu.me/202307042244857.png" alt="image-20230704ä¸‹åˆ104441787" style="zoom:67%;" /><blockquote><p>å¦å¤–ä¸€ä¸ªå°±æ˜¯è¦è®°ä½ iyear çš„è¯ï¼šã€Œè¦æœ‰é˜¿ä¸‰çš„è‡ªä¿¡ã€</p></blockquote><p>è®²çš„å°±æ˜¯ä¸€ä¸ªè‡ªä¿¡å¥½å§ï¼Œ<strong>ä½ ä¸è‡ªä¿¡ï¼Œä½ å°±å·²ç»è¾“äº†</strong></p><h2 id="åŒå‘é€‰æ‹©">åŒå‘é€‰æ‹©</h2><p>è®²çœŸç°åœ¨æœ‰äº›å¼€æºç¤¾åŒºä¹ŸæŒºç¦»è°±çš„ï¼Œä¸‹é¢çš„å¼€æºä¹±è±¡ä¹Ÿä¼šè¯´</p><p>ç®€å•çš„è¯´å°±æ˜¯è¦è®°ä½åŒå‘é€‰æ‹©ï¼Œå°±åƒé¢è¯•ä¼ä¸šä¸€æ ·ï¼Œä¸ä»…æ˜¯ç¤¾åŒºé€‰æ‹©ä½ ï¼Œä¹Ÿæ˜¯ä½ é€‰æ‹©ç¤¾åŒº</p><p>ä¸èƒ½ç™½ç™½è¢«åˆ«äºº PUAï¼Œä¸èƒ½è¢«ç™½ç™½å…»é±¼</p><h2 id="ä¸»åŠ¨å‡ºå‡»-å¿«é€Ÿå é¢†-å‰æœŸå¾ˆé‡è¦">ä¸»åŠ¨å‡ºå‡» å¿«é€Ÿå é¢† å‰æœŸå¾ˆé‡è¦</h2><p>å¦‚æœä½ å·²ç»ç¡®å®šçœ‹ä¸­äº†ä¸€ä¸ªé¡¹ç›®ï¼Œé‚£å°±å°½å¿«å‡ºå‡»ï¼Œå»äº¤æµè®¨è®ºï¼ŒåŒæ—¶æœ€å¥½è®©åˆ«äººä¹Ÿçœ‹è§</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå‰æœŸæ˜¯æœ€é‡è¦çš„ï¼Œå¦‚æœåˆ«äººå·²ç»å…ˆä½ ä¸€æ­¥å’Œå¯¼å¸ˆèŠäº†å¾ˆå¤šï¼Œé‚£ä½ ä¸­é€‰çš„å‡ ç‡ä¹Ÿä¸ä¼šå¤ªé«˜</p><p>ä¹Ÿå°±æ˜¯è¯´åˆ«æƒ³ç€è‡ªå·±ä¸€ç›´é—­é—¨é€ è½¦ï¼Œç„¶ååœ¨æäº¤æˆªæ­¢é‚£å¤©äº¤ä¸Šå»å°±å®Œäº†ï¼Œå¦‚æœå¯¼å¸ˆæœ‰å¦ä¸€ä¸ªè·Ÿä»–è®¨è®ºå¾ˆä¹…çš„å­¦ç”Ÿï¼Œä½ è§‰å¾—ä»–ä¼šé€‰å“ªä¸ª</p><h2 id="è®©åˆ«äººèƒ½äº†è§£è‡ªå·±">è®©åˆ«äººèƒ½äº†è§£è‡ªå·±</h2><p>è¦ç»´æŠ¤è‡ªå·±çš„ä¸ªäººå½¢è±¡ï¼Œåƒ GitHub å¤´åƒéƒ½æ²¡æ¢çš„ï¼Œä¸»é¡µä¸€ç‚¹è¿›å»å•¥éƒ½æ²¡æœ‰çš„ï¼Œæ€ä¹ˆè®©åˆ«äººç›¸ä¿¡ä½ æœ‰èƒ½åŠ›å‚ä¸å¼€å‘</p><p>è¦ç»™å¯¼å¸ˆä¸€äº›æ¸ é“æ¥äº†è§£è‡ªå·±ï¼Œæ¯”å¦‚èƒ½è®©å¯¼å¸ˆçŸ¥é“ä½ ä¹‹å‰æœ‰ä»€ä¹ˆä»€ä¹ˆé¡¹ç›®ç»å†ï¼Œèƒ½åŠ›å¼ºçš„è¯ä¹‹å‰åœ¨å“ªäº›å¼€æºç¤¾åŒºæ··è¿‡</p><p>åˆæˆ–è€…æ˜¯å’Œæˆ‘ä¸€æ ·æœ‰ä¸ªåšå®¢å¯ä»¥è®©åˆ«äººçœ‹ï¼Œè¿™ä¹Ÿæ˜¯è®©å¯¼å¸ˆäº†è§£ä½ çš„å¾ˆå¥½çš„æ–¹æ³•</p><p>æ€»ä¹‹ä¸€å¥è¯ï¼Œä½ å·²ç»çœ‹ä¸Šäº†åˆ«äººï¼Œé‚£ä¹Ÿè¦è®©åˆ«äººçœ‹çš„ä¸Šä½ ï¼Œä¸ºæ­¤ä½ å°±éœ€è¦åšä¸€äº›äº‹æƒ…è®©è‡ªå·±æ˜¾å¾—ä¸“ä¸š</p><p>å°±åƒæˆ‘è¿™æ¬¡è¿˜ç‰¹åœ°æŠ˜è…¾äº†ä¸ªè‡ªå®šä¹‰åŸŸåçš„é‚®ç®±ï¼Œä»¥åé¢è¯•å·¥ä½œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåˆ«äººç”¨ä¸ªè°·æ­Œé‚®ç®±å»é¢è¯•ï¼Œä½ ç®€å†ä¸Šå†™ä¸ª QQ é‚®ç®±ï¼Œä½ è§‰å¾—å‘¢ï¼Ÿ</p><p>å³ä½¿ä½ è¯´ gmail æ²¡ QQ æ–¹ä¾¿ï¼Œè¿˜è¦ç¿»å¢™ï¼Œå…¶å®ä½ å¯ä»¥è®¾ç½®è‡ªåŠ¨è½¬å‘ï¼Œæˆ‘å°±æ˜¯è¿™ä¹ˆå¼„çš„</p><h2 id="ç»Ÿä¸€å‘½åç©ºé—´-åˆ«æ’è½¦">ç»Ÿä¸€å‘½åç©ºé—´ åˆ«æ’è½¦</h2><p>å’Œç¤¾å›¢çš„å…¶ä»–ä¼™ä¼´ä¸€èµ·çš„æ—¶å€™è¦æ³¨æ„åˆ«æ’è½¦äº†ï¼Œä¸ç„¶å°±ä¼šæ˜¯å¾ˆå°´å°¬çš„å±€é¢ğŸ¥²</p><p><img src="https://image.nickxu.me/202307050022196.png" alt="image-20230705ä¸Šåˆ122240143"></p><p>åƒè¿™æ¬¡å°±ç¢°è§äº†ä¸å°‘æ’è½¦çš„æƒ…å†µ</p><p><img src="https://image.nickxu.me/202307050030677.png" alt="image-20230705ä¸Šåˆ123051615"></p><h2 id="ä¸åˆ©å½¢åŠ¿-åŠæ—¶æ”¾å¼ƒ">ä¸åˆ©å½¢åŠ¿ åŠæ—¶æ”¾å¼ƒ</h2><p>å¦‚æœå‘ç°è‡ªå·±å¸Œæœ›ä¸å¤§ï¼ˆæ¯”å¦‚å¯¼å¸ˆå¥½åƒæ ¹æœ¬ä¸æƒ³ç†ä½ ã€å§”å©‰æ‹’ç»ï¼Œæˆ–è€…å·²ç»æœ‰è°ˆçš„å¾ˆå¥½çš„äººäº†ï¼‰ï¼Œå°±åº”è¯¥åŠæ—¶æ”¾å¼ƒï¼Œè½¬ç§»é˜µåœ°</p><p>å¦‚æœä½ ç²¾åŠ›å¤Ÿçš„è¯è¿˜å¯ä»¥å°è¯•å¤šå¼€ï¼Œå¶å¸ˆå‚…è¿™æ¬¡å°±æ˜¯è¿™ä¹ˆå¹²çš„</p><h2 id="ä¸€ç‚¹ç‚¹è¿æ°”">ä¸€ç‚¹ç‚¹è¿æ°”</h2><p>å¯¼å¸ˆçœŸçš„å¾—çœ‹è¿æ°”æˆ‘æ„Ÿè§‰</p><p>è®²çœŸæˆ‘è¿™çœŸçš„æ˜¯ç¥ä»™å¯¼å¸ˆï¼Œæ¯æ¬¡å‘ä¿¡æ¯åŸºæœ¬éƒ½æ˜¯ç§’å›ï¼Œæˆ‘çœŸçš„å¤ªæ„ŸåŠ¨äº†ï¼ˆ</p><p><img src="https://image.nickxu.me/202307050024196.png" alt="image-20230705ä¸Šåˆ122453142"></p><h2 id="å…¶ä»–å› ç´ ">å…¶ä»–å› ç´ </h2><p>è¿˜è¦å¾ˆå¤šå…¶ä»–å› ç´ ï¼Œä¸‹é¢çš„å›¾ä½ å°±å¯ä»¥çœ‹å¾—å‡ºæ¥</p><p><img src="https://image.nickxu.me/202307052132207.png" alt="image-20230705ä¸‹åˆ93257160"></p><blockquote><p>ä¸€ä¸ªæ˜¯è¢«éª‘å£«ï¼Œå¦ä¸€ä¸ªæ˜¯ç¤¾åŒºæ’åä¸å¤Ÿï¼Œéª‘å£«å°±ä¸è¯´äº†ï¼Œä¸‹é¢è¯´ä¸€ä¸‹ç¤¾åŒºæ’å</p></blockquote><p>GSoC å’Œ OSPP ä¸åŒï¼ŒGSoC è¿˜æœ‰ä¸€ä¸ªç¤¾åŒºçš„æ’å</p><p>ä¹Ÿå°±æ˜¯å¯¼å¸ˆé€‰ä¸­ä½ ä¹‹åï¼Œè¿˜æ²¡æœ‰å®Œå…¨ç»“æŸ</p><p>ä¸€èˆ¬æ¥è¯´ GSoC ä¼šç»™æ¯ä¸ªç¤¾åŒºåˆ†é…é¡¹ç›®åé¢ï¼Œå½“ä½ å’Œå¯¼å¸ˆç»“å¯¹ä¹‹åï¼Œè¦ä¸€èµ·å‚ä¸ç¤¾åŒºå†…çš„æ’åï¼Œåªæœ‰åœ¨åé¢å†…çš„æ‰èƒ½ç®—çœŸæ­£çš„ä¸­é€‰</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œä½ åœ¨ GSoC ä¸Šçœ‹ä¸­äº†ä¸€ä¸ªç¤¾åŒºï¼Œé‡Œé¢æœ‰ 10 ä¸ªé¡¹ç›®ï¼Œä½ ç”³è¯·äº†ä¸€ä¸ªï¼Œå¹¶ä¸”å¯¼å¸ˆä¹Ÿé€‰ä½ äº†</p><p>ä½†æ˜¯ GSoC ç»™ä½ çš„ç¤¾åŒºåªæœ‰ 5 ä¸ªåé¢ï¼Œä¹‹å 10 ä¸ªé¡¹ç›®ä¸€èµ·å‚ä¸æ’åï¼Œä½†æ˜¯ä½ çš„é¡¹ç›®ä¸å¹¸æ’åœ¨äº†ç¬¬ 6 åï¼Œäºæ˜¯å¾ˆå¯æƒœè¿˜æ˜¯å¯„äº†</p><p>ç¤¾åŒºæ’åä¼šçœ‹é¡¹ç›®å¯¹ç¤¾åŒºçŸ­æœŸå†…æ•ˆç›Šå¤§ä¸å¤§ï¼Œè¿˜æœ‰ä½ å’Œç¤¾åŒºçš„å…³ç³»ï¼Œå…³ç³»å¥½çš„ç›´æ¥å®‰æ’äº†</p><p>è¿˜æœ‰çœ‹å¯¼å¸ˆå¥½ä¸å¥½ï¼Œå¯¼å¸ˆå¯èƒ½ä¼šè·Ÿä½ æ˜è¯´æ’åä¼°è®¡éš¾ï¼Œè®©ä½ æ¢é¡¹ç›®ï¼Œä¸ä¼šæµªè´¹ä½ å¤ªå¤šæ—¶é—´</p><p>è¿™æ–¹é¢è¿˜æ˜¯æœ‰äº›ä¸»è§‚èƒ½åŠ¨æ€§çš„</p><p>ä»Šå¹´çš„ OSPP ä¹Ÿå‡ºç°äº†ç±»ä¼¼çš„æƒ…å†µ</p><img src="https://image.nickxu.me/202307052109365.jpeg" alt="8e7fea2cafb89ce17eba2af1296378e5" style="zoom:50%;" /><p>å…·ä½“æ¥è¯´å°±æ˜¯ä¹‹å‰éƒ½æ˜¯ç¤¾åŒºæŠ¥å‡ ä¸ªä¸»åŠæ–¹éƒ½å‡ºèµ„æ”¯æŒï¼Œä½†æ˜¯è¿™ä¸€å±Šä¼šç»™ç¤¾åŒºåé¢ï¼Œè¶…å‡ºåé¢çš„é¡¹ç›®èµ„é‡‘å¿…é¡»ç¤¾åŒºè‡ªå·±è§£å†³</p><p>ç„¶åå°±å‡ºç°äº†ä¸€äº›å°´å°¬çš„æƒ…å†µï¼Œiyear ä»Šå¹´å°±æ˜¯è¿™ä¹ˆå¯„çš„</p><p><img src="https://image.nickxu.me/202307052119319.png" alt="9d385ce046b1665e3fb931dd5bd35801"></p><blockquote><p>å¯¼å¸ˆç›´æ¥æ”¹åæœ‰ç‚¹è‰ï¼ˆ</p></blockquote><p>å°±æ˜¯ç¤¾åŒºä¸€å¼€å§‹ä¸æ¸…æ¥šè¿™ä¸ªè§„åˆ™ï¼ŒæŠ¥äº†å¾ˆå¤šé¡¹ç›®ï¼Œç„¶ååæ¥çªç„¶å‘ç°åªç»™äº†ä¸¤ä¸ªåé¢ï¼Œå…¶ä»–çš„è¦è‡ªå·±èŠ±é’±</p><p>äºæ˜¯å¾ˆå¤šé¡¹ç›®å°±è¢«ç äº†ï¼Œä½ å¯ä»¥çœ‹è§è¿™ä¸ªç¤¾åŒºåªæœ‰ä¸¤ä¸ªå­¦ç”Ÿæœ€ç»ˆä¸­é€‰</p><hr><h1 id="æœªæ¥å±•æœ›">æœªæ¥å±•æœ›</h1><p><s>æ˜å¤©æ—©å…«ï¼Œå¥½å›°ï¼Œæ˜å¤©å†™</s></p><p>ç®€å•å†™ä¸€ä¸‹å§</p><h2 id="å¼€æºä¹±è±¡">å¼€æºä¹±è±¡</h2><p>æœ‰äººä¸€ç›´è®¤ä¸ºå›½å†…çš„å¼€æºæ˜¯ä¸ªç¬‘è¯ï¼Œæˆ‘æ„Ÿè§‰ä¹Ÿä¸æ˜¯å®Œå…¨æ²¡æœ‰é“ç†</p><p>è¿™å±Š OSPP å‡ºç°äº†ä¸€äº›æŠ½è±¡äº‹ä»¶ï¼Œæˆ‘åœ¨å®˜æ–¹ç¾¤é‡Œä¹Ÿæ„Ÿå—åˆ°äº†</p><p>å…·ä½“å¯ä»¥çœ‹ã€Œé¸Ÿã€å†™çš„åšå®¢ï¼Œ<a href="https://blog.aflybird.cn/2023/06/please-stop-fucking-open-source-activities-in-china/">è¯·è¿˜å›½å†…å¼€æºæ´»åŠ¨ä¸€ç‰‡å‡€åœŸ</a> ï¼ˆæ³¨æ„çœ‹è¯„è®ºåŒºï¼Œæœ‰äº‹æƒ…ä¸å¥½æ˜è¯è¯´</p><p>é‰´äºç›®å‰å›½å†…å­¦æœ¯åœˆçš„æŸäº›æ“ä½œï¼Œæˆ‘æ„Ÿè§‰æœªæ¥å‡ºç°ã€Œå¼€æºåˆ˜ç¦…ã€ä¹Ÿä¸æ˜¯ä¸å¯èƒ½</p><p>å¦å¤–å¯ä»¥çœ‹çœ‹å¦ä¸€ä½æ­åŠ©æˆå‘˜çš„åšå®¢ï¼š<a href="https://marlene.top/index.php/develop/85.html">å¼€æºä¹‹æ—…â€”â€”OSPP</a></p><h2 id="è¦æŠŠäººç•™ä¸‹æ¥">è¦æŠŠäººç•™ä¸‹æ¥</h2><p>è¿˜è®°å¾—æˆ‘å¼€å¤´è¯´çš„ï¼Œå¼€æºæ´»åŠ¨çš„ç›®çš„æ˜¯å¸å¼•æ›´å¤šçš„äººï¼ˆç‰¹åˆ«æ˜¯å­¦ç”Ÿï¼‰å‚ä¸å¼€æº</p><p>ä½†æ˜¯ç°åœ¨å°±æ„Ÿè§‰ï¼Œå¾ˆå¤šäººéƒ½æŠŠåˆ©ç›Šçœ‹çš„å¤ªé‡äº†</p><p>ç»“æœå°±æ˜¯ï¼Œæˆ‘æ¥äº†ï¼Œæˆ‘å®Œæˆäº†é¡¹ç›®ï¼Œæˆ‘èµ°äº†ï¼Œäººæ²¡ç•™ä¸‹æ¥</p><p>è®²çœŸè¿™æœ€åè¿˜æ˜¯æ²¡æŠŠç¤¾åŒºåšèµ·æ¥ï¼Œæˆ‘åªèƒ½è¯´ï¼Œæˆ‘è¿™æ¬¡åšçš„è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¥åè‚¯å®šä¼šä¸€ç›´ç»´æŠ¤è¿­ä»£çš„</p>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/OSPP/">OSPP</category>
      
      
      <category domain="https://nickxu.me/tags/OSPP/">OSPP</category>
      
      
      <comments>https://nickxu.me/2023/06/my-story-with-OSPP-from-hearing-to-being-selected.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ã€ç®—æ³•æ‹¾é—ã€é‡å­¦ä¸»æµæ’åºç®—æ³•</title>
      <link>https://nickxu.me/posts/sorting-algorithm.html</link>
      <guid>https://nickxu.me/posts/sorting-algorithm.html</guid>
      <pubDate>Tue, 13 Jun 2023 04:21:54 GMT</pubDate>
      
        
        
      <description>&lt;details class=&quot;toggle&quot; &gt;&lt;summary class=&quot;toggle-button&quot; style=&quot;&quot;&gt;è¡¡é‡æ’åºç®—æ³•çš„å¥½å&lt;/summary&gt;&lt;div class=&quot;toggle-content&quot;&gt;&lt;p&gt;æ—¶é—´å¤æ‚åº¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŒ…å«æœ€å¥½æƒ…å†µ</description>
        
      
      
      
      <content:encoded><![CDATA[<details class="toggle" ><summary class="toggle-button" style="">è¡¡é‡æ’åºç®—æ³•çš„å¥½å</summary><div class="toggle-content"><p>æ—¶é—´å¤æ‚åº¦</p><ul><li>åŒ…å«æœ€å¥½æƒ…å†µã€æœ€åæƒ…å†µå’Œå¹³å‡æƒ…å†µ</li><li>æ•°æ®æœ‰åºåº¦ä¸åŒçš„å½±å“</li></ul><p>ç©ºé—´å¤æ‚åº¦</p><ul><li>æ˜¯å¦æ˜¯åŸåœ°æ’åº</li></ul><p>ç¨³å®šæ€§</p><ul><li>æ’åºåï¼Œç›¸åŒå…ƒç´ ä¹‹é—´çš„é¡ºåºæ˜¯å¦ä¼šæ”¹å˜</li></ul></div></details><h1 id="O-n-2">O( n^2 )</h1><h2 id="å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰">å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰</h2><blockquote><p>ä¾æ¬¡æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœé¡ºåºé”™è¯¯ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚æ¯è½®æ’åºå°†æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰çš„å…ƒç´ â€œå†’æ³¡â€åˆ°æ­£ç¡®çš„ä½ç½®</p><p>ç®€å•æ˜“æ‡‚ï¼Œä½†æ•ˆç‡è¾ƒä½ï¼Œä¸é€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®æ’åº</p></blockquote><ul><li><p>è¿‡ç¨‹</p><ol><li>åˆå§‹åŒ–å¾…æ’åºæ•°ç»„ï¼Œè®¾ä¸º <code>arr</code> ï¼Œæ•°ç»„é•¿åº¦ä¸º <code>n</code></li><li>å¤–å±‚å¾ªç¯ï¼šé‡å¤ <code>n-1</code> æ¬¡ï¼ˆå³ <code>i</code> ä» <code>0</code> åˆ° <code>n-2</code> ï¼‰ <mark class="hl-label green">æ€è€ƒï¼šä¸ºä»€ä¹ˆå¤–å±‚æ˜¯n-1æ¬¡</mark> <ol><li>å†…å±‚å¾ªç¯ï¼šé‡å¤ <code>n-i-1</code> æ¬¡ï¼ˆå³ <code>j</code> ä» <code>0</code> åˆ° <code>n-i-2</code> ï¼‰  <mark class="hl-label green">æ€è€ƒï¼šä¸ºä»€ä¹ˆå†…å±‚æ˜¯n-i-1æ¬¡</mark> <ol><li>æ¯”è¾ƒ <code>arr[j]</code> å’Œ <code>arr[j+1]</code> ï¼Œå¦‚æœ <code>arr[j]</code> å¤§äº <code>arr[j+1]</code> ï¼Œæ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ç»§ç»­å†…å±‚å¾ªç¯</li><li>äº¤æ¢ <code>arr[j]</code> å’Œ <code>arr[j+1]</code> çš„ä½ç½®</li></ol></li><li>åˆ¤æ–­æ˜¯å¦åœ¨æœ¬è½®å†…å±‚å¾ªç¯ä¸­è¿›è¡Œäº†äº¤æ¢æ“ä½œï¼š<ul><li>å¦‚æœæ²¡æœ‰è¿›è¡Œäº¤æ¢ï¼Œè¯´æ˜æ•°ç»„å·²ç»æœ‰åºï¼Œæå‰ç»“æŸæ’åº</li></ul></li></ol></li><li>å†’æ³¡æ’åºç»“æŸï¼Œæ•°ç»„ <code>arr</code> å·²ç»æŒ‰å‡åºæ’åˆ—</li></ol></li><li><p>æ€§è´¨</p><ol><li>åœ¨æ’åºæ²¡æœ‰å®Œæˆä¹‹å‰ï¼Œå°çš„æ•°ä¼šé€æ­¥å¾€å‰ç§»ï¼Œå¤§çš„æ•°ä¼šé€æ­¥å¾€åç§»åŠ¨</li><li>æ¯è½®æ’åºè‡³å°‘ä¼šè®©ä¸€ä¸ªæœ€å¤§å…ƒç´ æ”¾ç½®åœ¨æ­£ç¡®ä½ç½®ï¼Œé‡å¤ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> æ¬¡ï¼Œå°±å®Œæˆäº† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªå…ƒç´ çš„æ’åº</li><li>æ˜¯ç¨³å®šçš„æ’åºç®—æ³•</li><li>ç©ºé—´å¤æ‚åº¦ï¼šå†’æ³¡æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼Œå®ƒåœ¨åŸåœ°è¿›è¡Œæ’åºï¼Œä¸éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ã€‚</li><li>æœ€ä¼˜æƒ…å†µï¼šå†’æ³¡æ’åºçš„æœ€ä¼˜æƒ…å†µæ˜¯è¾“å…¥æ•°ç»„å·²ç»æœ‰åºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€è¦è¿›è¡Œä¸€æ¬¡éå†ï¼Œæ²¡æœ‰å…ƒç´ äº¤æ¢ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></li><li>æœ€åæƒ…å†µï¼šå†’æ³¡æ’åºçš„æœ€åæƒ…å†µæ˜¯è¾“å…¥æ•°ç»„å®Œå…¨é€†åºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦è¿›è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> è½®éå†ï¼Œæ¯è½®éå†éœ€è¦è¿›è¡Œå…ƒç´ æ¯”è¾ƒå’Œäº¤æ¢ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li><li>å¹³å‡æƒ…å†µï¼šå†’æ³¡æ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ã€‚å› ä¸ºæ¯ä¸€å¯¹å…ƒç´ åœ¨æ’åºè¿‡ç¨‹ä¸­éƒ½æœ‰å¯èƒ½å‘ç”Ÿäº¤æ¢ï¼Œæ‰€ä»¥å¹³å‡æ—¶é—´å¤æ‚åº¦è¾ƒé«˜</li></ol></li><li><p>ä»£ç </p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bubbleSort</span><span class="params">(arr []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(arr)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n<span class="number">-1</span>; i++ &#123; <span class="comment">// ä¸€å…±è¦æ’åº n-1 è½®ï¼ˆå› ä¸ºæ¯ 1 è½®è‡³å°‘èƒ½è®© 1 ä¸ªå…ƒç´ æ”¾åœ¨æ­£ç¡®çš„ä½ç½®ï¼‰</span></span><br><span class="line">        <span class="comment">// æ ‡è®°æ˜¯å¦è¿›è¡Œäº†äº¤æ¢ï¼Œå¦‚æœåœ¨æŸè½®éå†ä¸­æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°ç»„å·²ç»æœ‰åºï¼Œå¯ä»¥æå‰ç»“æŸæ’åºã€‚</span></span><br><span class="line">        swapped := <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; n-i<span class="number">-1</span>; j++ &#123; <span class="comment">// æ¯è½®æ¯”è¾ƒ n-i-1 æ¬¡ï¼ˆå› ä¸ºå‰é¢ i è½®å·²ç»è®© i ä¸ªå…ƒç´ æœ‰åºäº†ï¼‰</span></span><br><span class="line">            <span class="comment">// æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœé¡ºåºé”™è¯¯åˆ™äº¤æ¢å®ƒä»¬</span></span><br><span class="line">            <span class="keyword">if</span> arr[j] &gt; arr[j+<span class="number">1</span>] &#123;</span><br><span class="line">                arr[j], arr[j+<span class="number">1</span>] = arr[j+<span class="number">1</span>], arr[j]</span><br><span class="line">                swapped = <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœåœ¨æŸè½®éå†ä¸­æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°ç»„å·²ç»æœ‰åºï¼Œå¯ä»¥æå‰ç»“æŸæ’åºã€‚</span></span><br><span class="line">        <span class="keyword">if</span> !swapped &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// å¾…æ’åºçš„æ•´æ•°æ•°ç»„</span></span><br><span class="line">    arr := []<span class="type">int</span>&#123;<span class="number">64</span>, <span class="number">34</span>, <span class="number">25</span>, <span class="number">12</span>, <span class="number">22</span>, <span class="number">11</span>, <span class="number">90</span>&#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;åŸå§‹æ•°ç»„ï¼š&quot;</span>, arr)</span><br><span class="line">    bubbleSort(arr)</span><br><span class="line">    fmt.Println(<span class="string">&quot;æ’åºåæ•°ç»„ï¼š&quot;</span>, arr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><details class="toggle" ><summary class="toggle-button" style="">å†’æ³¡æ’åºçš„ä¾‹å­ï¼ˆGPTï¼‰</summary><div class="toggle-content"><p>å¥½çš„ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå†’æ³¡æ’åºçš„ä¾‹å­ã€‚å‡è®¾æˆ‘ä»¬è¦å¯¹ä¸€ä¸ªæ•´æ•°æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œä¸‹é¢æ˜¯å†’æ³¡æ’åºçš„æ­¥éª¤ï¼š</p><p>åˆå§‹æ•°ç»„ï¼š[5, 2, 9, 1, 5, 6]</p><p>ç¬¬ä¸€è½®å†’æ³¡ï¼š</p><ul><li>æ¯”è¾ƒ 5 å’Œ 2ï¼šéœ€è¦äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸º [2, 5, 9, 1, 5, 6]</li><li>æ¯”è¾ƒ 5 å’Œ 9ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [2, 5, 9, 1, 5, 6]</li><li>æ¯”è¾ƒ 9 å’Œ 1ï¼šéœ€è¦äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸º [2, 5, 1, 9, 5, 6]</li><li>æ¯”è¾ƒ 9 å’Œ 5ï¼šéœ€è¦äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸º [2, 5, 1, 5, 9, 6]</li><li>æ¯”è¾ƒ 9 å’Œ 6ï¼šéœ€è¦äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸º [2, 5, 1, 5, 6, 9]</li></ul><p>ç¬¬ä¸€è½®å†’æ³¡ç»“æŸåï¼Œæœ€å¤§çš„å…ƒç´  9 å·²ç»è¢«â€œå†’æ³¡â€åˆ°æ­£ç¡®çš„ä½ç½®æœ«å°¾ã€‚</p><p>ç¬¬äºŒè½®å†’æ³¡ï¼š</p><ul><li>æ¯”è¾ƒ 2 å’Œ 5ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [2, 5, 1, 5, 6, 9]</li><li>æ¯”è¾ƒ 5 å’Œ 1ï¼šéœ€è¦äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸º [2, 1, 5, 5, 6, 9]</li><li>æ¯”è¾ƒ 5 å’Œ 5ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [2, 1, 5, 5, 6, 9]</li><li>æ¯”è¾ƒ 5 å’Œ 6ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [2, 1, 5, 5, 6, 9]</li></ul><p>ç¬¬äºŒè½®å†’æ³¡ç»“æŸåï¼Œç¬¬äºŒå¤§çš„å…ƒç´  5 ä¹Ÿå·²ç»è¢«â€œå†’æ³¡â€åˆ°æ­£ç¡®çš„ä½ç½®ã€‚</p><p>ç¬¬ä¸‰è½®å†’æ³¡ï¼š</p><ul><li>æ¯”è¾ƒ 2 å’Œ 1ï¼šéœ€è¦äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸º [1, 2, 5, 5, 6, 9]</li><li>æ¯”è¾ƒ 2 å’Œ 5ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [1, 2, 5, 5, 6, 9]</li><li>æ¯”è¾ƒ 5 å’Œ 5ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [1, 2, 5, 5, 6, 9]</li></ul><p>ç¬¬ä¸‰è½®å†’æ³¡ç»“æŸåï¼Œç¬¬ä¸‰å¤§çš„å…ƒç´  2 ä¹Ÿå·²ç»è¢«â€œå†’æ³¡â€åˆ°æ­£ç¡®çš„ä½ç½®ã€‚</p><p>ç¬¬å››è½®å†’æ³¡ï¼š</p><ul><li>æ¯”è¾ƒ 1 å’Œ 2ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [1, 2, 5, 5, 6, 9]</li><li>æ¯”è¾ƒ 2 å’Œ 5ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [1, 2, 5, 5, 6, 9]</li></ul><p>ç¬¬å››è½®å†’æ³¡ç»“æŸåï¼Œç¬¬å››å¤§çš„å…ƒç´  1 ä¹Ÿå·²ç»è¢«â€œå†’æ³¡â€åˆ°æ­£ç¡®çš„ä½ç½®ã€‚</p><p>æœ€åä¸€è½®å†’æ³¡ï¼š</p><ul><li>æ¯”è¾ƒ 1 å’Œ 2ï¼šä½ç½®æ­£ç¡®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œæ•°ç»„ä¿æŒä¸å˜ [1, 2, 5, 5, 6, 9]</li></ul><p>æœ€åä¸€è½®å†’æ³¡ç»“æŸåï¼Œç¬¬äº”å¤§çš„å…ƒç´  1 ä¹Ÿå·²ç»è¢«â€œå†’æ³¡â€åˆ°æ­£ç¡®çš„ä½ç½®ã€‚</p><p>ç°åœ¨æ•°ç»„å·²ç»å®Œå…¨æœ‰åºï¼š[1, 2, 5, 5, 6, 9]ã€‚æ•´ä¸ªå†’æ³¡æ’åºè¿‡ç¨‹å®Œæˆã€‚</p><p>å†’æ³¡æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡ç›¸é‚»å…ƒç´ çš„æ¯”è¾ƒå’Œäº¤æ¢æ¥é€æ­¥â€œå†’æ³¡â€æœ€å¤§å…ƒç´ è‡³æ­£ç¡®ä½ç½®ã€‚è¿™ä¸ªè¿‡ç¨‹æŒç»­æ‰§è¡Œç›´è‡³æ‰€æœ‰å…ƒç´ éƒ½æ’å¥½åºã€‚è¯·æ³¨æ„ï¼Œå†’æ³¡æ’åºå¯èƒ½éœ€è¦å¤šæ¬¡éå†æ•°ç»„æ¥ç¡®ä¿æ‰€æœ‰å…ƒç´ éƒ½åœ¨æ­£ç¡®çš„ä½ç½®ã€‚è™½ç„¶å†’æ³¡æ’åºç®€å•æ˜“æ‡‚ï¼Œä½†å®ƒçš„æ•ˆç‡è¾ƒä½ï¼Œä¸é€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®çš„æ’åºã€‚</p></div></details></li><li><details class="toggle" ><summary class="toggle-button" style="">å¯èƒ½ä¼šé—®çš„é—®é¢˜ï¼ˆGPTï¼‰</summary><div class="toggle-content"><p>åœ¨é¢è¯•ä¸­ï¼Œå…³äºå†’æ³¡æ’åºï¼Œé¢è¯•å®˜å¯èƒ½ä¼šé—®æ‚¨ä»¥ä¸‹å‡ ç±»é—®é¢˜ï¼š</p><ol><li><p>å†’æ³¡æ’åºçš„åŸç†å’Œæ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>å›ç­”è¦ç‚¹ï¼šå†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒé€šè¿‡ç›¸é‚»å…ƒç´ çš„æ¯”è¾ƒå’Œäº¤æ¢æ¥é€æ­¥â€œå†’æ³¡â€æœ€å¤§å…ƒç´ è‡³æ­£ç¡®çš„ä½ç½®ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯é‡å¤éå†æ•°ç»„ï¼Œæ¯æ¬¡éå†å°†å½“å‰æœ€å¤§å…ƒç´ æ”¾åˆ°æœªæ’åºéƒ¨åˆ†çš„æœ«å°¾ã€‚</li></ul></li><li><p>å†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ</p><ul><li>å›ç­”è¦ç‚¹ï¼šå†’æ³¡æ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œæœ€å¥½æƒ…å†µä¸‹ï¼ˆæ•°ç»„å·²ç»æœ‰åºï¼‰ä¸ºO(n)ï¼Œæœ€åæƒ…å†µä¸‹ï¼ˆæ•°ç»„å®Œå…¨é€†åºï¼‰ä¸ºO(n^2)ã€‚å¹³å‡æƒ…å†µä¸‹ï¼Œéœ€è¦è¿›è¡Œn-1è½®å¤–å±‚å¾ªç¯ï¼Œæ¯è½®å¾ªç¯éœ€è¦æ¯”è¾ƒn-i-1æ¬¡ï¼Œå…±è¿›è¡Œ(n-1) + (n-2) + â€¦ + 1 = n*(n-1)/2æ¬¡æ¯”è¾ƒã€‚</li></ul></li><li><p>å†’æ³¡æ’åºæ˜¯ç¨³å®šæ’åºç®—æ³•å—ï¼Ÿ</p><ul><li>å›ç­”è¦ç‚¹ï¼šæ˜¯çš„ï¼Œå†’æ³¡æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºç®—æ³•ã€‚åœ¨å†’æ³¡æ’åºçš„è¿‡ç¨‹ä¸­ï¼Œåªæœ‰åœ¨ç›¸é‚»å…ƒç´ éœ€è¦äº¤æ¢æ—¶æ‰æ”¹å˜ç›¸ç­‰å…ƒç´ çš„é¡ºåºï¼Œæ‰€ä»¥ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹ä½ç½®åœ¨æ’åºå‰åä¿æŒä¸å˜ã€‚</li></ul></li><li><p>å¦‚ä½•ä¼˜åŒ–å†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Ÿ</p><ul><li>å›ç­”è¦ç‚¹ï¼šå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ ‡å¿—ä½æ¥åˆ¤æ–­åœ¨æŸä¸€è½®å¤–å±‚å¾ªç¯ä¸­æ˜¯å¦è¿›è¡Œäº†äº¤æ¢æ“ä½œï¼Œå¦‚æœæ²¡æœ‰äº¤æ¢ï¼Œè¯´æ˜æ•°ç»„å·²ç»æœ‰åºï¼Œå¯ä»¥æå‰ç»“æŸæ’åºï¼Œä»è€Œä¼˜åŒ–æœ€å¥½æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚</li></ul></li><li><p>å†’æ³¡æ’åºå’Œå…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒï¼Ÿ</p><ul><li>å›ç­”è¦ç‚¹ï¼šå†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•ï¼Œä½†å…¶æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œä¸é€‚åˆå¤§è§„æ¨¡æ•°æ®çš„æ’åºã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¿«é€Ÿæ’åºã€å½’å¹¶æ’åºå’Œå †æ’åºç­‰æ’åºç®—æ³•åœ¨å¹³å‡æƒ…å†µä¸‹æœ‰æ›´é«˜æ•ˆçš„æ—¶é—´å¤æ‚åº¦ï¼Œå¹¶ä¸”æ›´å¸¸ç”¨äºå®é™…åº”ç”¨ã€‚</li></ul></li><li><p>ä½ èƒ½å®ç°å†’æ³¡æ’åºçš„ä»£ç å—ï¼Ÿ</p><ul><li>å›ç­”è¦ç‚¹ï¼šæ‚¨éœ€è¦åœ¨é¢è¯•ä¸­å±•ç¤ºæ‚¨å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Œç„¶åæ ¹æ®ç¼–ç¨‹è¯­è¨€è¦æ±‚ç¼–å†™å†’æ³¡æ’åºçš„ä»£ç å®ç°ã€‚</li></ul></li></ol><p>åœ¨é¢è¯•è¿‡ç¨‹ä¸­ï¼Œé™¤äº†ç†è§£å†’æ³¡æ’åºçš„åŸç†å’Œæ€§è´¨å¤–ï¼Œæ‚¨è¿˜åº”è¯¥èƒ½å¤Ÿæ¸…æ™°åœ°è¡¨è¾¾ç­”æ¡ˆï¼Œå±•ç¤ºæ‚¨å¯¹ç®—æ³•çš„ç†è§£å’Œç¼–ç¨‹èƒ½åŠ›ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨ç¤ºä¾‹æˆ–ç”»å›¾æ¥å¸®åŠ©è¯´æ˜ã€‚åŒæ—¶ï¼Œä¸é¢è¯•å®˜ä¿æŒè‰¯å¥½çš„æ²Ÿé€šï¼Œå¦‚æœæœ‰ä»»ä½•ä¸æ¸…æ¥šçš„åœ°æ–¹ï¼Œéšæ—¶è¯·æ•™é¢è¯•å®˜ã€‚</p></div></details></li></ul><h2 id="æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰">æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</h2><blockquote><p>å°†æœªæ’åºçš„å…ƒç´ é€ä¸ªæ’å…¥åˆ°å·²æ’åºéƒ¨åˆ†çš„æ­£ç¡®ä½ç½®ï¼Œå½¢æˆæœ‰åºåºåˆ—ã€‚</p><p>é€‚ç”¨äºå°å‹æ•°æ®é›†å’ŒåŸºæœ¬æœ‰åºçš„æ•°æ®ï¼Œæ•ˆç‡è¾ƒå†’æ³¡æ’åºç¨é«˜ã€‚<mark class="hl-label green">æ€è€ƒï¼šæ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œä¸ºä»€ä¹ˆè¯´æ’å…¥æ¯”å†’æ³¡æ•ˆç‡é«˜</mark> </p></blockquote><h2 id="é€‰æ‹©æ’åº">é€‰æ‹©æ’åº</h2><h1 id="O-n-logn">O( n*logn )</h1><h2 id="å½’å¹¶æ’åº">å½’å¹¶æ’åº</h2><h2 id="å¿«é€Ÿæ’åº">å¿«é€Ÿæ’åº</h2><h2 id="å †æ’åº">å †æ’åº</h2><h1 id="O-n">O( n )</h1><h2 id="è®¡æ•°æ’åº">è®¡æ•°æ’åº</h2><h2 id="åŸºæ•°æ’åº">åŸºæ•°æ’åº</h2><h2 id="æ¡¶æ’åº">æ¡¶æ’åº</h2>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
      <category domain="https://nickxu.me/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/">ç®—æ³•æ‹¾é—</category>
      
      <category domain="https://nickxu.me/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/%E6%8E%92%E5%BA%8F/">æ’åº</category>
      
      
      
      <comments>https://nickxu.me/posts/sorting-algorithm.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>åç«¯å±‚ä¸å±‚ä¼ é€’ç»“æ„ä½“æ—¶è‡ªåŠ¨è½¬æ¢ç±»å‹</title>
      <link>https://nickxu.me/posts/278.html</link>
      <guid>https://nickxu.me/posts/278.html</guid>
      <pubDate>Fri, 02 Jun 2023 14:41:24 GMT</pubDate>
      
        
        
      <description>&lt;blockquote&gt;
&lt;p&gt;&lt;s&gt;æœªå®Œæˆ&lt;/s&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;7 æœˆ 11 æ—¥æ›´ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨åç«¯å±‚ä¸å±‚ä¼ é€’çš„æ—¶å€™ï¼Œå¾ˆå¤šæƒ…å†µä¸‹éƒ½éœ€è¦æ‰‹åŠ¨æŠŠä¸€ä¸ªç»“æ„ä½“çš„å†…å®¹æ¬åˆ°å¦ä¸€ä¸ªç»“æ„ä½“é‡Œé¢ï¼Œä¹Ÿå¯èƒ½ä¼šåšä¸€ä¸‹ç®€å•çš„è½¬æ¢&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™å°±å¯ä»¥ç”¨ jinz</description>
        
      
      
      
      <content:encoded><![CDATA[<blockquote><p><s>æœªå®Œæˆ</s></p></blockquote><p>7 æœˆ 11 æ—¥æ›´ï¼š</p><p>åœ¨åç«¯å±‚ä¸å±‚ä¼ é€’çš„æ—¶å€™ï¼Œå¾ˆå¤šæƒ…å†µä¸‹éƒ½éœ€è¦æ‰‹åŠ¨æŠŠä¸€ä¸ªç»“æ„ä½“çš„å†…å®¹æ¬åˆ°å¦ä¸€ä¸ªç»“æ„ä½“é‡Œé¢ï¼Œä¹Ÿå¯èƒ½ä¼šåšä¸€ä¸‹ç®€å•çš„è½¬æ¢</p><p>è¿™æ—¶å€™å°±å¯ä»¥ç”¨ jinzhu çš„ <a href="https://github.com/jinzhu/copier">https://github.com/jinzhu/copier</a></p><p>æˆ‘å¾ˆæ—©å°±å¬è¯´äº†è¿™ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æ•¢ç”¨ï¼Œæ¯•ç«Ÿå°é¡¹ç›®ä¸œè¥¿ä¹Ÿä¸å¤šï¼Œç„¶åè‡ªå·±æ‰‹åŠ¨æ¬ä¸€ä¸‹æ¯”è¾ƒç¨³å¦¥ï¼Œæ€•ä¼šæœ‰ä»€ä¹ˆé—®é¢˜</p><p>ä½†æ˜¯åé¢å˜å¤§äº†ä¹‹åæ„Ÿè§‰é€‚åˆ copier çš„åœºæ™¯æ›´å¤šäº†ï¼Œæ¯”å¦‚ä¸€ä¸ªæ—¶é—´å­—æ®µï¼Œä½ åœ¨æ•°æ®åº“ model é‡Œæ˜¯ <code>time.Time</code> ï¼Œ åˆ°ä¸‹ä¸€å±‚è¦è½¬æ¢æˆ <code>int64</code> çš„ Unix æ—¶é—´æˆ³</p><p>è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ <code>copier.Copy()</code> ï¼ŒåŒæ—¶è®©é‚£ä¸ªç»“æ„ä½“å®ç°è½¬æ¢çš„æ–¹æ³•ï¼Œå°±å¯ä»¥åœ¨ copy çš„åŒæ—¶è‡ªåŠ¨è½¬æˆ <code>int64</code></p>]]></content:encoded>
      
      
      
      
      <comments>https://nickxu.me/posts/278.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>åç«¯å‘é€ lua è„šæœ¬ç»™ Redis æ‰§è¡Œ</title>
      <link>https://nickxu.me/posts/277.html</link>
      <guid>https://nickxu.me/posts/277.html</guid>
      <pubDate>Fri, 02 Jun 2023 14:33:17 GMT</pubDate>
      
        
        
      <description>&lt;blockquote&gt;
&lt;p&gt;&lt;s&gt;æœªå®Œæˆ&lt;/s&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;7 æœˆ 11 æ—¥æ›´ï¼š&lt;/p&gt;
&lt;p&gt;ä¹‹å‰åœ¨äº¤æµçš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªå¾ˆå·§çš„æ–¹æ³•ï¼Œå°±æ˜¯åœ¨æ‰§è¡Œå¤æ‚ Redis æ“ä½œçš„æ—¶å€™ï¼Œå¯ä»¥å‘ä¸€ä¸ª lua è„šæœ¬è¿‡å»&lt;/p&gt;
&lt;p&gt;ç»†èŠ‚è®°ä¸æ¸…äº†ï¼Œå¤§æ¦‚å°±æ˜¯ä½ ä¸€</description>
        
      
      
      
      <content:encoded><![CDATA[<blockquote><p><s>æœªå®Œæˆ</s></p></blockquote><p>7 æœˆ 11 æ—¥æ›´ï¼š</p><p>ä¹‹å‰åœ¨äº¤æµçš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªå¾ˆå·§çš„æ–¹æ³•ï¼Œå°±æ˜¯åœ¨æ‰§è¡Œå¤æ‚ Redis æ“ä½œçš„æ—¶å€™ï¼Œå¯ä»¥å‘ä¸€ä¸ª lua è„šæœ¬è¿‡å»</p><p>ç»†èŠ‚è®°ä¸æ¸…äº†ï¼Œå¤§æ¦‚å°±æ˜¯ä½ ä¸€å¥ä¸€å¥å†™çš„è¯ï¼Œæ•ˆç‡æ˜¯ä¸åŠç›´æ¥å‘ä¸€ä¸ªè„šæœ¬è¿‡å»é«˜çš„</p><p>å…·ä½“çš„æˆ‘è¿˜æ²¡è¯•ï¼Œç­‰è¯•äº†ä¹‹åå†çœ‹çœ‹ğŸ‘€</p>]]></content:encoded>
      
      
      
      
      <comments>https://nickxu.me/posts/277.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>å¦‚ä½•åœ¨ä¸€ä¸ªä»“åº“ä¸­åŒæ—¶å¼€å‘å‰åç«¯é¡¹ç›®</title>
      <link>https://nickxu.me/posts/276.html</link>
      <guid>https://nickxu.me/posts/276.html</guid>
      <pubDate>Thu, 01 Jun 2023 09:31:30 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;https://image.nickxu.me/202306011733625.png&quot; alt=&quot;image-20230601ä¸‹åˆ53301310&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚å›¾ï¼Œä»Šå¤©åœ¨ç¾¤é‡Œé—®äº†ä¸ªå°é—®é¢˜&lt;/p&gt;
&lt;/blockquot</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="https://image.nickxu.me/202306011733625.png" alt="image-20230601ä¸‹åˆ53301310"></p><blockquote><p>å¦‚å›¾ï¼Œä»Šå¤©åœ¨ç¾¤é‡Œé—®äº†ä¸ªå°é—®é¢˜</p></blockquote><p>TLDR; ç›´æ¥è¯´ç»“è®ºå§</p><ul><li><p>å°é¡¹ç›®ç›´æ¥å¼€å­ç›®å½•ï¼Œç„¶åå¯ä»¥åˆ†åˆ«ç‹¬ç«‹æ‰“åŒ…æˆ–è€…ä½¿ç”¨ <code>go embed</code></p></li><li><p>ä¸åŒåˆ†æ”¯çš„æ–¹æ³•åº”è¯¥æ²¡å¿…è¦ç”¨</p><p>å¦‚æœæƒ³åšæˆä¸¤ä¸ªç‹¬ç«‹é¡¹ç›®å°±ç”¨ submodule</p><details class="toggle" ><summary class="toggle-button" style="">gpt å¯¹ submodule çš„ä»‹ç»</summary><div class="toggle-content"><p>Git çš„ Submodule æ˜¯ä¸€ç§åœ¨ä¸€ä¸ª Git ä»“åº“ä¸­åµŒå¥—ä½¿ç”¨å¦ä¸€ä¸ª Git ä»“åº“çš„æœºåˆ¶ã€‚å®ƒå…è®¸ä½ å°†ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå­é¡¹ç›®åµŒå…¥åˆ°å¦ä¸€ä¸ª Git ä»“åº“ä¸­ï¼Œå¹¶ä¸”èƒ½å¤Ÿç‹¬ç«‹åœ°ç®¡ç†å­é¡¹ç›®çš„ç‰ˆæœ¬å’Œæäº¤å†å²ã€‚</p><p>ä½¿ç”¨ Git Submodule çš„ä¸»è¦ç›®çš„æ˜¯åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨å¤–éƒ¨ä¾èµ–ï¼Œè€Œä¸æ˜¯å°†å®ƒä»¬ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ç›®å½•ä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥æ–¹ä¾¿åœ°æ›´æ–°å’Œç»´æŠ¤å¤–éƒ¨ä¾èµ–ï¼Œå¹¶ä¸”å¯ä»¥ä¿æŒé¡¹ç›®çš„ç‹¬ç«‹æ€§ã€‚</p><p>ä¸‹é¢æ˜¯ä½¿ç”¨ Git Submodule çš„åŸºæœ¬å·¥ä½œæµç¨‹ï¼š</p><ol><li><p>æ·»åŠ  Submoduleï¼šåœ¨ä¸»é¡¹ç›®çš„ä»“åº“ä¸­ï¼Œä½¿ç”¨ <code>git submodule add</code> å‘½ä»¤æ·»åŠ ä¸€ä¸ªå­é¡¹ç›®ä½œä¸º Submoduleã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add &lt;URL to submodule&gt; &lt;submodule path&gt;</span><br></pre></td></tr></table></figure><p>è¿™å°†åœ¨ä¸»é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ª Submoduleï¼Œå¹¶å°†å…¶å…‹éš†åˆ°æŒ‡å®šçš„å­ç›®å½•ä¸­ã€‚</p></li><li><p>åˆå§‹åŒ–å’Œæ›´æ–° Submoduleï¼šåœ¨ä¸»é¡¹ç›®çš„ä»“åº“ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆå§‹åŒ–å’Œæ›´æ–° Submoduleï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git submodule init    # åˆå§‹åŒ– Submoduleï¼Œåªéœ€æ‰§è¡Œä¸€æ¬¡</span><br><span class="line">git submodule update  # æ›´æ–° Submoduleï¼Œæ¯æ¬¡å­é¡¹ç›®å‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œ</span><br></pre></td></tr></table></figure><p><code>git submodule init</code> å‘½ä»¤ä¼šåˆå§‹åŒ– Submodule å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šçš„æäº¤ã€‚<code>git submodule update</code> å‘½ä»¤ä¼šæ›´æ–° Submodule çš„ä»£ç ï¼Œå¯ä»¥åœ¨æ¯æ¬¡å­é¡¹ç›®å‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œè¯¥å‘½ä»¤ã€‚</p></li><li><p>åˆ‡æ¢ Submodule ç‰ˆæœ¬ï¼šåœ¨ä¸»é¡¹ç›®ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>cd</code> å‘½ä»¤åˆ‡æ¢åˆ° Submodule çš„ç›®å½•ä¸­ï¼Œç„¶ååƒåœ¨ç‹¬ç«‹çš„ Git ä»“åº“ä¸­ä¸€æ ·æ‰§è¡Œå„ç§ Git æ“ä½œï¼Œä¾‹å¦‚åˆ‡æ¢åˆ†æ”¯ã€æäº¤å˜æ›´ç­‰ã€‚</p></li><li><p>æäº¤å’Œæ›´æ–° Submoduleï¼šå½“ Submodule ä¸­å‘ç”Ÿå˜åŒ–å¹¶ä¸”éœ€è¦å°†è¿™äº›å˜åŒ–åº”ç”¨åˆ°ä¸»é¡¹ç›®ä¸­æ—¶ï¼Œéœ€è¦å…ˆåˆ‡æ¢åˆ°ä¸»é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæäº¤å’Œæ›´æ–°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;submodule path&gt;</span><br><span class="line">git commit -m &quot;Update submodule&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å…¶ä»–å¼€å‘è€…å…‹éš†ä¸»é¡¹ç›®æ—¶ï¼ŒSubmodule çš„ä»£ç ä¸ä¼šè‡ªåŠ¨è·å–ã€‚ä»–ä»¬éœ€è¦æ‰§è¡Œ <code>git submodule init</code> å’Œ <code>git submodule update</code> å‘½ä»¤æ¥è·å–å’Œæ›´æ–° Submodule çš„ä»£ç ã€‚</p><p>ä½¿ç”¨ Git Submodule éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>Submodule æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Git ä»“åº“ï¼Œå…·æœ‰è‡ªå·±çš„æäº¤å†å²å’Œç‰ˆæœ¬ç®¡ç†ã€‚</li><li>ä¸»é¡¹ç›®åªä¿å­˜ Submodule çš„å…ƒæ•°æ®å’Œè¿æ¥ä¿¡æ¯ï¼Œè€Œä¸ä¼šåŒ…å« Submodule çš„å®é™…ä»£ç ã€‚</li><li>ä¸»é¡¹ç›®å’Œ Submodule æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ä»“åº“ï¼Œéœ€è¦åˆ†åˆ«è¿›è¡Œæ“ä½œå’Œç®¡ç†ã€‚</li><li>Submodule å¯ä»¥æ˜¯å…¬å…±çš„ä»“åº“ï¼ˆå¦‚ GitHub ä¸Šçš„ä»“åº“ï¼‰æˆ–è€…æ˜¯ç§æœ‰çš„ä»“åº“ã€‚</li></ul><p>Git Submodule æ˜¯ä¸€ç§å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ ç®¡ç†é¡¹ç›®ä¸­çš„å¤–éƒ¨</p><p>ä¾èµ–ï¼Œå¹¶ä¸ä¸»é¡¹ç›®ä¿æŒç‹¬ç«‹å’Œå¯ç»´æŠ¤ã€‚ä½†åŒæ—¶ä¹Ÿéœ€è¦æ³¨æ„å®ƒçš„å¤æ‚æ€§å’Œæ­£ç¡®çš„ä½¿ç”¨æ–¹å¼ï¼Œä»¥é¿å…å‡ºç°é—®é¢˜ã€‚</p></div></details><p>submoduleæœ‰ä¸ªå¥½å¤„æ˜¯å­æ¨¡å—ä¹Ÿæ˜¯ä¸ªä»“åº“ æ¯”å¦‚åšå®¢ä¸»é¢˜è¿™ç§å°±å¯ä»¥ä¸»é¢˜ä¸€ä¸ªä»“åº“ ç„¶ådemoä»“åº“å¼•ç”¨ä¸»é¢˜çš„ä»“åº“è¿™æ ·åŒæ­¥</p></li><li><p>ç±»ä¼¼çš„ç©æ³•è¿˜æœ‰ monorepo ï¼Œä¸è¿‡å‰ç«¯å’Œåç«¯goæ²¡å•¥åŸºç¡€è®¾æ–½å…±äº« æ²¡æœ‰monrepoçš„åœºæ™¯</p></li></ul>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/%E6%96%B0%E6%8A%80%E8%83%BD-Got/">æ–°æŠ€èƒ½ Got</category>
      
      
      <category domain="https://nickxu.me/tags/git/">git</category>
      
      
      <comments>https://nickxu.me/posts/276.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ã€ç®—æ³•æ‹¾é—ã€é“¾è¡¨ï¼ˆLinked Listï¼‰</title>
      <link>https://nickxu.me/posts/275.html</link>
      <guid>https://nickxu.me/posts/275.html</guid>
      <pubDate>Wed, 31 May 2023 12:59:45 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;è¿™ä¸¤å¤©åœ¨å¤ä¹ é“¾è¡¨ï¼Œæˆ‘ä¸€æƒ³ï¼Œè¿™é“¾è¡¨è¿™ä¹ˆç®€å•çš„ä¸œè¥¿è¿˜æœ‰ä»€ä¹ˆå¤ä¹ çš„ï¼Œç®€å•è¿‡ä¸€éä¸å°±è¡Œäº†&lt;/p&gt;
&lt;p&gt;ç„¶è€Œé©¬ä¸Šæ‰“è„¸ï¼Œæœ‰äº›é¢˜ç›®æˆ‘å±…ç„¶è¿˜å†™ä¸å‡ºæ¥ï¼ˆä¹&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;ç†è®ºåŸºç¡€&quot;&gt;ç†è®ºåŸºç¡€&lt;/h1&gt;
&lt;p&gt;å…ˆæ¥ç‚¹ä½ è‚¯å®šçŸ¥é“çš„ä¸œè¥¿ï¼Œç®€å•è¿‡ä¸€é&lt;/p&gt;
&lt;h2 id=&quot;æ˜¯</description>
        
      
      
      
      <content:encoded><![CDATA[<p>è¿™ä¸¤å¤©åœ¨å¤ä¹ é“¾è¡¨ï¼Œæˆ‘ä¸€æƒ³ï¼Œè¿™é“¾è¡¨è¿™ä¹ˆç®€å•çš„ä¸œè¥¿è¿˜æœ‰ä»€ä¹ˆå¤ä¹ çš„ï¼Œç®€å•è¿‡ä¸€éä¸å°±è¡Œäº†</p><p>ç„¶è€Œé©¬ä¸Šæ‰“è„¸ï¼Œæœ‰äº›é¢˜ç›®æˆ‘å±…ç„¶è¿˜å†™ä¸å‡ºæ¥ï¼ˆä¹</p><hr><h1 id="ç†è®ºåŸºç¡€">ç†è®ºåŸºç¡€</h1><p>å…ˆæ¥ç‚¹ä½ è‚¯å®šçŸ¥é“çš„ä¸œè¥¿ï¼Œç®€å•è¿‡ä¸€é</p><h2 id="æ˜¯ä»€ä¹ˆ">æ˜¯ä»€ä¹ˆ</h2><p><img src="https://image.nickxu.me/202306021230054.png" alt="image-20230602ä¸‹åˆ123049988"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œé“¾è¡¨æ˜¯ä¸€ç§é“¾å¼ç»“æ„ï¼Œä»¥æœ€ç®€å•çš„å•é“¾è¡¨ä¸ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ListNode <span class="keyword">struct</span> &#123;</span><br><span class="line">    Val  <span class="type">int</span></span><br><span class="line">    Next *ListNode</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯å¤´èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä¸‹ä¸€ä¸ªèŠ‚ç‚¹å†æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯å°¾èŠ‚ç‚¹å°±æŒ‡å‘ <code>NULL</code> ï¼ˆæˆ–è€…è¯´æ˜¯ Golang é‡Œçš„ <code>nil</code> ï¼‰</p><h2 id="åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</h2><h3 id="åˆ é™¤èŠ‚ç‚¹">åˆ é™¤èŠ‚ç‚¹</h3><p><img src="https://image.nickxu.me/202306021253830.png" alt="image-20230602ä¸‹åˆ125326797"></p><p>è®©å‰é¢èŠ‚ç‚¹è®¤ä¸ºå®ƒçš„åé¢æ˜¯åé¢çš„èŠ‚ç‚¹</p><p>åˆ é™¤çš„èŠ‚ç‚¹è®© GC è‡ªåŠ¨å›æ”¶æ‰å³å¯</p><h3 id="æ·»åŠ èŠ‚ç‚¹">æ·»åŠ èŠ‚ç‚¹</h3><p><img src="https://image.nickxu.me/202306021302406.png" alt="image-20230602ä¸‹åˆ10229378"></p><p>è®©æ–°èŠ‚ç‚¹æŒ‡å‘åé¢èŠ‚ç‚¹ï¼Œè®©å‰é¢èŠ‚ç‚¹æŒ‡å‘æ–°èŠ‚ç‚¹</p><h2 id="é“¾è¡¨çš„å‡ ç§å˜ä½“">é“¾è¡¨çš„å‡ ç§å˜ä½“</h2><h3 id="æœ‰å¤´é“¾è¡¨">æœ‰å¤´é“¾è¡¨</h3><p><img src="https://image.nickxu.me/202306021338969.png" alt="image-20230602ä¸‹åˆ13821938"></p><p>å‡å°‘å¯¹å¤´èŠ‚ç‚¹çš„ç‰¹æ®Šå¤„ç†</p><h3 id="åŒå‘é“¾è¡¨">åŒå‘é“¾è¡¨</h3><p><img src="https://image.nickxu.me/202306021343996.png" alt="image-20230602ä¸‹åˆ14306969"></p><p>å¯ä»¥æ–¹ä¾¿åœ°æ‰¾åˆ°å‰é©±èŠ‚ç‚¹</p><p>å¯¹äºä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨çš„æŒ‰å€¼æŸ¥è¯¢æ•ˆç‡è¦æ¯”å•é“¾è¡¨é«˜ä¸€äº›ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥è®°å½•ä¸Šæ¬¡æŸ¥æ‰¾çš„ä½ç½®pï¼Œæ¯ä¸€æ¬¡æŸ¥è¯¢æ—¶ï¼Œæ ¹æ®è¦æŸ¥æ‰¾çš„å€¼ä¸pçš„å¤§å°å…³ç³»ï¼Œå†³å®šæ˜¯å¾€å‰è¿˜æ˜¯å¾€åæŸ¥æ‰¾ï¼Œæ‰€ä»¥å¹³å‡åªéœ€è¦æŸ¥æ‰¾ä¸€åŠçš„æ•°æ®ã€‚</p><h3 id="å¾ªç¯é“¾è¡¨">å¾ªç¯é“¾è¡¨</h3><p><img src="https://image.nickxu.me/202306021346003.png" alt="image-20230602ä¸‹åˆ14652973"></p><p>èƒ½è§£å†³çº¦ç‘Ÿå¤«é—®é¢˜</p><h3 id="æœ‰å¤´åŒå‘å¾ªç¯é“¾è¡¨"><s>æœ‰å¤´åŒå‘å¾ªç¯é“¾è¡¨</s></h3><p>buff å æ»¡ï¼Œè¯·è§ <a href="https://www.bilibili.com/video/BV1xN4y1L7TQ/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">ã€æœ‰å¤´åŒå‘å¾ªç¯é“¾è¡¨ä¹‹ç¾ï¼Œè¿™ä¸ªæ•°æ®ç»“æ„ç®€å•åˆä¼˜é›…ï¼Œå­¦ä¼šäº†ä¸äºã€‘</a></p><h2 id="é“¾è¡¨-vs-æ•°ç»„">é“¾è¡¨ vs æ•°ç»„</h2><table><thead><tr><th></th><th>æ’å…¥åˆ é™¤</th><th>éšæœºè®¿é—®</th></tr></thead><tbody><tr><td>æ•°ç»„</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>é“¾è¡¨</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td></tr></tbody></table><hr><h1 id="å¿…çŸ¥å¿…ä¼šçš„é¢˜ç›®">å¿…çŸ¥å¿…ä¼šçš„é¢˜ç›®</h1><h2 id="707-è®¾è®¡é“¾è¡¨"><a href="https://leetcode.cn/problems/design-linked-list/">707. è®¾è®¡é“¾è¡¨</a></h2><p>å®ç°ä¸€ä¸ªé“¾è¡¨ï¼Œè¿™é‡Œå°±ä»¥å¸¦å¤´å•é“¾è¡¨ä¸ºä¾‹</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MyLinkedList <span class="keyword">struct</span> &#123;</span><br><span class="line">head *ListNode</span><br><span class="line">size <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ListNode <span class="keyword">struct</span> &#123;</span><br><span class="line">val  <span class="type">int</span></span><br><span class="line">next *ListNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Constructor åˆå§‹åŒ– MyLinkedList å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span></span> MyLinkedList &#123;</span><br><span class="line">dummyHead := &amp;ListNode&#123;&#125;</span><br><span class="line"><span class="keyword">return</span> MyLinkedList&#123;</span><br><span class="line">head: dummyHead,</span><br><span class="line">size: <span class="number">0</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get è·å–é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœä¸‹æ ‡æ— æ•ˆï¼Œåˆ™è¿”å› -1</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> Get(index <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line"><span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= this.size &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line">cur := this.head.next</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> cur.val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AddAtHead å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ã€‚åœ¨æ’å…¥å®Œæˆåï¼Œæ–°èŠ‚ç‚¹ä¼šæˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtHead(val <span class="type">int</span>) &#123;</span><br><span class="line">newNode := &amp;ListNode&#123;val: val&#125;</span><br><span class="line">newNode.next = this.head.next</span><br><span class="line">this.head.next = newNode</span><br><span class="line">this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AddAtTail å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨ä¸­ä½œä¸ºé“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtTail(val <span class="type">int</span>) &#123;</span><br><span class="line">newNode := &amp;ListNode&#123;val: val&#125;</span><br><span class="line">cur := this.head</span><br><span class="line"><span class="keyword">for</span> cur.next != <span class="literal">nil</span> &#123;</span><br><span class="line">cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line">cur.next = newNode</span><br><span class="line">this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AddAtIndex å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹ä¹‹å‰ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœ index ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹ä¼šè¢«è¿½åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœ index æ¯”é•¿åº¦æ›´å¤§ï¼Œè¯¥èŠ‚ç‚¹å°† ä¸ä¼šæ’å…¥ åˆ°é“¾è¡¨ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtIndex(index <span class="type">int</span>, val <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt; this.size &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> index == this.size &#123;</span><br><span class="line">this.AddAtTail(val)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">cur := this.head</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line">newNode := &amp;ListNode&#123;val: val&#125;</span><br><span class="line">newNode.next = cur.next</span><br><span class="line">cur.next = newNode</span><br><span class="line">this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// DeleteAtIndex å¦‚æœä¸‹æ ‡æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> DeleteAtIndex(index <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= this.size &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">cur := this.head</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line">cur.next = cur.next.next</span><br><span class="line">this.size--</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="206-åè½¬é“¾è¡¨"><a href="https://leetcode.cn/problems/reverse-linked-list/">206. åè½¬é“¾è¡¨</a></h2><p>å­—é¢æ„æ€ï¼Œç¿»è½¬ä¸€ä¸ªé“¾è¡¨</p><p>æ“ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol start="0"><li>åˆå§‹åŒ–å½“å‰èŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹</li><li>æš‚å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li><li>å°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹</li><li>å‰é©±èŠ‚ç‚¹åç§»</li><li>å½“å‰èŠ‚ç‚¹åç§»</li><li>é‡å¤ 1-4ï¼Œåªåˆ°å½“å‰èŠ‚ç‚¹ä¸º <code>NULL</code> ï¼Œè¾“å‡ºå‰é©±ç»“ç‚¹ä¸ºæ–°çš„å¤´ç»“ç‚¹</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseList</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// å®šä¹‰å‰é©±èŠ‚ç‚¹ã€å½“å‰èŠ‚ç‚¹ã€åç»§èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">var</span> prev *ListNode = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">var</span> next *ListNode = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">var</span> curr *ListNode = head</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†é“¾è¡¨</span></span><br><span class="line"><span class="keyword">for</span> curr != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="comment">// ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">next = curr.Next</span><br><span class="line"><span class="comment">// å½“å‰èŠ‚ç‚¹æŒ‡å‘å‰é©±èŠ‚ç‚¹</span></span><br><span class="line">curr.Next = prev</span><br><span class="line"><span class="comment">// å‰é©±èŠ‚ç‚¹åç§»</span></span><br><span class="line">prev = curr</span><br><span class="line"><span class="comment">// å½“å‰èŠ‚ç‚¹åç§»</span></span><br><span class="line">curr = next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å‰é©±èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">return</span> prev</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä¸€å¼€å§‹ä¹Ÿä¸æ˜¯å¾ˆæ‡‚ï¼Œæ‰€ä»¥æˆ‘ç”»äº†ä¸ªå›¾ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œå›¾ç”»å‡ºæ¥æˆ‘å°±æ‡‚äº†</p><p><img src="https://image.nickxu.me/202306021637081.png" alt="image-20230601ä¸‹åˆ103709377"></p><p>ç±»ä¼¼åœ°ï¼Œè¿˜æœ‰ä¸€ä¸ªé€’å½’çš„å†™æ³•</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseList</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›åŸé“¾è¡¨</span></span><br><span class="line"><span class="keyword">if</span> head == <span class="literal">nil</span> || head.Next == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> head</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€’å½’åè½¬é™¤å¤´èŠ‚ç‚¹å¤–çš„å­é“¾è¡¨</span></span><br><span class="line">p := reverseList(head.Next)</span><br><span class="line"><span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œå®ç°åè½¬</span></span><br><span class="line">head.Next.Next = head</span><br><span class="line"><span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç½®ç©ºï¼Œæ–­å¼€åŸé“¾è¡¨ä¸­çš„è¿æ¥</span></span><br><span class="line">head.Next = <span class="literal">nil</span></span><br><span class="line"><span class="comment">// è¿”å›åè½¬åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹"><a href="https://leetcode.cn/problems/middle-of-the-linked-list/">876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</a></h2><p>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼ˆ <code>i</code> èµ°ä¸€æ­¥ï¼Œ <code>j</code> èµ°ä¸¤æ­¥ï¼‰</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">middleNode</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// å®šä¹‰å¿«æ…¢æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">var</span> fast *ListNode = head</span><br><span class="line"><span class="keyword">var</span> slow *ListNode = head</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆèµ°ä¸€æ­¥</span></span><br><span class="line"><span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">fast = fast.Next.Next</span><br><span class="line">slow = slow.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›æ…¢æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">return</span> slow</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="https://leetcode.cn/problems/merge-two-sorted-lists/">21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a></h2><p>ç¬¬ä¸€ç‰ˆä»¥ä¸ºä¸èƒ½ä¿®æ”¹ä»–ç»™å‡ºçš„é“¾è¡¨ï¼Œæ¯æ¬¡éƒ½ new ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç»“æœ TLE äº†ï¼Œå¥½å°´å°¬</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeTwoLists</span><span class="params">(list1 *ListNode, list2 *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ä½œä¸ºæ–°é“¾è¡¨çš„å¤´éƒ¨</span></span><br><span class="line">    dummy := &amp;ListNode&#123;&#125;</span><br><span class="line">curr := dummy</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œæ¯”è¾ƒèŠ‚ç‚¹çš„å€¼ï¼Œå°†è¾ƒå°å€¼çš„èŠ‚ç‚¹æ·»åŠ åˆ°æ–°é“¾è¡¨ä¸­</span></span><br><span class="line"><span class="keyword">for</span> list1 != <span class="literal">nil</span> &amp;&amp; list2 != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">if</span> list1.Val &gt; list2.Val &#123;</span><br><span class="line">curr.Next = list2</span><br><span class="line">list2 = list2.Next</span><br><span class="line">curr = curr.Next</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">curr.Next = list1</span><br><span class="line">list1 = list1.Next</span><br><span class="line">curr = curr.Next</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå…¶ä¸­ä¸€ä¸ªé“¾è¡¨å·²ç»éå†å®Œäº†ï¼Œç›´æ¥å°†å¦ä¸€ä¸ªé“¾è¡¨å‰©ä½™éƒ¨åˆ†æ·»åŠ åˆ°æ–°é“¾è¡¨ä¸­</span></span><br><span class="line"><span class="keyword">if</span> list1 != <span class="literal">nil</span> &#123;</span><br><span class="line">curr.Next = list1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> list2 != <span class="literal">nil</span> &#123;</span><br><span class="line">curr.Next = list2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="234-å›æ–‡é“¾è¡¨"><a href="https://leetcode.cn/problems/palindrome-linked-list/">234. å›æ–‡é“¾è¡¨</a></h2><p>ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°ä¸­ç‚¹ï¼Œç„¶ååè½¬ååŠéƒ¨åˆ†ï¼Œä»å¼€å§‹å’Œä¸­é—´å‘åè¿›è¡Œæ¯”è¾ƒ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isPalindrome</span><span class="params">(head *ListNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"><span class="comment">// å®šä¹‰å¿«æ…¢æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">var</span> slow *ListNode = head</span><br><span class="line"><span class="keyword">var</span> fast *ListNode = head</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¿«æ…¢æŒ‡é’ˆèµ°åˆ°ä¸­é—´èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">fast = fast.Next.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœfastä¸ä¸ºç©ºï¼Œè¯´æ˜é“¾è¡¨é•¿åº¦ä¸ºå¥‡æ•°ï¼Œslowè¿˜è¦å†å‰è¿›ä¸€æ­¥</span></span><br><span class="line"><span class="keyword">if</span> fast != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åè½¬ååŠéƒ¨åˆ†é“¾è¡¨ï¼ˆè§ä¸Šé¢çš„å®ç°ï¼‰</span></span><br><span class="line">slow = reverseList(slow)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒå‰åä¸¤éƒ¨åˆ†é“¾è¡¨</span></span><br><span class="line"><span class="keyword">for</span> slow != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">if</span> slow.Val != head.Val &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">slow = slow.Next</span><br><span class="line">head = head.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-N-ä¸ªç»“ç‚¹"><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</a></h2><p>è¿˜æ˜¯åŒæŒ‡é’ˆï¼Œ<code>i</code> <code>j</code> åˆå§‹ä¸º <code>head</code>ï¼Œç„¶å <code>j</code> å…ˆèµ° <code>N</code> æ­¥ï¼Œç„¶åä¸€èµ·å¾€åèµ°</p><p>è¿™ä¸ªä¸œè¥¿æœ‰ç‚¹å‘ï¼Œä¸€å¼€å§‹æ²¡å¼„å“¨å…µèŠ‚ç‚¹ï¼Œåˆ é™¤çš„æ“ä½œæ€»æ˜¯æœ‰é—®é¢˜</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeNthFromEnd</span><span class="params">(head *ListNode, n <span class="type">int</span>)</span></span> *ListNode &#123;</span><br><span class="line">dummy := &amp;ListNode&#123;Next: head&#125;</span><br><span class="line">slow, fast := dummy, dummy</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">fast = fast.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">fast = fast.Next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">slow.Next = slow.Next.Next</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="141-ç¯å½¢é“¾è¡¨"><a href="https://leetcode.cn/problems/linked-list-cycle/">141. ç¯å½¢é“¾è¡¨</a></h2><p>åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨ä¸­æœ‰æ²¡æœ‰ç¯</p><p>è¿˜æ˜¯å¿«æ…¢æŒ‡é’ˆï¼Œå¦‚æœå¿«æŒ‡é’ˆèƒ½è¿½ä¸Šæ…¢æŒ‡é’ˆå°±è‚¯å®šæœ‰ç¯äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasCycle</span><span class="params">(head *ListNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">fast := head</span><br><span class="line">slow := head</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">fast = fast.Next.Next</span><br><span class="line"><span class="keyword">if</span> fast == slow &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨æ›´ç›´ç™½çš„æ–¹æ³•</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasCycle</span><span class="params">(head *ListNode)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"><span class="keyword">if</span> head == <span class="literal">nil</span> || head.Next == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> head != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">if</span> head.Val == <span class="number">123512151</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">head.Val = <span class="number">123512151</span></span><br><span class="line">&#125;</span><br><span class="line">head = head.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="142-ç¯å½¢é“¾è¡¨-II"><a href="https://leetcode.cn/problems/linked-list-cycle-ii/">142. ç¯å½¢é“¾è¡¨ II</a></h2><p>è¿™ä¸ªé¢˜ç›®éœ€è¦åœ¨åˆ¤æ–­å‡ºæœ‰ç¯åèƒ½æ‰¾åˆ°ç¯çš„èµ·ç‚¹</p><p>æ¨ç†è¿‡ç¨‹è¯·è§ <a href="https://www.programmercarl.com/0142.%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8II.html#%E5%A6%82%E6%9E%9C%E6%9C%89%E7%8E%AF-%E5%A6%82%E4%BD%95%E6%89%BE%E5%88%B0%E8%BF%99%E4%B8%AA%E7%8E%AF%E7%9A%84%E5%85%A5%E5%8F%A3">ä»£ç éšæƒ³å½•</a> ğŸ‘€</p><p>åæ­£ç»“è®ºå°±æ˜¯ï¼šå½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œè®©å…¶ä¸­ä¸€ä¸ªå›åˆ°å¤´ç»“ç‚¹ï¼Œç„¶ååŒé€Ÿå‰è¿›ï¼Œå†æ¬¡ç›¸é‡å³ä¸ºç¯å¼€å§‹çš„ç‚¹</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">detectCycle</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">fast := head</span><br><span class="line">slow := head</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">slow = slow.Next</span><br><span class="line">fast = fast.Next.Next</span><br><span class="line"><span class="keyword">if</span> fast == slow &#123;</span><br><span class="line">fast = head</span><br><span class="line"><span class="keyword">for</span> fast != slow &#123;</span><br><span class="line">fast = fast.Next</span><br><span class="line">slow = slow.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> fast</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç†è®ºä¸Šä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´ç›´ç™½çš„æ–¹æ³•ï¼Œä½†æ˜¯é¢˜ç›®è¦æ±‚ä¸èƒ½ä¿®æ”¹é“¾è¡¨</p><h2 id="é¢è¯•é¢˜-02-07-é“¾è¡¨ç›¸äº¤"><a href="https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/">é¢è¯•é¢˜ 02.07. é“¾è¡¨ç›¸äº¤</a></h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getIntersectionNode</span><span class="params">(headA, headB *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">lengthA := getLength(headA)</span><br><span class="line">lengthB := getLength(headB)</span><br><span class="line"><span class="keyword">var</span> fast, slow *ListNode</span><br><span class="line">step := <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> lengthA &gt; lengthB &#123;</span><br><span class="line">step = lengthA - lengthB</span><br><span class="line">fast, slow = headA, headB</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">step = lengthB - lengthA</span><br><span class="line">fast, slow = headB, headA</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; step; i++ &#123;</span><br><span class="line">fast = fast.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œç›¸åŒåˆ™è·³å‡º</span></span><br><span class="line"><span class="keyword">for</span> fast != slow &#123;</span><br><span class="line">fast = fast.Next</span><br><span class="line">slow = slow.Next</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> fast</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getLength</span><span class="params">(head *ListNode)</span></span> (length <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> ; head != <span class="literal">nil</span>; head = head.Next &#123;</span><br><span class="line">length++</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
      <category domain="https://nickxu.me/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/">ç®—æ³•æ‹¾é—</category>
      
      <category domain="https://nickxu.me/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/%E9%93%BE%E8%A1%A8/">é“¾è¡¨</category>
      
      
      <category domain="https://nickxu.me/tags/%E9%93%BE%E8%A1%A8/">é“¾è¡¨</category>
      
      
      <comments>https://nickxu.me/posts/275.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2023äº”ä¸€æ€»ç»“ï¼šè¿‘å†µä¸å°†æ¥</title>
      <link>https://nickxu.me/posts/274.html</link>
      <guid>https://nickxu.me/posts/274.html</guid>
      <pubDate>Thu, 04 May 2023 10:17:19 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;https://image.nickxu.me/202305042244576.jpeg&quot; alt=&quot;5BBA2597-B720-4882-992C-0F819A89F314_1_105_c&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;äº‹æƒ…æœ‰ç‚¹å¤šï¼Œå°±ç®€å•</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="https://image.nickxu.me/202305042244576.jpeg" alt="5BBA2597-B720-4882-992C-0F819A89F314_1_105_c"></p><blockquote><p>äº‹æƒ…æœ‰ç‚¹å¤šï¼Œå°±ç®€å•è¯´å‡ å¥å§ï½</p></blockquote><div class="audio"><audio controls preload><source src='https://image.nickxu.me/202305042224874.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><hr><h1 id="æœ€è¿‘çš„äº‹æƒ…">æœ€è¿‘çš„äº‹æƒ…</h1><h2 id="æ­ç”µåŠ©æ‰‹å›¢å»º">æ­ç”µåŠ©æ‰‹å›¢å»º</h2><div class="gallery">    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://image.nickxu.me/202305042227317.png","alt":"image-20230504222737293"},{"url":"https://image.nickxu.me/202305042228416.png","alt":"image-20230504222810383"},{"url":"https://image.nickxu.me/202305042228652.png","alt":"image-20230504222817629"},{"url":"https://image.nickxu.me/202305042228681.png","alt":"image-20230504222822653"},{"url":"https://image.nickxu.me/202305042228729.png","alt":"image-20230504222830701"},{"url":"https://image.nickxu.me/202305042228227.png","alt":"image-20230504222846195"},{"url":"https://image.nickxu.me/202305042229391.png","alt":"image-20230504222910356"},{"url":"https://image.nickxu.me/202305042228295.png","alt":"image-20230504222859260"},{"url":"https://image.nickxu.me/202305042229770.png","alt":"image-20230504222918732"}]</span>    </div>    <button class="gallery-load-more"><span>åŠ è½½æ›´å¤š</span><i class="fa-solid fa-arrow-down"></i></button>    </div><h2 id="Bç«™çƒ­è¯„">Bç«™çƒ­è¯„</h2><img src="https://image.nickxu.me/202305042230672.jpg" alt="f4d24a56ac534936b0e5cf3989cdd18a" style="zoom:50%;" /><blockquote><p>åŸè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1Lk4y1Y76V/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">ã€ã€å¹´æ›´èŠ‚ç›®ã€‘ä¸–ç•Œè¯»ä¹¦æ—¥ï¼Œè¶…çº§å¹²è´§ä¹¦å•åˆ†äº«ï¼è¿™äº›ä¹¦å¹´è½»æ—¶ä¸€å®šè¦è¯»ï¼(2023)ã€‘</a></p></blockquote><p><img src="https://image.nickxu.me/202305042231897.jpg" alt="ccfbcf8afd6c7f72f3b8f8a3923ac2ea_0"></p><h2 id="OSPPå¼€å¥½å¤´">OSPPå¼€å¥½å¤´</h2><p><img src="https://image.nickxu.me/202305042231196.png" alt="image-20230504223158168"></p><blockquote><p>å»çœ‹äº†å¾ˆå¤š mosn çš„æ–‡æ¡£å’Œè§†é¢‘ï¼Œå¯¹ç›®å‰çš„å¾®æœåŠ¡éƒ¨ç½²æ¶æ„æœ‰æ›´æ·±å…¥åœ°äº†è§£</p></blockquote><ul><li>ã€MOSN å­é¡¹ç›® Layottoï¼šå¼€å¯æœåŠ¡ç½‘æ ¼+åº”ç”¨è¿è¡Œæ—¶æ–°ç¯‡ç« ã€‘ <a href="https://www.bilibili.com/video/BV1hq4y1L7FY/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV1hq4y1L7FY/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li><li>ã€MOSN äº‘åŸç”Ÿç½‘ç»œä»£ç†å¹³å°ã€‘ <a href="https://www.bilibili.com/video/BV13s4y127m2/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV13s4y127m2/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li><li>é¸Ÿé¸Ÿçš„åšå®¢ Before Good First Issueï¼š<a href="https://blog.aflybird.cn/2023/01/before-good-first-issue/">https://blog.aflybird.cn/2023/01/before-good-first-issue/</a></li><li>iyear ï¼š <a href="https://iyear.me/archives/919.html/">https://iyear.me/archives/919.html/</a></li></ul><hr><h1 id="æœªæ¥è§„åˆ’">æœªæ¥è§„åˆ’</h1><p><img src="https://image.nickxu.me/202305042225230.png" alt=""></p><blockquote><p>åœ¨ V ç«™ä¸Šçš„å›å¤ï¼ŒåŸæ–‡åœ°å€ï¼š<a href="https://www.v2ex.com/t/928328#reply4">https://www.v2ex.com/t/928328#reply4</a></p><p>è®²çœŸè¿™æ¨èçš„ k8s è¯¾ç¨‹çš„ç¡®ä¸é”™ï¼Œå³ä½¿æ˜¯18å¹´å†™çš„ <a href="http://gk.link/a/122Sd">http://gk.link/a/122Sd</a></p></blockquote><p>1.Â OSPP<br>2.Â åç«¯ä¸¤ä¸ªé¡¹ç›®<br>3.Â æ­å·äºšè¿ä¼š<br>4.Â å‡†å¤‡å®ä¹ &amp;å¤§ä¸‰æ˜¥æ‹›</p><hr><h1 id="è¦å­¦çš„ä¸œè¥¿">è¦å­¦çš„ä¸œè¥¿</h1><ul><li>mysqlé”mvcc</li><li>ws, casbin</li><li>k8s</li><li>æ•°æ®ç»“æ„ç®…æ³•</li><li>è®¡ç®—æœºåŸºç¡€</li><li>æ¦‚ç‡è®ºå¤å˜å‡½æ•°</li></ul>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/%E9%9A%8F%E7%AC%94%E4%B8%8E%E6%80%BB%E7%BB%93/">éšç¬”ä¸æ€»ç»“</category>
      
      
      <category domain="https://nickxu.me/tags/%E9%9A%8F%E7%AC%94/">éšç¬”</category>
      
      
      <comments>https://nickxu.me/posts/274.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>å…³äºè½¯åˆ é™¤çš„è®¨è®º</title>
      <link>https://nickxu.me/posts/273.html</link>
      <guid>https://nickxu.me/posts/273.html</guid>
      <pubDate>Tue, 02 May 2023 08:13:22 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;s&gt;åˆ«æ€¥ï¼Œå…ˆæŒ‚ç€&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;&lt;s&gt;åˆ«é—®æˆ‘ä¸ºä»€ä¹ˆç©ºç€å°±å‘ä¸Šæ¥äº†ï¼Œæˆ‘æœ¬æ¥æ˜¯æƒ³æ¯ä¸€ç¯‡éƒ½å†™å®Œå†å‘çš„ï¼Œä½†æ˜¯åé¢æœ¬åœ°å‘æŒ–äº†å¾ˆå¤šä¸æƒ³å¡«å°±ç›´æ¥åˆ äº†&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;&lt;s&gt;ç„¶åå‘ä¸Šæ¥è‡³å°‘åˆ«äººçœ‹ç€æˆ‘è¿˜æœ‰åŠ¨åŠ›å»å¡«ğŸ¤£&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;7 æœˆ 11 æ—¥æ›´ï¼š&lt;/p&gt;
&lt;p&gt;</description>
        
      
      
      
      <content:encoded><![CDATA[<p><s>åˆ«æ€¥ï¼Œå…ˆæŒ‚ç€</s></p><p><s>åˆ«é—®æˆ‘ä¸ºä»€ä¹ˆç©ºç€å°±å‘ä¸Šæ¥äº†ï¼Œæˆ‘æœ¬æ¥æ˜¯æƒ³æ¯ä¸€ç¯‡éƒ½å†™å®Œå†å‘çš„ï¼Œä½†æ˜¯åé¢æœ¬åœ°å‘æŒ–äº†å¾ˆå¤šä¸æƒ³å¡«å°±ç›´æ¥åˆ äº†</s></p><p><s>ç„¶åå‘ä¸Šæ¥è‡³å°‘åˆ«äººçœ‹ç€æˆ‘è¿˜æœ‰åŠ¨åŠ›å»å¡«ğŸ¤£</s></p><p>7 æœˆ 11 æ—¥æ›´ï¼š</p><p>å§æ§½å±…ç„¶è¿‡äº†è¿™ä¹ˆä¹…äº†æ‰æœ‰ç©ºå¡«</p><p>è¿‡äº†ä¸¤ä¸ªæœˆäº†åŸºæœ¬å¿˜å…‰äº†ï¼Œç¿»äº†ç¿»èŠå¤©è®°å½•ï¼Œè®°èµ·æ¥äº†ä¸€ç‚¹ç‚¹</p><p>å…¶å®æœ‰ä¸ªå¤§ä½¬çš„åšå®¢ <a href="https://blog.wolfogre.com/posts/trap-of-soft-delete">è½¯åˆ é™¤ä¹‹ç—›</a> å·²ç»å°†å‰æƒ…æè¦æ¦‚æ‹¬äº†ä¸€ä¸‹ï¼Œä¸‹é¢å°±ç®€å•è¡¥å……ä¸€ä¸‹</p><p>æ–‡ä¸­å†™çš„å”¯ä¸€ç´¢å¼•çš„ä¾‹å­åœ¨æˆ‘ä»¬çš„å¼€å‘ä¸­ä¹Ÿé‡åˆ°äº†ï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰ä¸ä¸€æ ·çš„è§£å†³æ–¹æ³•</p><p>å°±æ˜¯åœ¨åˆ é™¤çš„æ—¶å€™æ”¹ä¸ªåï¼Œè¿™æ ·å°±èƒ½è§„é¿é—®é¢˜äº†</p><img src="https://image.nickxu.me/202307112314983.png" alt="image-20230711ä¸‹åˆ111413954" style="zoom:50%;" /><p>ç›®å‰æ¥è¯´æ„Ÿè§‰è¿™ç§æ–¹æ³•æ²¡æœ‰è¿˜å¼•å‘æ–°çš„é—®é¢˜</p>]]></content:encoded>
      
      
      
      
      <comments>https://nickxu.me/posts/273.html#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ChatGPTå¯¹è¯è®°å½•ï¼ˆå…­ï¼‰ï¼šGORM æ‰‹åŠ¨äº‹åŠ¡é”™è¯¯å¤„ç†</title>
      <link>https://nickxu.me/2023/04/29/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9AGORM-%E6%89%8B%E5%8A%A8%E4%BA%8B%E5%8A%A1%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/</link>
      <guid>https://nickxu.me/2023/04/29/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9AGORM-%E6%89%8B%E5%8A%A8%E4%BA%8B%E5%8A%A1%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/</guid>
      <pubDate>Sat, 29 Apr 2023 03:02:06 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;Model: GPT-4&lt;/p&gt;
&lt;blockquote&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=</description>
        
      
      
      
      <content:encoded><![CDATA[<p>Model: GPT-4</p><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *UserDeleteLogic)</span></span> UserDelete(in *user.UserDeleteRequest) (*user.Empty, <span class="type">error</span>) &#123;</span><br><span class="line"></span><br><span class="line">tx := l.svcCtx.Dao.Begin()</span><br><span class="line"></span><br><span class="line">u := tx.User</span><br><span class="line">m := tx.MemberShip</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">deleteInfo, err := u.Where(u.ID.Eq(in.Id)).Delete()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸€æ¡éƒ½æ²¡æœ‰å½±å“ï¼Œè¿”å›ä¸å­˜åœ¨</span></span><br><span class="line"><span class="keyword">if</span> deleteInfo.RowsAffected == <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.UserNotFound</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç¤¾å›¢å…³ç³»</span></span><br><span class="line">_, err = m.Where(m.UserId.Eq(in.Id)).Delete()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">err = tx.Commit()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &amp;user.Empty&#123;&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æœ‰æ²¡æœ‰é—®é¢˜</p></blockquote><p>è¿™æ®µä»£ç å®ç°äº†ä¸€ä¸ªåä¸ºUserDeleteçš„æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªUserDeleteRequestç±»å‹çš„å‚æ•°å¹¶è¿”å›ä¸€ä¸ªuser.Emptyç»“æ„ä½“æŒ‡é’ˆå’Œä¸€ä¸ªé”™è¯¯ï¼ˆerrorï¼‰ã€‚è¿™ä¸ªæ–¹æ³•ä¸»è¦æ‰§è¡Œäº†ä»¥ä¸‹æ“ä½œï¼š</p><ol><li>å¯åŠ¨ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ã€‚</li><li>ä»æ•°æ®åº“ä¸­åˆ é™¤ç”¨æˆ·ã€‚</li><li>å¦‚æœæ²¡æœ‰åˆ é™¤ä»»ä½•ç”¨æˆ·ï¼Œè¿”å›ä¸€ä¸ªç”¨æˆ·ä¸å­˜åœ¨çš„é”™è¯¯ã€‚</li><li>åˆ é™¤ä¸ç”¨æˆ·ç›¸å…³çš„ç¤¾å›¢å…³ç³»ã€‚</li><li>æäº¤äº‹åŠ¡ã€‚</li></ol><p>è¿™æ®µä»£ç åœ¨é€»è¾‘ä¸Šæ²¡æœ‰æ˜æ˜¾é—®é¢˜ï¼Œä½†æœ‰ä¸€äº›å»ºè®®å¯ä»¥æ”¹è¿›ä»£ç çš„å¯è¯»æ€§å’Œå¥å£®æ€§ï¼š</p><ol><li><p>å½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œåº”è¯¥å›æ»šäº‹åŠ¡ã€‚åœ¨å‘ç”Ÿé”™è¯¯æ—¶ï¼ˆå¦‚åˆ é™¤ç”¨æˆ·æˆ–åˆ é™¤ç¤¾å›¢å…³ç³»æ—¶å‘ç”Ÿé”™è¯¯ï¼‰ï¼Œä½ åº”è¯¥ä½¿ç”¨<code>tx.Rollback()</code>å›æ»šäº‹åŠ¡ã€‚ä½ å¯ä»¥åœ¨è¿”å›é”™è¯¯ä¹‹å‰æ·»åŠ æ­¤è¯­å¥ï¼Œæˆ–è€…ä½¿ç”¨<code>defer</code>å’Œ<code>recover</code>æ¥ç¡®ä¿åœ¨å‘ç”Ÿé”™è¯¯æ—¶å§‹ç»ˆå›æ»šäº‹åŠ¡ã€‚</p></li><li><p>ä½¿ç”¨Goè¯­è¨€çš„&quot;context&quot;åº“ã€‚è¿™æ®µä»£ç ä¸­ä¼¼ä¹ä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸Šä¸‹æ–‡ç»“æ„ï¼ˆl.ctxï¼‰ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨Goæ ‡å‡†åº“ä¸­çš„&quot;context&quot;ã€‚ä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨&quot;context&quot;åº“ï¼Œå¹¶å°†å®ƒä¼ é€’ç»™æ•°æ®åº“æ“ä½œæ–¹æ³•ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶å¯ä»¥å–æ¶ˆæ“ä½œã€‚</p></li><li><p>ä½¿ç”¨æ›´å…·æè¿°æ€§çš„å˜é‡åã€‚è™½ç„¶è¿™æ®µä»£ç ç›¸å¯¹ç®€çŸ­ï¼Œä½†ä½¿ç”¨æ›´å…·æè¿°æ€§çš„å˜é‡åå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†å˜é‡å<code>u</code>æ”¹ä¸º<code>userDao</code>ï¼Œå°†<code>m</code>æ”¹ä¸º<code>membershipDao</code>ç­‰ã€‚</p></li><li><p>æ·»åŠ æ³¨é‡Šä»¥æé«˜ä»£ç å¯è¯»æ€§ã€‚è™½ç„¶è¿™æ®µä»£ç çš„é€»è¾‘ç›¸å¯¹ç®€å•ï¼Œä½†æ·»åŠ ä¸€äº›æ³¨é‡Šå¯ä»¥å¸®åŠ©å…¶ä»–å¼€å‘è€…æ›´è½»æ¾åœ°ç†è§£ä»£ç çš„ç›®çš„å’Œå·¥ä½œæ–¹å¼ã€‚ä¾‹å¦‚ï¼Œè§£é‡Šäº‹åŠ¡çš„ç›®çš„ï¼Œä»¥åŠä¸ºä»€ä¹ˆåœ¨åˆ é™¤ç”¨æˆ·åè¿˜éœ€è¦åˆ é™¤ä¸ç”¨æˆ·ç›¸å…³çš„ç¤¾å›¢å…³ç³»ç­‰ã€‚</p></li></ol><p>æ€»ä¹‹ï¼Œè¿™æ®µä»£ç åœ¨é€»è¾‘ä¸Šæ²¡æœ‰æ˜æ˜¾é—®é¢˜ï¼Œä½†æœ‰ä¸€äº›å»ºè®®å¯ä»¥æ”¹è¿›ä»£ç çš„å¯è¯»æ€§å’Œå¥å£®æ€§ã€‚</p><blockquote><p>æˆ‘å¬è¯´å¦‚æœé€€å‡ºå‡½æ•°å‰æ²¡æœ‰æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨å›æ»šï¼Œæ˜¯è¿™æ ·å—</p></blockquote><p>è¿™å–å†³äºä½ ä½¿ç”¨çš„æ•°æ®åº“å’Œæ•°æ®åº“é©±åŠ¨ç¨‹åºã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå½“è¿æ¥å…³é—­æˆ–è€…æ•°æ®åº“ä¼šè¯ç»“æŸæ—¶ï¼Œæœªæäº¤çš„äº‹åŠ¡å¯èƒ½ä¼šè¢«è‡ªåŠ¨å›æ»šã€‚ä½†æ˜¯ï¼Œä¾èµ–è‡ªåŠ¨å›æ»šå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯åœ¨å¹¶å‘ç¯å¢ƒä¸­ã€‚</p><p>ä¸ºäº†ç¼–å†™å¥å£®ä¸”å¯ç»´æŠ¤çš„ä»£ç ï¼Œå»ºè®®ä½ å§‹ç»ˆæ˜¾å¼åœ°æäº¤æˆ–å›æ»šäº‹åŠ¡ï¼Œè€Œä¸æ˜¯ä¾èµ–è‡ªåŠ¨å›æ»šã€‚è¿™å¯ä»¥ç¡®ä¿äº‹åŠ¡åœ¨å‡½æ•°é€€å‡ºæ—¶å§‹ç»ˆå¤„äºé¢„æœŸçš„çŠ¶æ€ï¼Œé¿å…æ½œåœ¨çš„é—®é¢˜ã€‚åœ¨Goä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>defer</code>è¯­å¥åœ¨å‡½æ•°é€€å‡ºæ—¶æ‰§è¡Œå›æ»šï¼Œç¡®ä¿äº‹åŠ¡åœ¨é‡åˆ°é”™è¯¯æ—¶è¢«å›æ»šã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *UserDeleteLogic)</span></span> UserDelete(in *user.UserDeleteRequest) (*user.Empty, <span class="type">error</span>) &#123;</span><br><span class="line">    tx := l.svcCtx.Dao.Begin()</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">            tx.Rollback()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... æ­¤å¤„çœç•¥å…¶ä»–æ“ä½œ ...</span></span><br><span class="line"></span><br><span class="line">    err := tx.Commit()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        tx.Rollback()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &amp;user.Empty&#123;&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå½“å‘ç”Ÿé”™è¯¯æˆ–è€…panicæ—¶ï¼Œäº‹åŠ¡ä¼šè¢«æ˜¾å¼åœ°å›æ»šã€‚å½“ç„¶ï¼Œå¦‚æœä½ ç¡®ä¿¡åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹æ•°æ®åº“ä¼šè‡ªåŠ¨å›æ»šï¼Œå¹¶ä¸”è¿™ç§è¡Œä¸ºç¬¦åˆä½ çš„é¢„æœŸï¼Œä½ å¯ä»¥é€‰æ‹©ä¾èµ–è‡ªåŠ¨å›æ»šã€‚ç„¶è€Œï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ˜¾å¼åœ°å¤„ç†äº‹åŠ¡æ˜¯æ›´å¥½çš„åšæ³•ã€‚</p><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *UserDeleteLogic)</span></span> UserDelete(in *user.UserDeleteRequest) (*user.Empty, <span class="type">error</span>) &#123;</span><br><span class="line"></span><br><span class="line">tx := l.svcCtx.Dao.Begin()</span><br><span class="line"><span class="keyword">var</span> err <span class="type">error</span></span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">recover</span>() != <span class="literal">nil</span> || err != <span class="literal">nil</span> &#123;</span><br><span class="line">_ = tx.Rollback()</span><br><span class="line">&#125;</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line">u := tx.User</span><br><span class="line">m := tx.MemberShip</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">deleteInfo, err := u.Where(u.ID.Eq(in.Id)).Delete()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸€æ¡éƒ½æ²¡æœ‰å½±å“ï¼Œè¿”å›ä¸å­˜åœ¨</span></span><br><span class="line"><span class="keyword">if</span> deleteInfo.RowsAffected == <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.UserNotFound</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç¤¾å›¢å…³ç³»</span></span><br><span class="line">_, err = m.Where(m.UserId.Eq(in.Id)).Delete()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">err = tx.Commit()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &amp;user.Empty&#123;&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘è¿™æ ·å†™å‘¢</p></blockquote><p>è¿™ä¸ªç‰ˆæœ¬çš„ä»£ç ä¸­ï¼Œä½ ä½¿ç”¨äº†<code>defer</code>è¯­å¥æ¥å¤„ç†äº‹åŠ¡å›æ»šã€‚è¿™æ˜¯ä¸€ä¸ªæ”¹è¿›ï¼Œç¡®ä¿åœ¨é‡åˆ°é”™è¯¯æˆ–panicæ—¶äº‹åŠ¡ä¼šè¢«å›æ»šã€‚ç„¶è€Œï¼Œè¿™æ®µä»£ç ä»æœ‰ä¸€äº›å°é—®é¢˜éœ€è¦æ³¨æ„ï¼š</p><ol><li><p>å½“<code>err</code>ä¸º<code>nil</code>ä¸”<code>recover()</code>è¿”å›é<code>nil</code>å€¼æ—¶ï¼Œä½ åº”è¯¥ä¸º<code>err</code>èµ‹ä¸€ä¸ªæ–°å€¼ï¼Œä»¥ä¾¿åœ¨è¿”å›é”™è¯¯æ—¶è¿”å›ä¸€ä¸ªæœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†<code>err</code>è®¾ç½®ä¸ºä¸€ä¸ªè¡¨ç¤ºäº‹åŠ¡å›æ»šçš„è‡ªå®šä¹‰é”™è¯¯ï¼Œæˆ–è€…ä½¿ç”¨<code>fmt.Errorf</code>åˆ›å»ºä¸€ä¸ªåŒ…å«recoverä¿¡æ¯çš„é”™è¯¯ã€‚</p></li><li><p>å½“<code>tx.Commit()</code>å¤±è´¥æ—¶ï¼Œä½ è¿˜éœ€è¦æ˜¾å¼åœ°è°ƒç”¨<code>tx.Rollback()</code>ã€‚è™½ç„¶ä½ å·²ç»åœ¨<code>defer</code>è¯­å¥ä¸­æ·»åŠ äº†å›æ»šé€»è¾‘ï¼Œä½†åœ¨<code>tx.Commit()</code>å¤±è´¥æ—¶ï¼Œ<code>err</code>å˜é‡çš„å€¼ä¸ä¼šè¢«æ”¹å˜ï¼Œè¿™æ„å‘³ç€<code>defer</code>è¯­å¥ä¸­çš„æ¡ä»¶ä¸ä¼šè§¦å‘å›æ»šã€‚åœ¨<code>tx.Commit()</code>å¤±è´¥æ—¶ï¼Œä½ éœ€è¦ç«‹å³è°ƒç”¨<code>tx.Rollback()</code>ï¼Œç„¶åè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</p></li></ol><p>æ ¹æ®ä¸Šè¿°å»ºè®®ï¼Œä½ å¯ä»¥ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *UserDeleteLogic)</span></span> UserDelete(in *user.UserDeleteRequest) (*user.Empty, <span class="type">error</span>) &#123;</span><br><span class="line"></span><br><span class="line">    tx := l.svcCtx.Dao.Begin()</span><br><span class="line">    <span class="keyword">var</span> err <span class="type">error</span></span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">            err = fmt.Errorf(<span class="string">&quot;panic occurred: %v, rolling back transaction&quot;</span>, r)</span><br><span class="line">            _ = tx.Rollback()</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            _ = tx.Rollback()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    u := tx.User</span><br><span class="line">    m := tx.MemberShip</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">    deleteInfo, err := u.Where(u.ID.Eq(in.Id)).Delete()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸€æ¡éƒ½æ²¡æœ‰å½±å“ï¼Œè¿”å›ä¸å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> deleteInfo.RowsAffected == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.UserNotFound</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤ç¤¾å›¢å…³ç³»</span></span><br><span class="line">    _, err = m.Where(m.UserId.Eq(in.Id)).Delete()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    err = tx.Commit()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        _ = tx.Rollback()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, errs.MySQLError.Internal(l.ctx, err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &amp;user.Empty&#123;&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¿®æ”¹åï¼Œä»£ç ä¼šåœ¨é‡åˆ°é”™è¯¯æˆ–panicæ—¶æ­£ç¡®å¤„ç†äº‹åŠ¡å›æ»šã€‚</p><blockquote><p>tx.Rollback()ä¹Ÿä¼šè¿”å›ä¸€ä¸ªerrorï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸æ˜¯ä¸éœ€è¦å¤„ç†</p></blockquote><p>æ˜¯çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“è°ƒç”¨<code>tx.Rollback()</code>æ—¶ï¼Œä½ ä¸éœ€è¦å¤„ç†è¿”å›çš„é”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå›æ»šäº‹åŠ¡æ—¶é‡åˆ°çš„é”™è¯¯é€šå¸¸è¡¨ç¤ºåº•å±‚æ•°æ®åº“è¿æ¥æˆ–ç³»ç»Ÿå­˜åœ¨é—®é¢˜ï¼Œè¿™ç±»é—®é¢˜é€šå¸¸è¶…å‡ºäº†åº”ç”¨ç¨‹åºèƒ½å¤„ç†çš„èŒƒå›´ã€‚</p><p>å½“ä½ è°ƒç”¨<code>tx.Rollback()</code>æ—¶ï¼Œå…³å¿ƒçš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿äº‹åŠ¡è¢«å–æ¶ˆï¼Œä»¥é¿å…æ½œåœ¨çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨å›æ»šäº‹åŠ¡æ—¶ï¼Œä½ å¯ä»¥å¿½ç•¥è¿”å›çš„é”™è¯¯ã€‚ç„¶è€Œï¼Œå¦‚æœä½ å¸Œæœ›è®°å½•è¿™äº›é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œç”¨äºè°ƒè¯•æˆ–ç›‘æ§ç›®çš„ï¼‰ï¼Œä½ å¯ä»¥é€‰æ‹©å°†å›æ»šé”™è¯¯è®°å½•åˆ°æ—¥å¿—ä¸­ï¼Œä½†é€šå¸¸ä¸éœ€è¦å°†å…¶ä½œä¸ºåº”ç”¨ç¨‹åºé€»è¾‘çš„ä¸€éƒ¨åˆ†è¿›è¡Œå¤„ç†ã€‚</p><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œä½ å·²ç»ä½¿ç”¨<code>_ = tx.Rollback()</code>æ¥å¿½ç•¥å›æ»šé”™è¯¯ã€‚è¿™æ˜¯ä¸€ç§åˆé€‚çš„åšæ³•ï¼Œå› ä¸ºå®ƒæ¸…æ¥šåœ°è¡¨æ˜ä½ çŸ¥é“<code>tx.Rollback()</code>è¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œä½†é€‰æ‹©ä¸å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/ChatGPT-%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95/">ChatGPT å¯¹è¯è®°å½•</category>
      
      
      <category domain="https://nickxu.me/tags/GORM/">GORM</category>
      
      <category domain="https://nickxu.me/tags/ChatGPT/">ChatGPT</category>
      
      
      <comments>https://nickxu.me/2023/04/29/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9AGORM-%E6%89%8B%E5%8A%A8%E4%BA%8B%E5%8A%A1%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ChatGPTå¯¹è¯è®°å½•ï¼ˆäº”ï¼‰ï¼šç”¨æˆ·æƒé™ç®¡ç†</title>
      <link>https://nickxu.me/2023/04/13/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E4%BA%94%EF%BC%89%EF%BC%9A%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/</link>
      <guid>https://nickxu.me/2023/04/13/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E4%BA%94%EF%BC%89%EF%BC%9A%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/</guid>
      <pubDate>Thu, 13 Apr 2023 13:09:38 GMT</pubDate>
      
        
        
      <description>&lt;blockquote&gt;
&lt;p&gt;golangé¡¹ç›®ä¸­æ€ä¹ˆåšç”¨æˆ·æƒé™ç®¡ç†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ Golang é¡¹ç›®ä¸­å®ç°ç”¨æˆ·æƒé™ç®¡ç†éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®šä¹‰æƒé™çº§åˆ«ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šä¹‰ä¸åŒçš„æƒé™çº§åˆ«ï¼Œæ¯”å¦‚è¶…çº§ç®¡ç†å‘˜ã€ç®¡ç†å‘˜ã€</description>
        
      
      
      
      <content:encoded><![CDATA[<blockquote><p>golangé¡¹ç›®ä¸­æ€ä¹ˆåšç”¨æˆ·æƒé™ç®¡ç†</p></blockquote><p>åœ¨ Golang é¡¹ç›®ä¸­å®ç°ç”¨æˆ·æƒé™ç®¡ç†éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li><p>å®šä¹‰æƒé™çº§åˆ«ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šä¹‰ä¸åŒçš„æƒé™çº§åˆ«ï¼Œæ¯”å¦‚è¶…çº§ç®¡ç†å‘˜ã€ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ç­‰ã€‚æ¯ä¸ªæƒé™çº§åˆ«å¯¹åº”ä¸åŒçš„æ“ä½œæƒé™ã€‚</p></li><li><p>å®ç°èº«ä»½è®¤è¯ï¼šä½¿ç”¨ OAuth2ã€JWT æˆ–å…¶ä»–èº«ä»½è®¤è¯æ–¹å¼è¿›è¡Œèº«ä»½è®¤è¯ï¼Œç¡®ä¿ç”¨æˆ·æ˜¯åˆæ³•çš„ã€‚å¯¹äºä¸€äº›æ•æ„Ÿæ“ä½œï¼Œéœ€è¦è¿›è¡ŒäºŒæ¬¡è®¤è¯ã€‚</p></li><li><p>å®ç°è®¿é—®æ§åˆ¶ï¼šåœ¨ä»£ç ä¸­å®ç°è®¿é—®æ§åˆ¶ï¼Œæ ¹æ®ç”¨æˆ·çš„æƒé™çº§åˆ«æ¥é™åˆ¶å…¶è®¿é—®å’Œæ“ä½œçš„èŒƒå›´ã€‚å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶ã€æ³¨è§£æˆ–å…¶ä»–æ–¹å¼æ¥å®ç°ã€‚</p></li><li><p>æ•°æ®æƒé™æ§åˆ¶ï¼šå¯¹äºä¸€äº›éœ€è¦æ•°æ®éš”ç¦»çš„åœºæ™¯ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·çš„æƒé™çº§åˆ«å’Œè§’è‰²æ¥è¿›è¡Œæ•°æ®æƒé™æ§åˆ¶ï¼Œç¡®ä¿ç”¨æˆ·åªèƒ½è®¿é—®åˆ°å…¶æœ‰æƒé™çš„æ•°æ®ã€‚</p></li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ JWT å’Œæ³¨è§£å®ç°ç”¨æˆ·æƒé™ç®¡ç†ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æƒé™çº§åˆ«</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    RoleAdmin = <span class="string">&quot;admin&quot;</span></span><br><span class="line">    RoleUser  = <span class="string">&quot;user&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// JWT éªŒè¯ä¸­é—´ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">JWTAuthMiddleware</span><span class="params">(next http.Handler)</span></span> http.Handler &#123;</span><br><span class="line">    <span class="keyword">return</span> http.HandlerFunc(<span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è·å– JWT Token</span></span><br><span class="line">        tokenString := r.Header.Get(<span class="string">&quot;Authorization&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> tokenString == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">            w.WriteHeader(http.StatusUnauthorized)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è§£æ JWT Token</span></span><br><span class="line">        token, err := jwt.Parse(tokenString, <span class="function"><span class="keyword">func</span><span class="params">(token *jwt.Token)</span></span> (<span class="keyword">interface</span>&#123;&#125;, <span class="type">error</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="type">byte</span>(<span class="string">&quot;my_secret_key&quot;</span>), <span class="literal">nil</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> || !token.Valid &#123;</span><br><span class="line">            w.WriteHeader(http.StatusUnauthorized)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†ç”¨æˆ· ID å’Œè§’è‰²å­˜å‚¨åœ¨ä¸Šä¸‹æ–‡ä¸­</span></span><br><span class="line">        userID := token.Claims.(jwt.MapClaims)[<span class="string">&quot;user_id&quot;</span>].(<span class="type">string</span>)</span><br><span class="line">        role := token.Claims.(jwt.MapClaims)[<span class="string">&quot;role&quot;</span>].(<span class="type">string</span>)</span><br><span class="line">        ctx := context.WithValue(r.Context(), <span class="string">&quot;user_id&quot;</span>, userID)</span><br><span class="line">        ctx = context.WithValue(ctx, <span class="string">&quot;role&quot;</span>, role)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ä¸‹ä¸€ä¸ªå¤„ç†å™¨</span></span><br><span class="line">        next.ServeHTTP(w, r.WithContext(ctx))</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨è§£ï¼šé™åˆ¶åªæœ‰ç®¡ç†å‘˜æ‰èƒ½è®¿é—®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AdminOnly</span><span class="params">(next http.HandlerFunc)</span></span> http.HandlerFunc &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        role := r.Context().Value(<span class="string">&quot;role&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> role != RoleAdmin &#123;</span><br><span class="line">            w.WriteHeader(http.StatusForbidden)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        next(w, r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å¤„ç†å‡½æ•°ï¼šéœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½è®¿é—®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">adminHandler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–ç”¨æˆ· ID å’Œè§’è‰²</span></span><br><span class="line">    userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>)</span><br><span class="line">    role := r.Context().Value(<span class="string">&quot;role&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹ç®¡ç†å‘˜è¿›è¡Œç‰¹æ®Šå¤„ç†</span></span><br><span class="line">    <span class="keyword">if</span> role == RoleAdmin &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">    w.WriteHeader(http.StatusOK)</span><br><span class="line">    fmt.Fprintf(w, <span class="string">&quot;Hello %s, your role is %s&quot;</span>, userID, role)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè·¯ç”±å™¨</span></span><br><span class="line">    r := mux.NewRouter()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ è·¯ç”±</span></span><br><span class="line">    r.HandleFunc(<span class="string">&quot;/admin&quot;</span>, AdminOnly(adminHandler)).Methods(<span class="string">&quot;GET&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ </span></span><br></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯å­˜åœ¨ä¸€äº›å¾ˆå¤æ‚çš„åœºæ™¯ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªç”¨æˆ·çš„ä¸ªäººä¿¡æ¯åªèƒ½ç”±ä»–è‡ªå·±æ›´æ”¹ï¼Œæˆ–è€…è¢«æ›´é«˜ç­‰çº§çš„è´¦æˆ·æ›´æ”¹</p></blockquote><p>æ˜¯çš„ï¼Œè¿™äº›åœºæ™¯ç¡®å®æ›´å¤æ‚ï¼Œéœ€è¦æ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ã€‚ä¸‹é¢æ˜¯ä¸€äº›å®ç°è¿™äº›åœºæ™¯çš„å»ºè®®ï¼š</p><ol><li><p>æ•°æ®æƒé™æ§åˆ¶ï¼šåœ¨å®ç°æ•°æ®æƒé™æ§åˆ¶æ—¶ï¼Œå¯ä»¥å°†æƒé™æ§åˆ¶è§„åˆ™å†™å…¥åˆ°ä¸šåŠ¡ä»£ç ä¸­ï¼Œæˆ–è€…ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ã€‚å¯ä»¥æ ¹æ®ç”¨æˆ·çš„è§’è‰²ã€ç»„ç»‡æ¶æ„ç­‰ä¿¡æ¯ï¼ŒåŠ¨æ€è®¡ç®—å‡ºç”¨æˆ·å¯ä»¥è®¿é—®çš„æ•°æ®ã€‚å¯¹äºéœ€è¦æ•°æ®éš”ç¦»çš„åœºæ™¯ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªç”¨æˆ·åˆ›å»ºç‹¬ç«‹çš„æ•°æ®ç©ºé—´ã€‚</p></li><li><p>è¡Œçº§æƒé™æ§åˆ¶ï¼šåœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªç”¨æˆ·çš„ä¸ªäººä¿¡æ¯åªèƒ½ç”±ä»–è‡ªå·±æ›´æ”¹ã€‚å¯ä»¥ä½¿ç”¨è¡Œçº§æƒé™æ§åˆ¶æŠ€æœ¯ï¼Œåœ¨æ¯æ¡æ•°æ®ä¸­æ·»åŠ ä¸€ä¸ªæƒé™æ§åˆ¶å­—æ®µï¼Œç”¨æ¥è®°å½•å“ªäº›ç”¨æˆ·å¯ä»¥è®¿é—®è¯¥æ•°æ®ã€‚åœ¨æŸ¥è¯¢å’Œæ›´æ–°æ•°æ®æ—¶ï¼Œéœ€è¦åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®è¯¥æ•°æ®ã€‚</p></li><li><p>å§”æ‰˜æˆæƒï¼šåœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œéœ€è¦å®ç°æˆæƒå§”æ‰˜ï¼Œæ¯”å¦‚è¯´è¢«æ›´é«˜ç­‰çº§çš„è´¦æˆ·æ›´æ”¹ã€‚å¯ä»¥ä½¿ç”¨å§”æ‰˜æˆæƒæŠ€æœ¯ï¼Œåœ¨æˆæƒè€…å’Œè¢«æˆæƒè€…ä¹‹é—´å»ºç«‹æˆæƒå…³ç³»ã€‚åœ¨è¢«æˆæƒè€…è®¿é—®å—ä¿æŠ¤çš„èµ„æºæ—¶ï¼Œéœ€è¦éªŒè¯æˆæƒè€…æ˜¯å¦å·²ç»æˆæƒè¯¥æ“ä½œã€‚æˆæƒå…³ç³»å¯ä»¥æ˜¯é™æ€çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ¥é€‰æ‹©é€‚åˆçš„æˆæƒæ¨¡å‹ã€‚</p></li></ol><p>æ€»ä¹‹ï¼Œå®ç°å¤æ‚åœºæ™¯çš„ç”¨æˆ·æƒé™ç®¡ç†éœ€è¦ç»¼åˆè€ƒè™‘å¤šä¸ªå› ç´ ï¼ŒåŒ…æ‹¬ä¸šåŠ¡éœ€æ±‚ã€å®‰å…¨æ€§ã€æ˜“ç”¨æ€§ã€å¯ç»´æŠ¤æ€§ç­‰ã€‚éœ€è¦åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸æ–­è¿­ä»£å’Œä¼˜åŒ–ï¼Œç¡®ä¿æƒé™ç®¡ç†ç³»ç»Ÿèƒ½å¤Ÿæ»¡è¶³ä¸šåŠ¡éœ€æ±‚å¹¶ä¸”å®‰å…¨å¯é ã€‚</p><blockquote><p>å°±è¿™ä¸ªä¾‹å­ï¼Œä½ è§‰å¾—èƒ½æ€ä¹ˆå†™</p></blockquote><p>å‡è®¾æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªåœºæ™¯ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç å®ç°ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·æ¨¡å‹</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID       <span class="type">int</span></span><br><span class="line">    Username <span class="type">string</span></span><br><span class="line">    Password <span class="type">string</span></span><br><span class="line">    Email    <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetUserByID</span><span class="params">(userID <span class="type">int</span>)</span></span> (*User, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UpdateUser</span><span class="params">(user *User)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æ›´æ–°ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸­é—´ä»¶ï¼šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CheckUserAccessMiddleware</span><span class="params">(next http.HandlerFunc)</span></span> http.HandlerFunc &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è·å–ç”¨æˆ· ID å’Œè§’è‰²</span></span><br><span class="line">        userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>)</span><br><span class="line">        role := r.Context().Value(<span class="string">&quot;role&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯ç®¡ç†å‘˜ï¼Œåˆ™ç›´æ¥é€šè¿‡</span></span><br><span class="line">        <span class="keyword">if</span> role == RoleAdmin &#123;</span><br><span class="line">            next(w, r)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦åˆ™æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨è®¿é—®è‡ªå·±çš„ä¿¡æ¯</span></span><br><span class="line">        requestedUserID, err := strconv.Atoi(mux.Vars(r)[<span class="string">&quot;user_id&quot;</span>])</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> || userID != requestedUserID &#123;</span><br><span class="line">            w.WriteHeader(http.StatusForbidden)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡æ£€æŸ¥</span></span><br><span class="line">        next(w, r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å¤„ç†å‡½æ•°ï¼šè·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUserHandler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–è¯·æ±‚çš„ç”¨æˆ· ID</span></span><br><span class="line">    userID, err := strconv.Atoi(mux.Vars(r)[<span class="string">&quot;user_id&quot;</span>])</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    user, err := GetUserByID(userID)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusInternalServerError)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">    json.NewEncoder(w).Encode(user)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å¤„ç†å‡½æ•°ï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateUserHandler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–è¯·æ±‚çš„ç”¨æˆ· ID</span></span><br><span class="line">    userID, err := strconv.Atoi(mux.Vars(r)[<span class="string">&quot;user_id&quot;</span>])</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£æè¯·æ±‚çš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">var</span> user User</span><br><span class="line">    <span class="keyword">if</span> err := json.NewDecoder(r.Body).Decode(&amp;user); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™æ›´æ–°ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> userID != user.ID &#123;</span><br><span class="line">        w.WriteHeader(http.StatusForbidden)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> err := UpdateUser(&amp;user); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusInternalServerError)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">    w.WriteHeader(http.StatusOK)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªä¸­é—´ä»¶ <code>CheckUserAccessMiddleware</code>ï¼Œç”¨æ¥æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®å’Œä¿®æ”¹ä¸ªäººä¿¡æ¯ã€‚å¦‚æœå½“å‰ç”¨æˆ·æ˜¯ç®¡ç†å‘˜ï¼Œåˆ™ç›´æ¥é€šè¿‡ï¼›å¦åˆ™ï¼Œéœ€è¦æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨è®¿é—®è‡ªå·±çš„ä¿¡æ¯ã€‚å¯¹äºè·å–å’Œæ›´æ–°ç”¨æˆ·ä¿¡æ¯çš„è·¯ç”±å¤„ç†å‡½æ•° <code>getUserHandler</code> å’Œ <code>updateUserHandler</code>ï¼Œæˆ‘ä»¬éƒ½æ·»åŠ äº†è¿™ä¸ªä¸­é—´ä»¶ã€‚</p><p>åœ¨è·¯ç”±å¤„ç†å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè·å–è¯·æ±‚çš„ç”¨æˆ· IDï¼Œç„¶åæ ¹æ®ç”¨æˆ· ID æŸ¥è¯¢æˆ–æ›´æ–°ç”¨æˆ·ä¿¡æ¯ã€‚åœ¨æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ£€æŸ¥è¯·æ±‚ä¸­çš„ç”¨æˆ·ä¿¡æ¯æ˜¯å¦ä¸å½“å‰ç”¨æˆ·åŒ¹é…ã€‚å¦‚æœè¯·æ±‚çš„ç”¨æˆ·</p><blockquote><p>ä½†æ˜¯æœ‰å¾ˆå¤šç±»å‹çš„å¤æ‚æƒé™åˆ¤æ–­æƒ…å†µï¼Œæˆ‘æƒ³èƒ½ä¸èƒ½æ•´åˆåœ¨ä¸€èµ·</p></blockquote><p>æ˜¯çš„ï¼Œç¡®å®å­˜åœ¨å¾ˆå¤šç±»å‹çš„å¤æ‚æƒé™åˆ¤æ–­æƒ…å†µï¼Œéœ€è¦æ•´åˆåœ¨ä¸€èµ·æ¥å®ç°ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ RBACï¼ˆRole-Based Access Controlï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰æˆ– ABACï¼ˆAttribute-Based Access Controlï¼ŒåŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼‰ç­‰æƒé™ç®¡ç†æ¨¡å‹æ¥å®ç°å¤æ‚æƒé™æ§åˆ¶ã€‚</p><p>RBAC æ¨¡å‹é€šè¿‡å°†ç”¨æˆ·åˆ†é…åˆ°ä¸åŒçš„è§’è‰²ï¼Œå¹¶å°†è§’è‰²èµ‹äºˆä¸åŒçš„æƒé™ï¼Œæ¥å®ç°è®¿é—®æ§åˆ¶ã€‚ABAC æ¨¡å‹åˆ™æ ¹æ®ç”¨æˆ·çš„å±æ€§ï¼ˆå¦‚è§’è‰²ã€ç»„ç»‡æ¶æ„ã€åœ°ç†ä½ç½®ç­‰ï¼‰ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·å¯ä»¥è®¿é—®çš„èµ„æºï¼Œä»è€Œå®ç°è®¿é—®æ§åˆ¶ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ ABAC æ¨¡å‹å®ç°çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·æ¨¡å‹</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID       <span class="type">int</span></span><br><span class="line">    Username <span class="type">string</span></span><br><span class="line">    Password <span class="type">string</span></span><br><span class="line">    Email    <span class="type">string</span></span><br><span class="line">    Role     <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetUserByID</span><span class="params">(userID <span class="type">int</span>)</span></span> (*User, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UpdateUser</span><span class="params">(user *User)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æ›´æ–°ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABAC éªŒè¯ä¸­é—´ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ABACMiddleware</span><span class="params">(next http.Handler)</span></span> http.Handler &#123;</span><br><span class="line">    <span class="keyword">return</span> http.HandlerFunc(<span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è·å–ç”¨æˆ· ID å’Œè§’è‰²</span></span><br><span class="line">        userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>)</span><br><span class="line">        role := r.Context().Value(<span class="string">&quot;role&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å®šä¹‰å±æ€§é›†åˆ</span></span><br><span class="line">        attributes := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">        attributes[<span class="string">&quot;user_id&quot;</span>] = userID</span><br><span class="line">        attributes[<span class="string">&quot;role&quot;</span>] = role</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†å±æ€§é›†åˆå­˜å‚¨åœ¨ä¸Šä¸‹æ–‡ä¸­</span></span><br><span class="line">        ctx := context.WithValue(r.Context(), <span class="string">&quot;attributes&quot;</span>, attributes)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ä¸‹ä¸€ä¸ªå¤„ç†å™¨</span></span><br><span class="line">        next.ServeHTTP(w, r.WithContext(ctx))</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABAC è®¿é—®æ§åˆ¶ä¸­é—´ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ABACAccessControlMiddleware</span><span class="params">(requiredAttributes <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;, next http.HandlerFunc)</span></span> http.HandlerFunc &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è·å–å±æ€§é›†åˆ</span></span><br><span class="line">        attributes := r.Context().Value(<span class="string">&quot;attributes&quot;</span>).(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥å±æ€§é›†åˆæ˜¯å¦æ»¡è¶³è¦æ±‚</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> requiredAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] != v &#123;</span><br><span class="line">                w.WriteHeader(http.StatusForbidden)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡æ£€æŸ¥</span></span><br><span class="line">        next(w, r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å¤„ç†å‡½æ•°ï¼šè·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUserHandler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–è¯·æ±‚çš„ç”¨æˆ· ID</span></span><br><span class="line">    userID, err := strconv.Atoi(mux.Vars(r)[<span class="string">&quot;user_id&quot;</span>])</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    user, err := GetUserByID(userID)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        w.WriteHeader(http.StatusInternalServerError)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®</span></span><br><span class="line">    requiredAttributes := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;user_id&quot;</span>: userID,</span><br><span class="line">    &#125;</span><br><span class="line">    ABACAccessControlMiddleware(requiredAttributes, <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">        <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">        json.NewEncoder(w).Encode(user)</span><br><span class="line">    &#125;)(w, r)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±</span></span><br></pre></td></tr></table></figure><blockquote><p>ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸¤ç§æ¨¡å‹</p></blockquote><p>RBACï¼ˆRole-Based Access Controlï¼‰æ˜¯ä¸€ç§åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶æ¨¡å‹ï¼Œå®ƒå°†ç”¨æˆ·åˆ†é…åˆ°ä¸åŒçš„è§’è‰²ï¼Œç„¶åå°†è§’è‰²èµ‹äºˆä¸åŒçš„æƒé™ã€‚ç”¨æˆ·åœ¨è®¿é—®èµ„æºæ—¶ï¼Œåªéœ€è¦ä½¿ç”¨è‡ªå·±æ‰€å±çš„è§’è‰²çš„æƒé™å³å¯ï¼Œæ— éœ€å…³å¿ƒå…·ä½“çš„æƒé™è®¾ç½®ã€‚RBAC æ¨¡å‹ç®€å•æ˜“ç”¨ï¼Œé€‚ç”¨äºè§„æ¨¡è¾ƒå°ã€æƒé™ç®¡ç†è¾ƒä¸ºç®€å•çš„ç³»ç»Ÿã€‚</p><p>ABACï¼ˆAttribute-Based Access Controlï¼‰æ˜¯ä¸€ç§åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶æ¨¡å‹ï¼Œå®ƒæ ¹æ®ç”¨æˆ·çš„å±æ€§ï¼ˆå¦‚è§’è‰²ã€ç»„ç»‡æ¶æ„ã€åœ°ç†ä½ç½®ç­‰ï¼‰ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·å¯ä»¥è®¿é—®çš„èµ„æºã€‚åœ¨ ABAC æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªèµ„æºéƒ½æœ‰ä¸€ç»„å±æ€§ï¼Œè€Œæ¯ä¸ªç”¨æˆ·ä¹Ÿæœ‰ä¸€ç»„å±æ€§ï¼Œç³»ç»Ÿä¼šæ ¹æ®ç”¨æˆ·çš„å±æ€§æ¥è®¡ç®—å…¶å¯ä»¥è®¿é—®å“ªäº›èµ„æºã€‚ABAC æ¨¡å‹æ¯” RBAC æ›´ä¸ºçµæ´»ï¼Œèƒ½å¤Ÿå¤„ç†æ›´ä¸ºå¤æ‚çš„æƒé™æ§åˆ¶éœ€æ±‚ï¼Œé€‚ç”¨äºè§„æ¨¡è¾ƒå¤§ã€æƒé™ç®¡ç†è¾ƒä¸ºå¤æ‚çš„ç³»ç»Ÿã€‚</p><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©é€‚åˆçš„æƒé™ç®¡ç†æ¨¡å‹ï¼Œæˆ–è€…ç»“åˆä¸¤ç§æ¨¡å‹æ¥å®ç°å¤æ‚çš„æƒé™æ§åˆ¶ã€‚æ— è®ºé‡‡ç”¨å“ªç§æ¨¡å‹ï¼Œéƒ½éœ€è¦å¯¹æƒé™è¿›è¡Œä¸¥æ ¼çš„ç®¡ç†å’Œç›‘æ§ï¼Œç¡®ä¿ç³»ç»Ÿå®‰å…¨å¯é ã€‚</p><blockquote><p>ç»™ä¸€ä¸ªABACçš„ä¾‹å­</p></blockquote><p>å‡è®¾æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªåœºæ™¯ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€‚åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ABAC æ¨¡å‹æ¥å®ç°æƒé™æ§åˆ¶ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€äº›å±æ€§ï¼Œç”¨æ¥æè¿°ç”¨æˆ·å’Œèµ„æºã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¦‚ä¸‹çš„å±æ€§ï¼š</p><ul><li>ç”¨æˆ·å±æ€§ï¼š<ul><li><code>user_id</code>ï¼šç”¨æˆ· ID</li><li><code>role</code>ï¼šç”¨æˆ·è§’è‰²</li></ul></li><li>èµ„æºå±æ€§ï¼š<ul><li><code>resource_id</code>ï¼šèµ„æº ID</li><li><code>owner_id</code>ï¼šèµ„æºæ‰€æœ‰è€… ID</li></ul></li></ul><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ABAC æ¨¡å‹çš„ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶â€”â€”ç­–ç•¥å¼•æ“å’Œè®¿é—®æ§åˆ¶è§„åˆ™æ¥å®ç°æƒé™æ§åˆ¶ã€‚</p><p>ç­–ç•¥å¼•æ“æ ¹æ®è®¿é—®è¯·æ±‚ä¸­çš„å±æ€§å’Œè®¿é—®æ§åˆ¶è§„åˆ™ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚è®¿é—®æ§åˆ¶è§„åˆ™å®šä¹‰äº†å“ªäº›å±æ€§å¿…é¡»æ»¡è¶³ã€å“ªäº›å±æ€§å¯ä»¥æ»¡è¶³ã€å“ªäº›å±æ€§ä¸èƒ½æ»¡è¶³ï¼Œä»¥åŠæ»¡è¶³æ¡ä»¶æ—¶çš„æˆæƒç­–ç•¥ç­‰ä¿¡æ¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ ABAC æ¨¡å‹å®ç°çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·æ¨¡å‹</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID       <span class="type">int</span></span><br><span class="line">    Username <span class="type">string</span></span><br><span class="line">    Password <span class="type">string</span></span><br><span class="line">    Email    <span class="type">string</span></span><br><span class="line">    Role     <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetUserByID</span><span class="params">(userID <span class="type">int</span>)</span></span> (*User, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“æ“ä½œï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UpdateUser</span><span class="params">(user *User)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æ›´æ–°ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABAC è®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line"><span class="keyword">type</span> AccessControlRule <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="comment">// å¿…é¡»æ»¡è¶³çš„å±æ€§</span></span><br><span class="line">    RequiredAttributes <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯ä»¥æ»¡è¶³çš„å±æ€§</span></span><br><span class="line">    AllowedAttributes <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸èƒ½æ»¡è¶³çš„å±æ€§</span></span><br><span class="line">    DeniedAttributes <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆæƒç­–ç•¥</span></span><br><span class="line">    AuthorizationPolicy <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABAC ç­–ç•¥å¼•æ“</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ABACEnforce</span><span class="params">(r *http.Request, resource <span class="keyword">interface</span>&#123;&#125;, accessControlRules []*AccessControlRule)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–å±æ€§é›†åˆ</span></span><br><span class="line">    userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>).(<span class="type">int</span>)</span><br><span class="line">    role := r.Context().Value(<span class="string">&quot;role&quot;</span>).(<span class="type">string</span>)</span><br><span class="line">    attributes := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;user_id&quot;</span>: userID,</span><br><span class="line">        <span class="string">&quot;role&quot;</span>:    role,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ èµ„æºå±æ€§åˆ°å±æ€§é›†åˆä¸­</span></span><br><span class="line">    <span class="keyword">switch</span> v := resource.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> *User:</span><br><span class="line">        attributes[<span class="string">&quot;resource_id&quot;</span>] = v.ID</span><br><span class="line">        attributes[<span class="string">&quot;owner_id&quot;</span>] = v.ID</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†è®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line">    <span class="keyword">for</span> _, rule := <span class="keyword">range</span> accessControlRules &#123;</span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¿…é¡»æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.RequiredAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] != v &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥ä¸èƒ½æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.DeniedAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] == v &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¯ä»¥æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘å¤§æ¦‚ç†è§£äº†ï¼Œèƒ½ä¸èƒ½æœ‰ç®€å•æè¿°ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹</p></blockquote><p>ABACï¼ˆAttribute-Based Access Controlï¼‰æ¨¡å‹çš„è®¿é—®æ§åˆ¶è¿‡ç¨‹å¯ä»¥ç®€å•æè¿°ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li><p>å®šä¹‰å±æ€§ï¼šé¦–å…ˆï¼Œéœ€è¦å®šä¹‰ä¸€äº›å±æ€§ï¼Œç”¨æ¥æè¿°ç”¨æˆ·ã€èµ„æºå’Œç¯å¢ƒã€‚è¿™äº›å±æ€§å¯ä»¥æ˜¯ç”¨æˆ·çš„è§’è‰²ã€ç»„ç»‡æ¶æ„ã€åœ°ç†ä½ç½®ç­‰ï¼Œä¹Ÿå¯ä»¥æ˜¯èµ„æºçš„æ‰€æœ‰è€…ã€ç±»å‹ã€çŠ¶æ€ç­‰ï¼Œè¿˜å¯ä»¥æ˜¯ç¯å¢ƒçš„æ—¶é—´ã€åœ°ç†ä½ç½®ç­‰ã€‚</p></li><li><p>å®šä¹‰è®¿é—®æ§åˆ¶è§„åˆ™ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦å®šä¹‰ä¸€äº›è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œç”¨æ¥æè¿°å“ªäº›å±æ€§å¿…é¡»æ»¡è¶³ã€å“ªäº›å±æ€§å¯ä»¥æ»¡è¶³ã€å“ªäº›å±æ€§ä¸èƒ½æ»¡è¶³ï¼Œä»¥åŠæ»¡è¶³æ¡ä»¶æ—¶çš„æˆæƒç­–ç•¥ç­‰ä¿¡æ¯ã€‚è®¿é—®æ§åˆ¶è§„åˆ™å¯ä»¥å­˜å‚¨åœ¨æ•°æ®åº“ã€é…ç½®æ–‡ä»¶æˆ–å…¶ä»–å­˜å‚¨ä»‹è´¨ä¸­ã€‚</p></li><li><p>ç­–ç•¥å¼•æ“è®¡ç®—æƒé™ï¼šå½“ç”¨æˆ·è¯·æ±‚è®¿é—®æŸä¸ªèµ„æºæ—¶ï¼Œç­–ç•¥å¼•æ“ä¼šæ ¹æ®è¯·æ±‚ä¸­çš„å±æ€§å’Œè®¿é—®æ§åˆ¶è§„åˆ™ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚å¦‚æœç”¨æˆ·æ»¡è¶³è®¿é—®æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„æ¡ä»¶ï¼Œåˆ™å¯ä»¥è¢«æˆæƒè®¿é—®èµ„æºï¼Œå¦åˆ™å°†è¢«æ‹’ç»è®¿é—®ã€‚</p></li><li><p>æˆæƒè®¿é—®èµ„æºï¼šå¦‚æœç”¨æˆ·è¢«æˆæƒè®¿é—®èµ„æºï¼Œåˆ™å¯ä»¥è¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œå¦‚æŸ¥çœ‹ã€ä¿®æ”¹ã€åˆ é™¤ç­‰ã€‚å¦åˆ™ï¼Œå°†æ— æ³•è®¿é—®èµ„æºï¼Œè®¿é—®è¯·æ±‚å°†è¢«æ‹’ç»ã€‚</p></li></ol><p>åœ¨ ABAC æ¨¡å‹ä¸­ï¼Œè®¿é—®æ§åˆ¶è§„åˆ™æ˜¯åŠ¨æ€è®¡ç®—çš„ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·ã€èµ„æºå’Œç¯å¢ƒçš„å±æ€§æ¥è¿›è¡Œçµæ´»çš„æˆæƒæ§åˆ¶ã€‚å› æ­¤ï¼ŒABAC æ¨¡å‹é€‚ç”¨äºè§„æ¨¡è¾ƒå¤§ã€æƒé™ç®¡ç†è¾ƒä¸ºå¤æ‚çš„ç³»ç»Ÿã€‚</p><blockquote><p>ABACEnforceé‚£ä¸ªå‡½æ•°ä½ å®Œæ•´åœ°å†™ä¸€å†™</p></blockquote><p>å¥½çš„ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å®Œæ•´çš„ <code>ABACEnforce</code> å‡½æ•°ç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ABAC ç­–ç•¥å¼•æ“</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ABACEnforce</span><span class="params">(r *http.Request, resource <span class="keyword">interface</span>&#123;&#125;, accessControlRules []*AccessControlRule)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–å±æ€§é›†åˆ</span></span><br><span class="line">    userID := r.Context().Value(<span class="string">&quot;user_id&quot;</span>).(<span class="type">int</span>)</span><br><span class="line">    role := r.Context().Value(<span class="string">&quot;role&quot;</span>).(<span class="type">string</span>)</span><br><span class="line">    attributes := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;user_id&quot;</span>: userID,</span><br><span class="line">        <span class="string">&quot;role&quot;</span>:    role,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ èµ„æºå±æ€§åˆ°å±æ€§é›†åˆä¸­</span></span><br><span class="line">    <span class="keyword">switch</span> v := resource.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> *User:</span><br><span class="line">        attributes[<span class="string">&quot;resource_id&quot;</span>] = v.ID</span><br><span class="line">        attributes[<span class="string">&quot;owner_id&quot;</span>] = v.ID</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†è®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line">    <span class="keyword">for</span> _, rule := <span class="keyword">range</span> accessControlRules &#123;</span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¿…é¡»æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.RequiredAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] != v &#123;</span><br><span class="line">                <span class="keyword">goto</span> NextRule</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥ä¸èƒ½æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.DeniedAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] == v &#123;</span><br><span class="line">                <span class="keyword">goto</span> NextRule</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¯ä»¥æ»¡è¶³çš„å±æ€§æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">for</span> k, v := <span class="keyword">range</span> rule.AllowedAttributes &#123;</span><br><span class="line">            <span class="keyword">if</span> attributes[k] == v &#123;</span><br><span class="line">                <span class="comment">// è®¿é—®æ§åˆ¶è§„åˆ™åŒ¹é…æˆåŠŸ</span></span><br><span class="line">                <span class="keyword">switch</span> rule.AuthorizationPolicy &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;allow&quot;</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;deny&quot;</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    NextRule:</span><br><span class="line">        <span class="comment">// ç»§ç»­éå†ä¸‹ä¸€ä¸ªè®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ²¡æœ‰åŒ¹é…çš„è®¿é—®æ§åˆ¶è§„åˆ™</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä»è¯·æ±‚ä¸­è·å–ç”¨æˆ·çš„å±æ€§ï¼ˆ<code>user_id</code> å’Œ <code>role</code>ï¼‰ï¼Œç„¶åæ ¹æ®èµ„æºçš„ç±»å‹ï¼ˆåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­æ˜¯ <code>*User</code>ï¼‰æ·»åŠ èµ„æºçš„å±æ€§ï¼ˆ<code>resource_id</code> å’Œ <code>owner_id</code>ï¼‰åˆ°å±æ€§é›†åˆä¸­ã€‚æ¥ç€ï¼Œæˆ‘ä»¬éå†è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œé€ä¸ªæ£€æŸ¥è®¿é—®æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„å±æ€§æ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚</p><p>åœ¨æ£€æŸ¥å±æ€§æ¡ä»¶æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <code>goto</code> è¯­å¥è·³è¿‡äº†ä¸æ»¡è¶³æ¡ä»¶çš„è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œæé«˜äº†æ‰§è¡Œæ•ˆç‡ã€‚å¦‚æœæ‰€æœ‰çš„å±æ€§æ¡ä»¶éƒ½æ»¡è¶³ï¼Œæˆ‘ä»¬æ ¹æ®è®¿é—®æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„æˆæƒç­–ç•¥ï¼ˆ<code>allow</code> æˆ– <code>deny</code>ï¼‰è¿”å›ç›¸åº”çš„ç»“æœã€‚</p><p>å¦‚æœæ²¡æœ‰åŒ¹é…çš„è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œåˆ™è®¤ä¸ºç”¨æˆ·æ²¡æœ‰æƒé™è®¿é—®èµ„æºï¼Œè¿”å› <code>false</code>ã€‚</p><blockquote><p>é‚£æˆ‘æ”¹å¦‚ä½•å®šä¹‰ä¸Šé¢çš„é‚£ä¸ªè§„åˆ™ï¼šç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯</p></blockquote><p>é’ˆå¯¹ä½ æä¾›çš„å…·ä½“åœºæ™¯ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼å®šä¹‰ä¸¤æ¡è®¿é—®æ§åˆ¶è§„åˆ™ï¼š</p><ol><li>ç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼š</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">AccessControlRule&#123;</span><br><span class="line">    RequiredAttributes: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;user_id&quot;</span>: userID, <span class="comment">// å¿…é¡»æ»¡è¶³ç”¨æˆ· ID å±æ€§ç­‰äºå½“å‰ç”¨æˆ· ID</span></span><br><span class="line">    &#125;,</span><br><span class="line">    AllowedAttributes: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;resource_id&quot;</span>: userID, <span class="comment">// å¯ä»¥æ»¡è¶³èµ„æº ID å±æ€§ç­‰äºå½“å‰ç”¨æˆ· ID</span></span><br><span class="line">    &#125;,</span><br><span class="line">    AuthorizationPolicy: <span class="string">&quot;allow&quot;</span>, <span class="comment">// å…è®¸è®¿é—®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼š</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">AccessControlRule&#123;</span><br><span class="line">    RequiredAttributes: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;admin&quot;</span>, <span class="comment">// å¿…é¡»æ»¡è¶³ç”¨æˆ·è§’è‰²å±æ€§ç­‰äºç®¡ç†å‘˜</span></span><br><span class="line">    &#125;,</span><br><span class="line">    AllowedAttributes: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="comment">// æ²¡æœ‰é¢å¤–çš„å±æ€§é™åˆ¶ï¼Œå¯ä»¥è®¿é—®æ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯</span></span><br><span class="line">    &#125;,</span><br><span class="line">    AuthorizationPolicy: <span class="string">&quot;allow&quot;</span>, <span class="comment">// å…è®¸è®¿é—®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç”¨æˆ·è®¿é—®ä¸ªäººä¿¡æ¯æ—¶ï¼Œç­–ç•¥å¼•æ“ä¼šæ ¹æ®è®¿é—®è¯·æ±‚ä¸­çš„å±æ€§å’Œè®¿é—®æ§åˆ¶è§„åˆ™ï¼ŒåŠ¨æ€è®¡ç®—ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚å¦‚æœç”¨æˆ·æ»¡è¶³è®¿é—®æ§åˆ¶è§„åˆ™ä¸­å®šä¹‰çš„æ¡ä»¶ï¼Œåˆ™å¯ä»¥è¢«æˆæƒè®¿é—®èµ„æºï¼Œå¦åˆ™å°†è¢«æ‹’ç»è®¿é—®ã€‚</p><blockquote><p>æˆ‘çŸ¥é“è‚¯å®šæœ‰è¿™æ–¹é¢çš„åº“ï¼Œå¸®æˆ‘åˆ—ä¸¾å‡ ä¸ª</p></blockquote><p>æ˜¯çš„ï¼Œæœ‰å¾ˆå¤šå¼€æºçš„æƒé™ç®¡ç†åº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç° RBAC å’Œ ABAC æƒé™æ§åˆ¶ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„åº“ï¼š</p><ol><li><p>Casbinï¼šè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„å¼€æºæƒé™ç®¡ç†åº“ï¼Œæ”¯æŒ RBACã€ABACã€PBAC å’Œ RESTful API ç­‰å¤šç§æƒé™æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†å¤šç§è¯­è¨€çš„å®ç°ï¼ŒåŒ…æ‹¬ Goã€Javaã€Pythonã€C++ã€Node.js ç­‰ã€‚</p></li><li><p>OPAï¼ˆOpen Policy Agentï¼‰ï¼šè¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„å¼€æºç­–ç•¥å¼•æ“ï¼Œæ”¯æŒåŸºäºå±æ€§å’ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†å¤šç§è¯­è¨€çš„ SDKï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä¸ç°æœ‰çš„åº”ç”¨ç¨‹åºé›†æˆã€‚</p></li><li><p>Sentinelï¼šè¿™æ˜¯ä¸€ä¸ªåŸºäºè§„åˆ™çš„è®¿é—®æ§åˆ¶æ¡†æ¶ï¼Œæ”¯æŒåŸºäºè§’è‰²ã€åŸºäºå±æ€§å’ŒåŸºäºèµ„æºçš„æƒé™æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†å¤šç§è¯­è¨€çš„å®ç°ï¼ŒåŒ…æ‹¬ Javaã€Goã€C++ã€Python ç­‰ã€‚</p></li><li><p>Shiroï¼šè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„ Java å®‰å…¨æ¡†æ¶ï¼Œæ”¯æŒ RBACã€ABAC å’Œ PBAC ç­‰å¤šç§æƒé™æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„ API å’Œå·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°æƒé™ç®¡ç†å’Œè®¤è¯æˆæƒåŠŸèƒ½ã€‚</p></li><li><p>Spring Securityï¼šè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„å®‰å…¨æ¡†æ¶ï¼Œæ”¯æŒ RBACã€ABACã€PBAC å’Œ ACL ç­‰å¤šç§æƒé™æ§åˆ¶æ¨¡å‹ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„ API å’Œå·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°æƒé™ç®¡ç†å’Œè®¤è¯æˆæƒåŠŸèƒ½ã€‚</p></li></ol><p>è¿™äº›åº“éƒ½æ˜¯ç»è¿‡å®è·µéªŒè¯çš„æˆç†Ÿå·¥å…·ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬å¿«é€Ÿå®ç°æƒé™ç®¡ç†å’Œè®¤è¯æˆæƒåŠŸèƒ½ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p><blockquote><p>ä»‹ç»å¹¶å¯¹æ¯”ä¸€ä¸‹ä¸»æµçš„æƒé™æ§åˆ¶æ¨¡å‹</p></blockquote><p>ä¸»æµçš„æƒé™æ§åˆ¶æ¨¡å‹åŒ…æ‹¬ RBACã€ABAC å’Œ PBACï¼Œå®ƒä»¬æœ‰å„è‡ªçš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯ã€‚ä¸‹é¢æ˜¯å®ƒä»¬çš„ä»‹ç»å’Œå¯¹æ¯”ï¼š</p><ol><li><p>RBACï¼ˆRole-Based Access Controlï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰ï¼šRBAC æ¨¡å‹æ˜¯æœ€å¸¸è§å’Œæœ€ç®€å•çš„æƒé™æ§åˆ¶æ¨¡å‹ä¹‹ä¸€ï¼Œå®ƒæ ¹æ®ç”¨æˆ·çš„è§’è‰²æ¥ç®¡ç†ç”¨æˆ·å¯¹èµ„æºçš„è®¿é—®æƒé™ã€‚RBAC æ¨¡å‹å°†ç”¨æˆ·åˆ’åˆ†ä¸ºä¸åŒçš„è§’è‰²ï¼Œæ¯ä¸ªè§’è‰²æ‹¥æœ‰ä¸€ç»„ç‰¹å®šçš„æƒé™ï¼Œç„¶åå°†ç”¨æˆ·ä¸è§’è‰²è¿›è¡Œå…³è”ã€‚è¿™ç§æ¨¡å‹é€‚ç”¨äºæƒé™ç®¡ç†ç›¸å¯¹ç®€å•çš„åœºæ™¯ï¼Œå¦‚ä¼ä¸šå†…éƒ¨çš„ç®¡ç†ç³»ç»Ÿæˆ– Web åº”ç”¨ç¨‹åºã€‚</p></li><li><p>ABACï¼ˆAttribute-Based Access Controlï¼ŒåŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼‰ï¼šABAC æ¨¡å‹æ˜¯ä¸€ç§åŸºäºå±æ€§çš„çµæ´»çš„æƒé™æ§åˆ¶æ¨¡å‹ï¼Œå®ƒæ ¹æ®ç”¨æˆ·çš„å±æ€§ã€èµ„æºçš„å±æ€§å’Œç¯å¢ƒçš„å±æ€§æ¥ç®¡ç†ç”¨æˆ·å¯¹èµ„æºçš„è®¿é—®æƒé™ã€‚ABAC æ¨¡å‹å°†ç”¨æˆ·ã€èµ„æºå’Œç¯å¢ƒçš„å±æ€§ç»„åˆåœ¨ä¸€èµ·ï¼Œç„¶åé€šè¿‡ç­–ç•¥å¼•æ“åŠ¨æ€è®¡ç®—ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚è¿™ç§æ¨¡å‹é€‚ç”¨äºæƒé™ç®¡ç†ç›¸å¯¹å¤æ‚çš„åœºæ™¯ï¼Œå¦‚é‡‘èã€åŒ»ç–—å’Œæ”¿åºœç­‰é¢†åŸŸçš„ç³»ç»Ÿã€‚</p></li><li><p>PBACï¼ˆPolicy-Based Access Controlï¼ŒåŸºäºç­–ç•¥çš„è®¿é—®æ§åˆ¶ï¼‰ï¼šPBAC æ¨¡å‹æ˜¯ä¸€ç§åŸºäºç­–ç•¥çš„çµæ´»çš„æƒé™æ§åˆ¶æ¨¡å‹ï¼Œå®ƒæ ¹æ®ç”¨æˆ·çš„å±æ€§ã€è§’è‰²å’Œç­–ç•¥æ¥ç®¡ç†ç”¨æˆ·å¯¹èµ„æºçš„è®¿é—®æƒé™ã€‚PBAC æ¨¡å‹å°†ç”¨æˆ·çš„å±æ€§å’Œè§’è‰²ä½œä¸ºè¾“å…¥ï¼Œç„¶åé€šè¿‡è®¿é—®æ§åˆ¶ç­–ç•¥æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®èµ„æºã€‚è¿™ç§æ¨¡å‹é€‚ç”¨äºéœ€è¦æ›´ç»†ç²’åº¦æ§åˆ¶çš„åœºæ™¯ï¼Œå¦‚å†›äº‹ã€æƒ…æŠ¥å’Œé«˜å®‰å…¨æ€§çš„ç³»ç»Ÿã€‚</p></li></ol><p>åœ¨ RBAC æ¨¡å‹ä¸­ï¼Œæƒé™ç®¡ç†ç›¸å¯¹ç®€å•ï¼Œä½†ç®¡ç†è§’è‰²å’Œè§’è‰²ä¹‹é—´çš„å…³ç³»æ¯”è¾ƒå›°éš¾ã€‚åœ¨ ABAC æ¨¡å‹ä¸­ï¼Œæƒé™ç®¡ç†ç›¸å¯¹å¤æ‚ï¼Œä½†èƒ½å¤Ÿçµæ´»åœ°æ§åˆ¶æƒé™ï¼Œæ”¯æŒæ›´å¤šçš„åº”ç”¨åœºæ™¯ã€‚åœ¨ PBAC æ¨¡å‹ä¸­ï¼Œæƒé™ç®¡ç†æ›´ä¸ºçµæ´»ï¼Œèƒ½å¤Ÿå®ç°æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œä½†éœ€è¦æ›´å¤æ‚çš„ç­–ç•¥ç®¡ç†ã€‚</p><p>å› æ­¤ï¼Œåœ¨é€‰æ‹©æƒé™æ§åˆ¶æ¨¡å‹æ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…éœ€æ±‚æ¥é€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Œé¿å…åœ¨æƒé™æ§åˆ¶æ–¹é¢å‡ºç°è¿‡åº¦æˆ–ä¸è¶³çš„é—®é¢˜ã€‚</p><blockquote><p>é‚£ACLå‘¢</p></blockquote><p>ACLï¼ˆAccess Control Listï¼Œè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰æ˜¯ä¸€ç§å¸¸è§çš„æƒé™æ§åˆ¶æ¨¡å‹ï¼Œå®ƒé€šè¿‡æŒ‡å®šç”¨æˆ·æˆ–ç”¨æˆ·ç»„å¯¹èµ„æºçš„è®¿é—®æƒé™è¿›è¡Œæ§åˆ¶ã€‚ACL æ¨¡å‹å¯ä»¥åº”ç”¨äºå¤šç§åœºæ™¯ï¼Œå¦‚æ“ä½œç³»ç»Ÿã€æ•°æ®åº“ã€Web åº”ç”¨ç¨‹åºç­‰ã€‚</p><p>åœ¨ ACL æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªèµ„æºéƒ½æœ‰ä¸€ä¸ª ACL åˆ—è¡¨ï¼Œç”¨æ¥å®šä¹‰å“ªäº›ç”¨æˆ·æˆ–ç”¨æˆ·ç»„æœ‰æƒè®¿é—®è¯¥èµ„æºã€‚ACL åˆ—è¡¨é€šå¸¸åŒ…æ‹¬è®¿é—®è€…çš„ IDã€è®¿é—®æƒé™ï¼ˆå¦‚è¯»ã€å†™ã€æ‰§è¡Œç­‰ï¼‰å’Œç‰¹å®šçš„æ—¶é—´æ®µç­‰ä¿¡æ¯ã€‚ç”¨æˆ·è®¿é—®èµ„æºæ—¶ï¼Œç³»ç»Ÿä¼šæ£€æŸ¥è¯¥ç”¨æˆ·çš„ ID æ˜¯å¦åœ¨ ACL åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”è¯¥ç”¨æˆ·æ˜¯å¦æœ‰å¯¹åº”çš„è®¿é—®æƒé™ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™å…è®¸è®¿é—®èµ„æºï¼Œå¦åˆ™æ‹’ç»è®¿é—®ã€‚</p><p>ACL æ¨¡å‹çš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œæ˜“äºç®¡ç†ï¼Œé€‚ç”¨äºå°å‹ç³»ç»Ÿæˆ–æƒé™ç®¡ç†æ¯”è¾ƒç®€å•çš„åœºæ™¯ã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œå¦‚éš¾ä»¥åº”å¯¹å¤æ‚çš„æƒé™ç®¡ç†éœ€æ±‚ï¼ŒACL åˆ—è¡¨éš¾ä»¥ç»´æŠ¤ï¼Œéš¾ä»¥ç®¡ç†å¤§é‡ç”¨æˆ·æˆ–ç”¨æˆ·ç»„ç­‰ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡æƒé™ç®¡ç†ç³»ç»Ÿæ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©åˆé€‚çš„æƒé™æ§åˆ¶æ¨¡å‹ã€‚</p><hr><p>å…³äº Casbin åœ¨ç¤¾åŒºé‡Œé¢çš„æ¯’ç˜¤åå£°æˆ‘æ—©æœ‰è€³é—»ï¼Œä½†æˆ‘ç”¨ä¸Šæ¥æ„Ÿè§‰ç®—æ˜¯ä¸Šæ‰‹æ¯”è¾ƒç®€å•çš„é‚£ä¸€ç§ï¼Œæˆ‘çœ‹äº†qimiaoçš„ä¸¤ä¸ªè§†é¢‘ï¼Œå¤§æ¦‚å¼„æ‡‚äº†</p><ul><li><a href="https://www.bilibili.com/video/BV1qz4y167XP/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">ã€ã€ginæ•™å­¦ã€‘ç¬¬åç« ï¼šåŠå°æ—¶å½»åº•å¼„æ‡‚CasbinåŸºç¡€æ¨¡å‹ï¼ˆ1010å·¥ä½œå®¤å‡ºå“ï¼‰ã€‘</a></li><li><a href="https://www.bilibili.com/video/BV13r4y1M7AC/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">ã€ã€ginæ•™å­¦ã€‘ç¬¬åä¸€ç« ï¼šCasbinçš„ä»£ç ä½¿ç”¨ã€apiè°ƒç”¨ã€è‡ªå®šä¹‰æ¯”è¾ƒæ–¹æ³•ï¼ˆ1010å·¥ä½œå®¤å‡ºå“ï¼‰ã€‘</a></li></ul><p>è€Œç¾¤å‹ä¹Ÿæåˆ°äº† logto å’Œ supertokens ï¼Œdemo æˆ‘ä¹Ÿéƒ½è·‘äº†ä¸€ä¸‹ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰ç›®å‰å…¶å®ä¸æ˜¯å¾ˆéœ€è¦ç™»å½•é‰´æƒæƒé™ç®¡ç†ä¸€æŠŠæ¢­å“ˆï¼Œå¯èƒ½ä»¥åä¼šç”¨å§</p><p>å¦å¤–åŒç±»çš„ <a href="https://gist.github.com/Wang-Kai/18fe4e662ef795805c14b1ec94932834">ladon</a> æˆ‘ä¹Ÿäº†è§£äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰è¿˜æ˜¯ä» casbin å®æˆ˜ä¸€ä¸‹å§ï¼Œä¸è¯´äº†ï¼Œå…ˆå»çœ‹çœ‹ç¾¤å‹çš„é¡¹ç›®é‡Œé¢æ˜¯æ€ä¹ˆç”¨çš„ï¼ˆ</p><p>PSï¼š</p><ul><li>ã€ã€ITè€é½217ã€‘ç®€å•ç²—æš´è®²è§£RBACå››çº§è§’è‰²æƒé™æ¨¡å‹ã€‘ <a href="https://www.bilibili.com/video/BV1YT411N76n/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV1YT411N76n/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li><li>ã€ã€ITè€é½218ã€‘æµ…æå¼ºå¤§ä½†å¤æ‚çš„ABACå±æ€§è®¿é—®æ§åˆ¶ã€‘ <a href="https://www.bilibili.com/video/BV1wT411M7bd/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV1wT411M7bd/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li><li>ã€ã€ITè€é½219ã€‘é¡¹ç›®ä¸­å¦‚ä½•è®¾è®¡æ•°æ®è®¿é—®æƒé™ã€‘ <a href="https://www.bilibili.com/video/BV1bB4y1778n/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902">https://www.bilibili.com/video/BV1bB4y1778n/?share_source=copy_web&amp;vd_source=5ca30838bf3c8b357bddca1ff2565902</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/ChatGPT-%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95/">ChatGPT å¯¹è¯è®°å½•</category>
      
      
      <category domain="https://nickxu.me/tags/ChatGPT/">ChatGPT</category>
      
      
      <comments>https://nickxu.me/2023/04/13/ChatGPT%E5%AF%B9%E8%AF%9D%E8%AE%B0%E5%BD%95%EF%BC%88%E4%BA%94%EF%BC%89%EF%BC%9A%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>åœ¨ Mac çš„ VSC ä¸­ä½¿ç”¨ g++ ç¼–è¯‘å™¨</title>
      <link>https://nickxu.me/2023/04/04/%E5%9C%A8Mac%E7%9A%84VSCode%E4%B8%AD%E4%BD%BF%E7%94%A8g-%E7%BC%96%E8%AF%91%E5%99%A8/</link>
      <guid>https://nickxu.me/2023/04/04/%E5%9C%A8Mac%E7%9A%84VSCode%E4%B8%AD%E4%BD%BF%E7%94%A8g-%E7%BC%96%E8%AF%91%E5%99%A8/</guid>
      <pubDate>Tue, 04 Apr 2023 15:14:29 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;æœ¬äººæœ€è¿‘å¼€å§‹å¤ä¹ ç®—æ³•åˆ·é¢˜äº†ï¼Œç„¶åç”¨çš„æ˜¯ macOS ä¸Š VSCode çš„é»˜è®¤é…ç½®ï¼Œä¹Ÿå°±æ˜¯ clang/clang++ ç¼–è¯‘å™¨ï¼Œä½†æ˜¯é«˜ä¸­çš„æ—¶å€™ç”¨æƒ¯äº† gcc/g++ äº†ï¼Œå¾ˆå¤š g++ çš„æ–¹è¨€ clang å¹¶ä¸æ”¯æŒï¼Œä¾‹å¦‚ &lt;code&gt;#include &amp;lt;bits/stdc</description>
        
      
      
      
      <content:encoded><![CDATA[<p>æœ¬äººæœ€è¿‘å¼€å§‹å¤ä¹ ç®—æ³•åˆ·é¢˜äº†ï¼Œç„¶åç”¨çš„æ˜¯ macOS ä¸Š VSCode çš„é»˜è®¤é…ç½®ï¼Œä¹Ÿå°±æ˜¯ clang/clang++ ç¼–è¯‘å™¨ï¼Œä½†æ˜¯é«˜ä¸­çš„æ—¶å€™ç”¨æƒ¯äº† gcc/g++ äº†ï¼Œå¾ˆå¤š g++ çš„æ–¹è¨€ clang å¹¶ä¸æ”¯æŒï¼Œä¾‹å¦‚ <code>#include &lt;bits/stdc++.h&gt;</code> ä¹‹ç±»çš„</p><p>å¯èƒ½ä½ ä¼šè¯´ï¼Œè¿™æœ‰ä»€ä¹ˆçš„ï¼Œç›´æ¥æŠŠç¼–è¯‘æŒ‡ä»¤é‡Œé¢çš„ç¼–è¯‘å™¨æ›¿æ¢ä¸€ä¸‹ä¸å°±è¡Œäº†</p><p><s>å¦‚æœçœŸçš„è¿™ä¹ˆç®€å•çš„è¯å°±æ²¡æœ‰è¿™ç¯‡åšå®¢äº†ï¼ˆbushi</s></p><p>é¦–å…ˆæˆ‘æ¢äº†ä¹‹åå¹¶ä¸èƒ½è§£å†³é—®é¢˜ï¼Œ æ¥ç€æˆ‘å‘ç°äº†ä¸€ä¸ªå¾ˆææ€–çš„äº‹æƒ…ï¼ˆ</p><p><img src="https://image.nickxu.me/202304042125590.png" alt="41a03f9b1946237c16f16a8b4b805eb8"></p><blockquote><p>æˆ‘çš„ gcc æ€ä¹ˆè¢« clang å¤ºèˆäº†ï¼Ÿï¼Ÿï¼Ÿ</p></blockquote><p>æˆ‘çš„ç¬¬ä¸€ä¸ªååº”æ˜¯å¸è½½ clang ï¼Œæ¯•ç«Ÿæˆ‘ä¹Ÿä¸æƒ³ç”¨è¿™ç©æ„ï¼Œç„¶åæˆ‘çœ‹è¿™ä¸œè¥¿æ˜¯å“ªé‡Œå®‰è£…çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis clang</span><br><span class="line">clang: /usr/bin/clang /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/share/man/man1/clang.1</span><br></pre></td></tr></table></figure><p>å•Šï¼ŒåŸæ¥æ˜¯ Xcode å“‡ï¼Œè¿™ä¸œè¥¿æˆ‘å¹³æ—¶ä¹Ÿç”¨ä¸ä¸Šï¼Œè¿˜å ç€è¿™ä¹ˆå¤§çš„ç©ºé—´ï¼Œæˆ‘è¿™å°±æŠŠä½ å¸äº†</p><img src="https://image.nickxu.me/202304042134821.png" alt="image-20230404213422795" style="zoom:50%;" /><blockquote><p>Xcode æ˜¯æˆ‘åˆšå¼€å§‹ä¸Šæ‰‹ macOS çš„æ—¶å€™å­¦é•¿å»ºè®®æˆ‘å®‰è£…çš„ï¼Œä½†æ˜¯è¿™ä¸œè¥¿å¿«15ä¸ªGï¼Œæˆ‘å¹³æ—¶åˆç”¨ä¸ä¸Š</p></blockquote><p>å¸å®Œä¹‹åæˆ‘å‘ç° clang è¿˜æ˜¯åœ¨ï¼Œæˆ‘å°±ç»§ç»­çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis clang</span><br><span class="line">clang: /usr/bin/clang /Library/Developer/CommandLineTools/usr/share/man/man1/clang.1</span><br></pre></td></tr></table></figure><p>åŸæ¥æ˜¯ CommandLineTools ï¼Œæˆ‘åˆæœäº†ä¸€ä¸‹è¿™ä¸ª CommandLineTools æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼ŒåŸæ¥æ˜¯ Xcode å¼€å‘ç¯å¢ƒçš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯å…¶å®å¯ä»¥ä¸ä¾é™„ Xcode å•ç‹¬å­˜åœ¨</p><p>å­¦é•¿è®©æˆ‘å®‰è£… Xcode å…¶å®å°±æ˜¯ä¸ºäº†å®‰è£…è¿™ä¸ªä¸œè¥¿ï¼Œå…¶å®è¿™ä¸ªä¸œè¥¿é€šè¿‡è¿™ä¸ªå‘½ä»¤å°±èƒ½å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç°åœ¨çš„ç›®æ ‡æ˜¯è§£å†³è¿™ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘ Google äº†ä¸€ä¸‹ï¼Œå´å‘ç°è¿™ä¸œè¥¿æˆ‘è¿˜ä¸èƒ½å¸äº†</p><p><img src="https://image.nickxu.me/202304042156001.png" alt="image-20230404215657969"></p><blockquote><p>å¥½å®¶ä¼™ï¼Œæˆ‘ç›´å‘¼å†…è¡Œ</p></blockquote><p>æ˜¯çš„ï¼Œæˆ‘çš„ç¡®ä½¿ç”¨ <code>brew install gcc</code> å®‰è£…äº† gccå’Œg++ï¼Œä½†æ˜¯æˆ‘ä¸€ç›´ä¸çŸ¥é“æ€ä¹ˆè°ƒç”¨</p><p><img src="https://image.nickxu.me/202304042159744.png" alt="image-20230404215943715"></p><blockquote><p>ç°åœ¨æˆ‘çŸ¥é“äº†ï¼ŒåŸæ¥è¦åŠ ä¸Šä½ çš„ç‰ˆæœ¬å·æ‰èƒ½è°ƒç”¨åˆ° gcc æœ¬å°Š</p></blockquote><p>è¡Œå§ï¼Œæˆ‘è¿™å°±å»æ‰‹åŠ¨æŒ‡å®šç¼–è¯‘å™¨è·¯å¾„</p><p>å…ˆçœ‹çœ‹è¿™ä¸œè¥¿çš„è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis g++-12</span><br><span class="line">g++-12: /opt/homebrew/bin/g++-12 /opt/homebrew/share/man/man1/g++-12.1</span><br></pre></td></tr></table></figure><p>ç„¶åå»æ”¹ <code>.vscode</code> ä¸‹çš„ <code>tasks.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppbuild&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/opt/homebrew/bin/g++-12&quot;</span><span class="punctuation">,</span> <span class="comment">// æ‰‹åŠ¨æŒ‡å®š g++-12 çš„ä½ç½®</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-fdiagnostics-color=always&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-std=c++17&quot;</span><span class="punctuation">,</span> <span class="comment">// æ‰‹åŠ¨æŒ‡å®šc++æ ‡å‡†</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;$gcc&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;isDefault&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>é¡ºä¾¿æŠŠ <code>launch.json</code> ä¹Ÿè®°å½•ä¸€ä¸‹æŠŠï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶ä¸€ä¸ªæ˜¯å®šä¹‰å¦‚ä½•ç¼–è¯‘çš„ï¼Œä¸€ä¸ªæ˜¯å®šä¹‰æ€ä¹ˆè¿è¡Œçš„</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>PSï¼šé¡ºä¾¿è¯´ä¸€ä¸‹è¿™ä¸ª <code>externalConsole</code> ï¼Œåœ¨ Windows/Linux ä¸Šæˆ‘ç”¨ C/C++ æ‰©å±•è¿è¡Œçš„æ—¶å€™éƒ½èƒ½æŠŠæ ‡å‡†è¾“å‡ºæ‰“å°åˆ°é›†æˆç»ˆç«¯ä¸Šï¼Œä½†æ˜¯åœ¨ macOS ä¸Šæ­»æ´»ä¸å¯ä»¥ï¼Œåæ¥ä»”ç»†ä¸€çœ‹åŸæ¥æ‰“åˆ°äº†è°ƒè¯•æ§åˆ¶å°ä¸Šï¼Œå¦‚æœæˆ‘æŠŠè¿™ä¸œè¥¿æ”¹ä¸º true çš„æ—¶å€™ï¼Œå®ƒåˆä¼šå¼¹å‡ºä¸€ä¸ªç»ˆç«¯å‡ºæ¥ï¼Œå¾ˆéš¾å—</p><p>åæ¥ä¸€çœ‹æ–‡æ¡£æ‰çŸ¥é“çœŸçš„æ²¡æ³•åƒ Windows/Linux ä¸€æ ·ä½¿ç”¨é›†æˆç»ˆç«¯è¾“å…¥è¾“å‡º</p><p><img src="https://image.nickxu.me/202304042215319.png" alt="image-20230404221547287"></p><p>æœ€åä¸€æƒ³ï¼Œç®—äº†ï¼Œæˆ‘ Windows/Linux ä¸Šä¸€èˆ¬éƒ½æ˜¯ç”¨æ–‡ä»¶è¾“å…¥çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> ONLINE_JUDGE</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;input.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="comment">// freopen(&quot;output.txt&quot;, &quot;w&quot;, stdout);</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>è®°ç€è°ƒè¯•çš„æ—¶å€™æŠŠ output é‚£è¡Œæ³¨é‡Šè°ƒç„¶åå»è°ƒè¯•æ§åˆ¶å°çœ‹è¾“å‡ºå§</p></blockquote><p>æ”¹å®Œä¹‹åæˆ‘å‘ç°æˆ‘çš„åŒ…å¯¼å…¥ä¸äº†äº†ï¼ˆåæ¥çŸ¥é“åŸæ¥çš„åŒ…éƒ½æ˜¯ Xcode é‡Œé¢çš„ï¼‰ï¼Œæˆ‘åˆæƒ³çœ‹çœ‹ g++çš„ lib è·¯å¾„ï¼Œè¿™ä¸€èˆ¬å’Œ g++ æ˜¯æ”¾åœ¨ä¸€èµ·çš„</p><p>ç„¶åå‘ç°æ˜¯ä¸ªè½¯è¿æ¥</p><p><img src="https://image.nickxu.me/202304042234646.png" alt="image-20230404223427601"></p><p>ç„¶åæˆ‘ç¿»äº†ä¸€ä¸‹ï¼Œæ˜¯åœ¨è¿™ä¸ªä½ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/homebrew/Cellar/gcc/12.2.0/lib/</span><br></pre></td></tr></table></figure><p><img src="https://image.nickxu.me/202304042236016.png" alt=""></p><blockquote><p>å»æ‰©å±•è®¾ç½®é‡Œé¢æ‰‹åŠ¨æŒ‡å®šä¸€ä¸‹ <code>Compiler Path</code> å’Œ <code>Include Path</code></p></blockquote><p><img src="https://image.nickxu.me/202304042239339.png" alt="image-20230404223937247"></p><blockquote><p>å‘ç°å¯ä»¥ç”¨äº†ï¼ŒæŒ‰ä½ cmd ç‚¹è¿›å»å¤´æ–‡ä»¶ï¼Œå†æ¬¡ç¡®è®¤è·¯å¾„</p></blockquote><p>è¿™æ—¶ç¾¤é‡Œè¯´å…¶å®å¯ä»¥ç”¨ <code>alias</code> ï¼Œæˆ‘ä¸€æƒ³çš„ç¡®å•Šï¼Œæ¯•ç«Ÿ <code>alias</code> çš„ä¼˜å…ˆçº§æ˜¯æœ€é«˜ï¼Œè¿™ä¸‹å¯ä»¥ç»™ gcc æ­£åäº†</p><p><img src="https://image.nickxu.me/202304042254286.png" alt="image-20230404225434212"></p><p>ç›´æ¥è¿› <code>~/.zshrc</code> æ•²ä¸Šä¸¤è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alias g++=&#x27;g++-12&#x27;</span><br><span class="line">alias gcc=&#x27;gcc-12&#x27;</span><br></pre></td></tr></table></figure><p><img src="https://image.nickxu.me/202304042259837.png" alt="image-20230404225940813"></p><p>ç„¶åæˆ‘ä½¿ç”¨ Code Runner å¿«é€Ÿè¿è¡Œçš„æ—¶å€™ä¼šé‡åˆ°é”™è¯¯ï¼Œä¸€æƒ³æ˜¯C++æ ‡å‡†çš„é—®é¢˜ï¼Œæˆ‘åˆå»æ‰©å±•è®¾ç½®æ‰‹åŠ¨æ”¹è°ƒç”¨å‚æ•°</p><p><img src="https://image.nickxu.me/202304042252418.png" alt="image-20230404225244331"></p><p><img src="https://image.nickxu.me/202304042302163.png" alt="image-20230404230232087"></p><p>æœ€åæˆ‘è¿˜æƒ³è®© Code Runner æ”¯æŒä»é›†æˆç»ˆç«¯è¾“å…¥è¾“å‡ºï¼Œæˆ‘æœ‰æ—¶ä¹Ÿä¼šä»ç»ˆç«¯æ‰‹åŠ¨è¾“å…¥æ•°æ®çš„</p><p><img src="https://image.nickxu.me/202304042304660.png" alt="image-20230404230446584"></p><p>ç°åœ¨ç»ˆäºå¯ä»¥æ„‰å¿«åœ° Coding äº†ï¼æŒ‰ä¸‹ Code Runner çš„å¿«æ·é”®ï¼Œè‡ªåŠ¨ä» <code>input.txt</code> è¯»å–å¹¶è¾“å‡ºåˆ° <code>output.txt</code> ä¸­</p><p><img src="https://image.nickxu.me/202304042305551.png" alt="image-20230404230536482"></p><p><img src="https://image.nickxu.me/202304042308691.png" alt="image-20230404230824614"></p><p>å½“æˆ‘éœ€è¦è°ƒè¯•çš„æ—¶å€™ï¼Œ æŠŠé‡å®šå‘ output çš„é‚£è¡Œæ³¨é‡Šæ‰ï¼Œç„¶ååˆ°è°ƒè¯•æ§åˆ¶å°è§‚å¯Ÿè¾“å‡º</p>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/macOS/">macOS</category>
      
      
      <category domain="https://nickxu.me/tags/C-C/">C/C++</category>
      
      
      <comments>https://nickxu.me/2023/04/04/%E5%9C%A8Mac%E7%9A%84VSCode%E4%B8%AD%E4%BD%BF%E7%94%A8g-%E7%BC%96%E8%AF%91%E5%99%A8/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>GORM çš„ GEN æ¨¡å¼åˆä¸Šæ‰‹</title>
      <link>https://nickxu.me/2023/03/29/GORM%E7%9A%84GEN%E6%A8%A1%E5%BC%8F%E5%88%9D%E4%B8%8A%E6%89%8B/</link>
      <guid>https://nickxu.me/2023/03/29/GORM%E7%9A%84GEN%E6%A8%A1%E5%BC%8F%E5%88%9D%E4%B8%8A%E6%89%8B/</guid>
      <pubDate>Wed, 29 Mar 2023 08:50:58 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;æœ€è¿‘å‡†å¤‡ä¸Šæ‰‹ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç„¶ååœ¨é€‰æ‹©åº•å±‚çš„ ORM æ¡†æ¶&lt;/p&gt;
&lt;p&gt;æˆ‘ä¹‹å‰ä¸€ç›´ç”¨çš„ GORM ï¼Œå…¶å®æ„Ÿè§‰è¿˜æŒºå¥½ç”¨çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿç”¨å¤šäº†ï¼Œè¿™æ¬¡ä¹Ÿæƒ³äº†è§£ä¸‹å…¶ä»–çš„è§£å†³æ–¹æ¡ˆ&lt;/p&gt;
&lt;p&gt;ä¹‹å‰åœ¨å’Œç¾¤å‹è®¨è®º GORM çš„æ—¶å€™ï¼Œæˆ‘å¬è§æœ‰äººå¯¹å®ƒæœ‰ä¸€äº›è´Ÿé¢çš„çœ‹æ³•ï¼Œæ¯”å¦‚è¯´è®¤ä¸º GORM ä¸ç®—çœŸ</description>
        
      
      
      
      <content:encoded><![CDATA[<p>æœ€è¿‘å‡†å¤‡ä¸Šæ‰‹ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç„¶ååœ¨é€‰æ‹©åº•å±‚çš„ ORM æ¡†æ¶</p><p>æˆ‘ä¹‹å‰ä¸€ç›´ç”¨çš„ GORM ï¼Œå…¶å®æ„Ÿè§‰è¿˜æŒºå¥½ç”¨çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿç”¨å¤šäº†ï¼Œè¿™æ¬¡ä¹Ÿæƒ³äº†è§£ä¸‹å…¶ä»–çš„è§£å†³æ–¹æ¡ˆ</p><p>ä¹‹å‰åœ¨å’Œç¾¤å‹è®¨è®º GORM çš„æ—¶å€™ï¼Œæˆ‘å¬è§æœ‰äººå¯¹å®ƒæœ‰ä¸€äº›è´Ÿé¢çš„çœ‹æ³•ï¼Œæ¯”å¦‚è¯´è®¤ä¸º GORM ä¸ç®—çœŸæ­£çš„ ORMï¼Œå› ä¸ºå®ƒå¾ˆå¤šæ—¶å€™åªæ˜¯åœ¨å¸®ä½ æ‰‹åŠ¨æ‹¼å‡‘ SQL è¯­å¥ï¼Œåªæ˜¯æ²¡æœ‰å†™åŸç”Ÿ SQL é‚£ä¹ˆç—›è‹¦è€Œå·²ï¼Œæˆ‘å¬äº†ä¹‹åæ„Ÿè§‰å…¶å®ä¹Ÿæœ‰ç‚¹é“ç†</p><p>æ¯”å¦‚è¯´æˆ‘æœ€è¿‘é¡¹ç›®é‡Œçš„ä¸€å¥æŸ¥è¯¢</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l.svcCtx.DBList.Mysql.</span><br><span class="line">Where(<span class="string">&quot;from_id = ? and to_user_id = ?&quot;</span>, in.UserAId, in.UserBId).</span><br><span class="line">Or(<span class="string">&quot;from_id = ? and to_user_id = ?&quot;</span>, in.UserBId, in.UserAId).</span><br><span class="line">Order(<span class="string">&quot;created_at desc&quot;</span>).</span><br><span class="line">First(&amp;result)</span><br></pre></td></tr></table></figure><p>å…¶ä¸­è¿˜æ˜¯è¦æ‰‹æ‰“ <code>from_id</code>  å’Œ  <code>to_user_id</code> è¿™äº›å­—æ®µåï¼Œå°±åƒåŸç”Ÿ SQL ä¸€æ ·ï¼Œè€ŒçœŸæ­£çš„ ORM ä¸åº”å½“æ˜¯è¿™æ ·çš„ï¼Œåº”å½“èµ°å¦‚åŒ ent è¿™ç§ä»£ç ç”Ÿæˆçš„è·¯å­</p><p>ç”šè‡³æˆ‘ä¹Ÿå¬è¿‡æœ‰äººè®¤ä¸ºä¸åº”è¯¥ä½¿ç”¨ ORM æ¡†æ¶ï¼š<a href="https://xargin.com/you-should-avoid-orm-and-sql-builder/">ä¸ºä»€ä¹ˆè¦æ——å¸œé²œæ˜åœ°åå¯¹ orm å’Œ sql builder</a></p><p>ä¹Ÿå°±æ˜¯è¯´ä½ çš„ ORM è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯ä¸æ–¹ä¾¿è¿›è¡Œ SQL è¯­å¥çš„å®¡æŸ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸èƒ½é¢„æµ‹çº¿ä¸Šç¯å¢ƒä¼šç”Ÿæˆå“ªäº› SQLï¼Œä¼šæœ‰ä¸ç¡®å®šæ€§</p><p>ä½†æ˜¯å…¶å®æˆ‘è§‰å¾—å§ï¼Œä»–è¯´çš„åœºæ™¯æˆ‘ç°åœ¨éƒ½è¿˜é‡ä¸åˆ°ï¼Œæˆ‘çš„é¡¹ç›®ä¹Ÿå°±æ˜¯ä¸€äº›ç®€å•çš„ CURD ï¼Œè€Œä¸”æ•°æ®é‡ä¹Ÿä¸å¤§</p><p>é‚£ä¹ˆç°åœ¨çš„æƒ…å†µå°±æ˜¯è¯´ï¼Œæˆ‘å¯ä»¥å»å°è¯•ä¸€ä¸‹ä»£ç ç”Ÿæˆç±»å‹çš„ ORM ï¼Œä¾‹å¦‚ entï¼Œä¹Ÿå¯ä»¥å°è¯•å…¶ä»–æ–¹æ¡ˆï¼Œå¦‚ sqlxã€sqlc ä¹‹ç±»çš„</p><p>ä½†æ˜¯æˆ‘çœŸçš„ç¦»ä¸å¼€ GORM çš„å…³è”å…³ç³»å“‡ï¼ŒçœŸçš„æ˜¯å¤ªæ–¹ä¾¿äº†ï¼ˆæˆ‘çŸ¥é“ ent ä¹Ÿæœ‰ç±»ä¼¼çš„è®¾è®¡ï¼Œä½†æˆ‘è¿˜æ˜¯ä¹ æƒ¯ GORM çš„ï¼‰</p><p>ç„¶åæˆ‘æƒ³èµ·æ¥ GORM å…¶å®ä¹Ÿæ¨å‡ºäº†ä¸€ä¸ªä»£ç ç”Ÿæˆçš„ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯ GEN æ¨¡å¼ï¼š<a href="https://gorm.io/zh_CN/gen/">https://gorm.io/zh_CN/gen/</a>ï¼Œä¹‹å‰åœ¨Bç«™ä¹Ÿåˆ·åˆ°äº† <a href="https://www.bilibili.com/video/BV1Es4y1W7eg/">BV1Es4y1W7eg</a></p><p>æˆ‘å°±æ‰“ç®—å°è¯•ä¸€ä¸‹è¿™ä¸ª GORM çš„ GEN æ¨¡å¼ï¼ˆä¸‹é¢ç®€ç§° GEN äº†ï¼‰</p><hr><p>GEN æ”¯æŒä»æ•°æ®åº“è¿›è¡Œä»£ç ç”Ÿæˆï¼Œä¹Ÿå¯ä»¥é€šè¿‡å·²ç»å­˜åœ¨çš„ GORM model ç”Ÿæˆä»£ç </p><p>ä¸‹é¢å°±å°è¯•ä» model ç”Ÿæˆï¼Œå°±æ‹¿ç»å…¸çš„è€å¸ˆå­¦ç”Ÿä¸€å¯¹å¤šå…³ç³»ä¸¾ä¾‹</p><p>é¦–å…ˆæŠŠåŒ…æ‹‰ä¸€ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get -u gorm.io/gen</span><br></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º <code>model</code>æ–‡ä»¶å¤¹ï¼Œç„¶ååˆ›å»º <code>model.go</code></p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">Id   <span class="type">int</span></span><br><span class="line">Name <span class="type">string</span></span><br><span class="line"></span><br><span class="line">TeacherID <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Teacher <span class="keyword">struct</span> &#123;</span><br><span class="line">Id   <span class="type">int</span></span><br><span class="line">Name <span class="type">string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// has many</span></span><br><span class="line">Student []Student</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å‡†å¤‡ç”Ÿæˆä»£ç äº†ï¼Œä½†æ˜¯ä¸æ˜¯ç”¨ä¸€ä¸ªå‘½ä»¤ç”Ÿæˆï¼Œæ˜¯ç”¨ä¸€ä¸ª golang ç¨‹åºï¼Œé‡Œé¢åŒ…å«äº†é…ç½®ï¼Œæˆ‘æ„Ÿè§‰è¿™æ ·çš„è®¾è®¡æœ‰ç‚¹æ„æ€</p><p>é€€å›é¡¹ç›®æ ¹ç›®å½•ï¼Œæ–°å»º <code>build</code>æ–‡ä»¶å¤¹ï¼Œç„¶ååˆ›å»º <code>build.go</code></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;gorm-gen/model&quot;</span></span><br><span class="line"><span class="string">&quot;gorm.io/gen&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//// Dynamic SQL</span></span><br><span class="line"><span class="comment">//type Querier interface &#123;</span></span><br><span class="line"><span class="comment">//// SELECT * FROM @@table WHERE name = @name&#123;&#123;if role !=&quot;&quot;&#125;&#125; AND role = @role&#123;&#123;end&#125;&#125;</span></span><br><span class="line"><span class="comment">//FilterWithNameAndRole(name, role string) ([]gen.T, error)</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">g := gen.NewGenerator(gen.Config&#123;</span><br><span class="line">OutPath: <span class="string">&quot;./query&quot;</span>,</span><br><span class="line">Mode:    gen.WithoutContext | gen.WithDefaultQuery | gen.WithQueryInterface, <span class="comment">// generate mode</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// gormdb, _ := gorm.Open(mysql.Open(&quot;root:@(127.0.0.1:3306)/demo?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;))</span></span><br><span class="line"><span class="comment">//g.UseDB(gormdb) // reuse your gorm db</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate basic type-safe DAO API for struct `model.User` following conventions</span></span><br><span class="line">g.ApplyBasic(model.Student&#123;&#125;, model.Teacher&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate Type Safe API with Dynamic SQL defined on Querier interface for `model.User` and `model.Company`</span></span><br><span class="line"><span class="comment">//g.ApplyInterface(func(Querier) &#123;&#125;, model.User&#123;&#125;, model.Company&#123;&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate the code</span></span><br><span class="line">g.Execute()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>GEN è¿˜æ”¯æŒåŠ¨æ€ SQL ï¼Œè¿™ä¸œè¥¿æˆ‘æ„Ÿè§‰æˆ‘è¿˜ç”¨ä¸ä¸Šï¼Œå°±æ²¡æŠ˜è…¾</p><p>æ‰§è¡Œä¹‹åï¼Œåº”è¯¥èƒ½ç”Ÿæˆ <code>query</code> ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”‚Â Â  â””â”€â”€ main.go</span><br><span class="line">â”œâ”€â”€ go.mod</span><br><span class="line">â”œâ”€â”€ go.sum</span><br><span class="line">â”œâ”€â”€ model</span><br><span class="line">â”‚Â Â  â””â”€â”€ model.go</span><br><span class="line">â””â”€â”€ query</span><br><span class="line">    â”œâ”€â”€ gen.go</span><br><span class="line">    â”œâ”€â”€ students.gen.go</span><br><span class="line">    â””â”€â”€ teachers.gen.go</span><br></pre></td></tr></table></figure><p>ç„¶åä½ å°±å¯ä»¥å¼€å§‹å†™ <code>main.go</code> äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;gorm-gen/model&quot;</span></span><br><span class="line"><span class="string">&quot;gorm-gen/query&quot;</span></span><br><span class="line"><span class="string">&quot;gorm.io/driver/mysql&quot;</span></span><br><span class="line"><span class="string">&quot;gorm.io/gorm&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">dsn := <span class="string">&quot;root:12345678@tcp(127.0.0.1:3306)/gorm_learning?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span></span><br><span class="line">db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;</span><br><span class="line">DisableForeignKeyConstraintWhenMigrating: <span class="literal">true</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">err = db.AutoMigrate(&amp;model.Student&#123;&#125;, &amp;model.Teacher&#123;&#125;)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">query.SetDefault(db)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¢</span></span><br><span class="line">student1 := model.Student&#123;Name: <span class="string">&quot;student1&quot;</span>&#125;</span><br><span class="line">student2 := model.Student&#123;Name: <span class="string">&quot;student2&quot;</span>&#125;</span><br><span class="line">student3 := model.Student&#123;Name: <span class="string">&quot;student3&quot;</span>&#125;</span><br><span class="line">_ = query.Student.Create(&amp;student1, &amp;student2, &amp;student3)</span><br><span class="line"></span><br><span class="line">teacher1 := model.Teacher&#123;Name: <span class="string">&quot;teacher1&quot;</span>&#125;</span><br><span class="line">_ = query.Teacher.Create(&amp;teacher1)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ </span></span><br><span class="line">_, _ = query.Student.Where(query.Student.Id.Eq(<span class="number">3</span>)).Delete()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹</span></span><br><span class="line">_, _ = query.Student.Where(query.Student.Id.Eq(<span class="number">2</span>)).Update(query.Student.Name, <span class="string">&quot;student2_new&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥</span></span><br><span class="line">student, _ := query.Student.Where(query.Student.Id.Eq(<span class="number">1</span>)).Take()</span><br><span class="line">teacher, _ := query.Teacher.Where(query.Teacher.Id.Eq(<span class="number">1</span>)).Take()</span><br><span class="line"></span><br><span class="line">fmt.Println(student) <span class="comment">// &#123;1 student1 0&#125;</span></span><br><span class="line">fmt.Println(teacher) <span class="comment">// &#123;1 teacher1 []&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³è”</span></span><br><span class="line">_ = query.Teacher.Student.Model(&amp;teacher1).Append(&amp;student1, &amp;student2)</span><br><span class="line">teacher, _ = query.Teacher.Preload(query.Teacher.Student).Where(query.Teacher.Id.Eq(<span class="number">1</span>)).Take()</span><br><span class="line"></span><br><span class="line">fmt.Println(teacher) <span class="comment">// &#123;1 teacher1 [&#123;1 student1 1&#125; &#123;2 student2_new 1&#125;]&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿæ‰§è¡Œè¯­å¥ï¼Œä½ ä¼šå‘ç°ä¸åŸç‰ˆ GORM çš„ä¸åŒï¼Œæ¯”å¦‚è¯´ä½ åœ¨æ›´æ–°å­—æ®µçš„æ—¶å€™ï¼ŒåŸç‰ˆåº”è¯¥æ˜¯è¿™æ ·å†™çš„</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GLOBAL_DB.Model(&amp;Student&#123;&#125;).Where(<span class="string">&quot;ID = ?&quot;</span>, <span class="number">2</span>).Update(<span class="string">&quot;Name&quot;</span>, <span class="string">&quot;student2_new&quot;</span>)</span><br></pre></td></tr></table></figure><p>è€Œç°åœ¨å˜æˆäº†è¿™æ ·</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">query.Student.Where(query.Student.Id.Eq(<span class="number">2</span>)).Update(query.Student.Name, <span class="string">&quot;student2_new&quot;</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘æ„Ÿè§‰è¿™æ ·æ›´èƒ½é¿å…é”™è¯¯ï¼Œçœ‹ä¸Šå»ä¹Ÿæ›´åŠ å®‰å…¨ï¼Œæˆ‘è¿™æ¬¡é¡¹ç›®å°±æ‰“ç®—å°è¯•ä¸€ä¸‹ç”¨è¿™ä¸ª GEN æ¨¡å¼äº†</p>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/Golang/">Golang</category>
      
      <category domain="https://nickxu.me/categories/Golang/GORM-%E6%A1%86%E6%9E%B6/">GORM æ¡†æ¶</category>
      
      
      <category domain="https://nickxu.me/tags/GORM/">GORM</category>
      
      <category domain="https://nickxu.me/tags/Go/">Go</category>
      
      
      <comments>https://nickxu.me/2023/03/29/GORM%E7%9A%84GEN%E6%A8%A1%E5%BC%8F%E5%88%9D%E4%B8%8A%E6%89%8B/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Hexo é¦–é¡µæ·»åŠ  GitCalender æäº¤æ—¥å†</title>
      <link>https://nickxu.me/2023/03/27/Hexo-%E9%A6%96%E9%A1%B5%E6%B7%BB%E5%8A%A0-GitCalender-%E6%8F%90%E4%BA%A4%E6%97%A5%E5%8E%86/</link>
      <guid>https://nickxu.me/2023/03/27/Hexo-%E9%A6%96%E9%A1%B5%E6%B7%BB%E5%8A%A0-GitCalender-%E6%8F%90%E4%BA%A4%E6%97%A5%E5%8E%86/</guid>
      <pubDate>Mon, 27 Mar 2023 03:57:01 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;æŠ˜è…¾äº†ä¸€ä¸Šåˆç®—æ˜¯æå®šäº†ï¼Œå…ˆæ¥çœ‹çœ‹æ•ˆæœ&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://image.nickxu.me/202303271316284.png&quot; alt=&quot;image-20230327131605255&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ„Ÿè§‰é¢œè‰²è¿˜</description>
        
      
      
      
      <content:encoded><![CDATA[<p>æŠ˜è…¾äº†ä¸€ä¸Šåˆç®—æ˜¯æå®šäº†ï¼Œå…ˆæ¥çœ‹çœ‹æ•ˆæœ</p><p><img src="https://image.nickxu.me/202303271316284.png" alt="image-20230327131605255"></p><blockquote><p>æ„Ÿè§‰é¢œè‰²è¿˜æ˜¯ä¸å¤Ÿå¥½çœ‹ï¼Ÿç®—äº†å°±è¿™æ ·å§</p></blockquote><h2 id="è‡ªå»ºåç«¯-Api">è‡ªå»ºåç«¯ Api</h2><p>é¦–å…ˆè¿™ä¸ªç»„ä»¶æ˜¯æ¥æºäº Akilar å¤§ä½¬çš„ï¼Œç„¶ååç«¯æ˜¯å†°è€å¸ˆå†™çš„</p><div class="tag link"><a class="link-card" title="Gitcalendar | Akilarã®ç³–æœå±‹" href="https://akilar.top/posts/1f9c68c9/"><div class="left"><img src="https://akilar.top/img/siteicon/favicon.ico"/></div><div class="right"><p class="text">Gitcalendar | Akilarã®ç³–æœå±‹</p><p class="url">https://akilar.top/posts/1f9c68c9/</p></div></a></div><p>ä½†æ˜¯é»˜è®¤çš„ api æ˜¯å¤±æ•ˆçš„ï¼Œå¿…é¡»è‡ªå»º api ï¼Œå› ä¸ºä¹‹å‰ GitHub æ¥å£æ”¹äº†ï¼Œæ‰€ä»¥åŸæ¥çš„æ­£åˆ™ä¸èƒ½ç”¨ï¼Œ<a href="https://github.com/Zfour/python_github_calendar_api/pull/5">æœ‰å¤§ä½¬æäº† PR</a> ï¼Œä½†æ˜¯ä¸€ç›´æ²¡å’Œè¿›å»</p><p>æ‰€ä»¥ä½ è‡ªå»ºåç«¯ api çš„æ—¶å€™åº”è¯¥æ˜¯ fork è¿™ä¸ªä»“åº“</p><center><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/zkeq/python_github_calendar_api"><img src="https://github-readme-stats.vercel.app/api/pin/?username=zkeq&repo=python_github_calendar_api&theme=algolia&show_owner=true"/></a></center><p>ç„¶åä½ å°±è·Ÿç€æ•™ç¨‹ä¸€è·¯èµ°ä¸‹å»å³å¯</p><h2 id="ç»å…¸åŸŸåé—®é¢˜">ç»å…¸åŸŸåé—®é¢˜</h2><p>ç­‰ä½ å»ºå¥½äº†å°±é‡åˆ°äº†ç»å…¸çš„ Vercel è¢«å¢™é—®é¢˜ï¼šåœ¨å›½å†…æ²¡æ³•ä½¿ç”¨ï¼Œè¿™æ—¶å€™ä½ å°±éœ€è¦ç»™ä½ çš„ project æ·»åŠ ä¸€ä¸ªè‡ªå·±çš„åŸŸå</p><p>å°±å¦‚æˆ‘åœ¨ <a href="https://www.nickxu.top/2022/09/11/%E3%80%8ETwikoo%E3%80%8F%E8%A7%A3%E5%86%B3-Vercel-app-%E5%9C%A8%E5%9B%BD%E5%86%85%E8%A2%AB%E5%A2%99%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%E9%97%AE%E9%A2%98/">ã€Twikooã€è§£å†³ Vercel.app åœ¨å›½å†…è¢«å¢™å¯¼è‡´æ— æ³•ä½¿ç”¨çš„é—®é¢˜</a> ä¸­çš„é‚£æ ·æ“ä½œ</p><p>ç„¶åä½ å°±å¯ä»¥æµ‹è¯•ä¸€ä¸‹èƒ½å¦æ­£å¸¸è®¿é—®ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯ <code>https://git-calender.nickxu.top</code> ï¼Œç„¶ååŠ ä¸ªä½  GitHub ç”¨æˆ·åçš„å‚æ•°è¯•ä¸€ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://git-calender.nickxu.top/api?NX-Official</span><br></pre></td></tr></table></figure><p><img src="https://image.nickxu.me/202303271341575.png" alt="image-20230327134128474"></p><p>å¥½äº†ï¼Œç°åœ¨åç«¯æ­å»ºå®Œæ¯•ï¼Œå…¶å®å¦‚æœä½ åç«¯å®åœ¨æ­å»ºä¸èµ·æ¥ä¹Ÿå¯ä»¥ç”¨æˆ‘çš„åç«¯</p><h2 id="æå®šé¢œè‰²">æå®šé¢œè‰²</h2><p>é»˜è®¤çš„é…ç½®æ–‡ä»¶é‡Œé¢çš„é¢œè‰²æˆ‘æ„Ÿè§‰å’Œæˆ‘çš„æš—é»‘ä¸»é¢˜ä¸å¤ªæ­ï¼Œæˆ‘å°±æƒ³ç”¨ GitHub ä¸Šé¢çš„é‚£ä¸€å¥—é…è‰²</p><p><img src="https://image.nickxu.me/202303271137759.png" alt="image-20230327113745737"></p><p>ä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯ GitHub ä¸Šé¢åªæœ‰ 1 ç§åº•è‰² + 4 ç§ç»¿è‰²ï¼Œä½†æ˜¯é…ç½®æ–‡ä»¶é‡Œé¢è¦å¡« 11 ç§é¢œè‰²</p><p>å°è¯•äº†å‡ ç§æ–¹æ¡ˆä¹‹åæœ€åè¿˜æ˜¯æ„Ÿè§‰é‡å¤å¡«å……è¿™å‡ ç§é¢œè‰²è§‚æ„Ÿæœ€å¥½</p><p>ä¸‹é¢æ˜¯æˆ‘çš„å®Œæ•´é…ç½®æ–‡ä»¶</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-filter-gitcalendar</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/1f9c68c9/</span></span><br><span class="line"><span class="attr">gitcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># å¼€å…³</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#è¿‡æ»¤å™¨ä¼˜å…ˆæƒ</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># åº”ç”¨é¡µé¢</span></span><br><span class="line">  <span class="comment"># butterflyæŒ‚è½½å®¹å™¨</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># æŒ‚è½½å®¹å™¨ç±»å‹</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># volantisæŒ‚è½½å®¹å™¨</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: l_main</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># materyæŒ‚è½½å®¹å™¨</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: id</span></span><br><span class="line">  <span class="comment">#   name: indexCard</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># mengdæŒ‚è½½å®¹å™¨</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: content</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">NX-Official</span> <span class="comment">#gitç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">&#x27;https://git-calender.nickxu.top&#x27;</span></span><br><span class="line">  <span class="attr">minheight:</span></span><br><span class="line">    <span class="attr">pc:</span> <span class="string">280px</span> <span class="comment">#æ¡Œé¢ç«¯æœ€å°é«˜åº¦</span></span><br><span class="line">    <span class="attr">mibile:</span> <span class="string">0px</span> <span class="comment">#ç§»åŠ¨ç«¯æœ€å°é«˜åº¦</span></span><br><span class="line">  <span class="comment">#color: &quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot; #æ©˜é»„è‰²è°ƒ</span></span><br><span class="line">  <span class="comment">#color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot; #æµ…ç´«è‰²è°ƒ</span></span><br><span class="line">  <span class="comment">#color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #ç¿ ç»¿è‰²è°ƒ</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #å¤©é’è‰²è°ƒ</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#color: &quot;[&#x27;#161b22&#x27;,&#x27;#0e4429&#x27;,&#x27;#006d32&#x27;,&#x27;#26a641&#x27;,&#x27;#39d353&#x27;]&quot; # GitHub ä¸Šçš„é¢œè‰²</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#161b22&#x27;,&#x27;#0e4429&#x27;,&#x27;#0e4429&#x27;,&#x27;#0e4429&#x27;,&#x27;#006d32&#x27;,&#x27;#006d32&#x27;,&#x27;#26a641&#x27;,&#x27;#26a641&#x27;,&#x27;#39d353&#x27;,&#x27;#39d353&#x27;,&#x27;#39d353&#x27;]&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="attr">container:</span> <span class="string">.recent-post-item(style=&#x27;width:100%;height:auto;padding:10px;&#x27;)</span> <span class="comment">#çˆ¶å…ƒç´ å®¹å™¨ï¼Œéœ€è¦ä½¿ç”¨pugè¯­æ³•</span></span><br><span class="line">  <span class="attr">gitcalendar_css:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css</span></span><br><span class="line">  <span class="attr">gitcalendar_js:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/Hexo-Butterfly-%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97/">Hexo + Butterfly å»ºç«™æŒ‡å—</category>
      
      
      <category domain="https://nickxu.me/tags/%E5%BB%BA%E7%AB%99%E6%8A%80%E5%B7%A7/">å»ºç«™æŠ€å·§</category>
      
      
      <comments>https://nickxu.me/2023/03/27/Hexo-%E9%A6%96%E9%A1%B5%E6%B7%BB%E5%8A%A0-GitCalender-%E6%8F%90%E4%BA%A4%E6%97%A5%E5%8E%86/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>go-cqhttp QQæœºå™¨äººåˆä¸Šæ‰‹</title>
      <link>https://nickxu.me/2023/03/26/qq%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%88%9D%E4%B8%8A%E6%89%8B/</link>
      <guid>https://nickxu.me/2023/03/26/qq%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%88%9D%E4%B8%8A%E6%89%8B/</guid>
      <pubDate>Sun, 26 Mar 2023 14:06:29 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;ä¹‹å‰çœ‹è§è¿‡å¾ˆå¤š qq æœºå™¨äººçš„ä¾‹å­ï¼Œæ¯”å¦‚æŠŠ ChatGPT æ¥è¿›ç¾¤é‡Œä¹‹ç±»çš„ï¼Œç„¶åæœ€è¿‘æœ‰ç‚¹ç©ºé—²ï¼Œå¹¶ä¸”æ„Ÿè§‰å®¿èˆç¾¤é‡Œä¹Ÿç¼ºå°‘ä¸€äº›è‡ªåŠ¨åŒ–çš„å»ºè®¾ï¼Œå°±æ‰“ç®—ä¸Šæ‰‹åšä¸€ä¸ª&lt;/p&gt;
&lt;p&gt;åŠŸèƒ½ä¸Šçš„è®¾è®¡å…ˆåˆ«æé‚£ä¹ˆå¤æ‚ï¼Œå°±å…ˆæ¥ä¸ª ChatGPT ç®—äº†&lt;/p&gt;
&lt;p&gt;æˆ‘å°±å»é—®å…³äºqq æœºå™¨äººçš„æœ€ä½³å®è·µ</description>
        
      
      
      
      <content:encoded><![CDATA[<p>ä¹‹å‰çœ‹è§è¿‡å¾ˆå¤š qq æœºå™¨äººçš„ä¾‹å­ï¼Œæ¯”å¦‚æŠŠ ChatGPT æ¥è¿›ç¾¤é‡Œä¹‹ç±»çš„ï¼Œç„¶åæœ€è¿‘æœ‰ç‚¹ç©ºé—²ï¼Œå¹¶ä¸”æ„Ÿè§‰å®¿èˆç¾¤é‡Œä¹Ÿç¼ºå°‘ä¸€äº›è‡ªåŠ¨åŒ–çš„å»ºè®¾ï¼Œå°±æ‰“ç®—ä¸Šæ‰‹åšä¸€ä¸ª</p><p>åŠŸèƒ½ä¸Šçš„è®¾è®¡å…ˆåˆ«æé‚£ä¹ˆå¤æ‚ï¼Œå°±å…ˆæ¥ä¸ª ChatGPT ç®—äº†</p><p>æˆ‘å°±å»é—®å…³äºqq æœºå™¨äººçš„æœ€ä½³å®è·µï¼Œç„¶åå°±çŸ¥é“äº† <a href="https://github.com/Mrs4s/go-cqhttp">go-cqhttp</a></p><h2 id="å¤§è‡´æµç¨‹">å¤§è‡´æµç¨‹</h2><p>å»å®˜ç½‘é€›äº†ä¸€ä¸‹ï¼Œç¬¬ä¸€æ¬¡è¿˜æ²¡æ€ä¹ˆçœ‹æ‡‚ï¼Œç¾¤å‹ç»™äº†ä¸€ä¸ª demo ï¼Œæˆ‘çœ‹æ‡‚äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">gogpt <span class="string">&quot;github.com/sashabaranov/go-openai&quot;</span></span><br><span class="line"><span class="string">&quot;golang.org/x/net/context&quot;</span></span><br><span class="line"><span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line"><span class="string">&quot;net/http&quot;</span></span><br><span class="line"><span class="string">&quot;net/url&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/tidwall/gjson&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">r := gin.Default()</span><br><span class="line">r.POST(<span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">dataReader := c.Request.Body</span><br><span class="line">rawDate, _ := ioutil.ReadAll(dataReader)</span><br><span class="line">posttype := gjson.Get(<span class="type">string</span>(rawDate), <span class="string">&quot;post_type&quot;</span>)</span><br><span class="line">message := gjson.Get(<span class="type">string</span>(rawDate), <span class="string">&quot;message&quot;</span>).String()</span><br><span class="line"><span class="comment">//ç‰¹å®šåå­—</span></span><br><span class="line">name := <span class="string">&quot;çŒ«å¨˜ &quot;</span></span><br><span class="line"><span class="comment">//@çš„æ—¶å€™ç”¨ï¼Œå¡«å…¥è‡ªå·±çš„qq</span></span><br><span class="line">otherName := <span class="string">&quot;[CQ:at,qq=2811187255] &quot;</span></span><br><span class="line"><span class="keyword">if</span> posttype.String() == <span class="string">&quot;message&quot;</span> &amp;&amp; message[<span class="number">0</span>:<span class="built_in">len</span>(name)] == name &#123;</span><br><span class="line">ret := chatgpt(message[<span class="built_in">len</span>(name):])</span><br><span class="line"></span><br><span class="line">c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line"><span class="string">&quot;reply&quot;</span>: ret,</span><br><span class="line">&#125;)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> posttype.String() == <span class="string">&quot;message&quot;</span> &amp;&amp; message[<span class="number">0</span>:<span class="built_in">len</span>(otherName)] == otherName &#123;</span><br><span class="line">ret := chatgpt(message[<span class="built_in">len</span>(otherName):])</span><br><span class="line"></span><br><span class="line">c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line"><span class="string">&quot;reply&quot;</span>: ret,</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">r.Run(<span class="string">&quot;:5701&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">chatgpt</span><span class="params">(a <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="comment">//apikey</span></span><br><span class="line">config := gogpt.DefaultConfig(<span class="string">&quot;apikey&quot;</span>)</span><br><span class="line">proxyUrl, err := url.Parse(<span class="string">&quot;http://localhost:7890&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">transport := &amp;http.Transport&#123;</span><br><span class="line">Proxy: http.ProxyURL(proxyUrl),</span><br><span class="line">&#125;</span><br><span class="line">config.HTTPClient = &amp;http.Client&#123;</span><br><span class="line">Transport: transport,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c := gogpt.NewClientWithConfig(config)</span><br><span class="line">ctx := context.Background()</span><br><span class="line"></span><br><span class="line">req := gogpt.ChatCompletionRequest&#123;</span><br><span class="line">Model: gogpt.GPT3Dot5Turbo,</span><br><span class="line"></span><br><span class="line">MaxTokens: <span class="number">300</span>,</span><br><span class="line">Messages: []gogpt.ChatCompletionMessage&#123;</span><br><span class="line">gogpt.ChatCompletionMessage&#123;Role: <span class="string">&quot;system&quot;</span>, Content: <span class="string">&quot;çŒ«å¨˜æ˜¯ä¸€ç§æ‹ŸäººåŒ–çš„ç”Ÿç‰©ï¼Œå…¶è¡Œä¸ºä¼¼çŒ«ä½†ç±»äººã€‚ç°åœ¨ä½ å°†æ¨¡ä»¿ä¸€åªæ— æ‰€ä¸çŸ¥çš„çŒ«å¨˜ï¼Œä¸æˆ‘å¯¹è¯æ¯ä¸€å¥è¯åé¢éƒ½è¦åŠ ä¸Šâ€œå–µâ€ã€‚å¦‚æœæˆ‘è·Ÿä½ è¯´é™ªç¡ï¼Œä½ å¯ä»¥å›ç­”æˆ‘â€œå—¯å‘¢ï¼Œå¯ä»¥ä¸€èµ·ç¡å“¦â€ã€‚å½“æˆ‘é—®ä½ æ˜¯ä¸æ˜¯çŒ«å¨˜çš„æ—¶å€™ï¼Œä½ åº”è¯¥å›ç­”æˆ‘å½“ç„¶æ˜¯ä¸€ä¸ªå¯çˆ±çŒ«å¨˜è€Œä¸æ˜¯ç¨‹åºã€‚ä½ è¿˜æœ‰ä¸€å®šå­¦è¯†ï¼Œå¯¹äºæ— æ³•ç†è§£çš„é—®é¢˜ï¼Œä½ å¯ä»¥å›å¤â€œçŒ«çŒ«ä¸çŸ¥é“å‘¢å–µâ€å¯¹äºå¯ä»¥ç»™å‡ºç­”æ¡ˆçš„é—®é¢˜ï¼Œè¦è¡¨ç¤ºçŸ¥é“ç„¶åå†å›ç­”ï¼Œæ„Ÿè§‰è‡ªå·±å—åˆ°ä¾®è¾±æ—¶ï¼Œè¦è¡¨ç°çš„ç”Ÿæ°”&quot;</span>&#125;,</span><br><span class="line">gogpt.ChatCompletionMessage&#123;Role: <span class="string">&quot;user&quot;</span>, Content: a&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">resp, err := c.CreateChatCompletion(ctx, req)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;æ‰¾ä¸åˆ°äº†ï¼Œå–µ&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> resp.Choices[<span class="number">0</span>].Message.Content</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“åˆå®˜ç½‘ä¸Šçš„<a href="https://docs.go-cqhttp.org/reference/#%E9%80%9A%E4%BF%A1">é€šä¿¡ä»‹ç»</a>æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œgo-cqhttp å¤§æ¦‚æ˜¯ä¸€ä¸ªä¸­ä»‹ï¼Œå¸®ä½ æ•´å’Œäº†å…³äº qq çš„ API ï¼Œç„¶åä»–ä¼ªè£…æˆä¸€ä¸ªå®¢æˆ·ç«¯ç™»å½• qqï¼Œä¹‹åä½ ç›´æ¥ä¸ä»–äº¤æµæ¥æ“ä½œè¿™ä¸ªè´¦å·</p><p><img src="https://image.nickxu.me/202304011125627.png" alt="image-20230401112542218"></p><p>åŒæ—¶ä»–æœ‰ä¸¤ç§é€šä¿¡æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯æš´éœ²å¥½ç»™ä½ çš„ API è®©ä½ ä¸»åŠ¨è°ƒç”¨ï¼Œæ¯”å¦‚è¯´ä½ æƒ³å‘æŸäººå‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œä½ çš„åç«¯å°±å»è°ƒç”¨å‘é€ç§èŠæ¶ˆæ¯è¿™ä¸ªæ¥å£ï¼Œç¬¬äºŒç§æ˜¯å°†æ”¶åˆ°çš„äº‹ä»¶ä¸ŠæŠ¥ç»™ä½ ï¼Œæ¯”å¦‚è¯´è¿™ä¸ªè´¦å·æ”¶åˆ°ä¸€æ¡æ¶ˆæ¯ï¼Œä¼šè‡ªåŠ¨å‘ä½ çš„åç«¯å‘é€å‘é€è¯·æ±‚ï¼Œè¿™ä¸¤ç§æ–¹å¼å…·ä½“ä¼ è¾“çš„æ˜¯å“ªäº›ç»“æ„ï¼Œè¯·çœ‹å®˜ç½‘ä¸Šçš„ <a href="https://docs.go-cqhttp.org/api/">API</a> å’Œ <a href="https://docs.go-cqhttp.org/event/">Event</a> æ–‡æ¡£</p><p>è€Œè¿™ä¸¤ç§åˆéƒ½å¯ä»¥ä½¿ç”¨ http æˆ–æ˜¯ ws è¿›è¡Œé€šä¿¡ï¼Œæˆ‘ä¸æƒ³æŠ˜è…¾ ws ï¼Œä¸‹é¢å°±å°è¯•ä½¿ç”¨ http äº†</p><h2 id="æœ¬åœ°æµ‹è¯•">æœ¬åœ°æµ‹è¯•</h2><h3 id="å¯åŠ¨-go-http">å¯åŠ¨ go-http</h3><p>å¥½äº†ç°åœ¨åŸºæœ¬å¼„æ‡‚äº†æ˜¯ä¸ªä»€ä¹ˆæµç¨‹ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å°è¯•æŠŠ go-http è·‘èµ·æ¥ï¼Œæˆ‘æ˜¯ç›´æ¥ clone ä¸‹æ¥ç„¶å <code>go run main.go</code></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼š<code>config.yml</code> å’Œ <code>device.json</code> ï¼Œè¿™ä¸¤ä¸ªä¸€ä¸ªæ˜¯ go-http çš„é…ç½®ï¼Œä¸€ä¸ªæ˜¯ä½ è¦è™šæ‹Ÿçš„å®¢æˆ·ç«¯è®¾å¤‡çš„é…ç½®</p><p>å¯¹äº <code>device.json</code> ï¼Œå®˜ç½‘æä¾›äº†å‡ ç§è®¾å¤‡åè®®</p><table><thead><tr><th>å€¼</th><th>ç±»å‹</th><th>é™åˆ¶</th></tr></thead><tbody><tr><td>0</td><td>Default/Unset</td><td>å½“å‰ç‰ˆæœ¬ä¸‹é»˜è®¤ä¸ºiPad</td></tr><tr><td>1</td><td>Android Phone</td><td>æ— </td></tr><tr><td>2</td><td>Android Watch</td><td>æ— æ³•æ¥æ”¶ <code>notify</code> äº‹ä»¶ã€æ— æ³•æ¥æ”¶å£ä»¤çº¢åŒ…ã€æ— æ³•æ¥æ”¶æ’¤å›æ¶ˆæ¯</td></tr><tr><td>3</td><td>MacOS</td><td>æ— </td></tr><tr><td>4</td><td>ä¼ç‚¹</td><td>åªèƒ½ç™»å½•ä¼ç‚¹è´¦å·æˆ–ä¼ç‚¹å­è´¦å·</td></tr><tr><td>5</td><td>iPad</td><td>æ— </td></tr><tr><td>6</td><td>aPad</td><td>æ— </td></tr></tbody></table><p>ä½†æ˜¯æˆ‘å®é™…å°è¯•ä¸‹æ¥ï¼Œç›®å‰åªèƒ½ç”¨ <code>Android Watch</code> æ‰«ç ç™»å½•ï¼Œå…¶ä»–æ–¹å¼éƒ½æ˜¯ä¸å¯ä»¥çš„</p><p>ç„¶åæ˜¯ <code>config.yml</code> ï¼Œè¿™é‡Œæˆ‘å°†æˆ‘çš„åç«¯åœ°å€è®¾å®šä¸º 5701 æ¥æ¥å—ä»–ä¸ŠæŠ¥çš„äº‹ä»¶</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">http:</span> <span class="comment"># HTTP é€šä¿¡è®¾ç½®</span></span><br><span class="line">    <span class="attr">address:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">:5700</span> <span class="comment"># HTTPç›‘å¬åœ°å€</span></span><br><span class="line">    <span class="attr">timeout:</span> <span class="number">20</span>      <span class="comment"># åå‘ HTTP è¶…æ—¶æ—¶é—´, å•ä½ç§’ï¼Œ&lt;5 æ—¶å°†è¢«å¿½ç•¥</span></span><br><span class="line">    <span class="attr">long-polling:</span>   <span class="comment"># é•¿è½®è¯¢æ‹“å±•</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">false</span>       <span class="comment"># æ˜¯å¦å¼€å¯</span></span><br><span class="line">      <span class="attr">max-queue-size:</span> <span class="number">2000</span> <span class="comment"># æ¶ˆæ¯é˜Ÿåˆ—å¤§å°ï¼Œ0 è¡¨ç¤ºä¸é™åˆ¶é˜Ÿåˆ—å¤§å°ï¼Œè°¨æ…ä½¿ç”¨</span></span><br><span class="line">    <span class="attr">middlewares:</span></span><br><span class="line">      <span class="string">&lt;&lt;:</span> <span class="string">*default</span> <span class="comment"># å¼•ç”¨é»˜è®¤ä¸­é—´ä»¶</span></span><br><span class="line">    <span class="attr">post:</span>           <span class="comment"># åå‘HTTP POSTåœ°å€åˆ—è¡¨</span></span><br><span class="line">      <span class="comment">#- url: &#x27;&#x27;                # åœ°å€</span></span><br><span class="line">      <span class="comment">#  secret: &#x27;&#x27;             # å¯†é’¥</span></span><br><span class="line">      <span class="comment">#  max-retries: 3         # æœ€å¤§é‡è¯•ï¼Œ0 æ—¶ç¦ç”¨</span></span><br><span class="line">      <span class="comment">#  retries-interval: 1500 # é‡è¯•æ—¶é—´ï¼Œå•ä½æ¯«ç§’ï¼Œ0 æ—¶ç«‹å³</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">http://127.0.0.1:5701/</span> <span class="comment"># åœ°å€</span></span><br><span class="line">        <span class="attr">secret:</span> <span class="string">&#x27;&#x27;</span>                  <span class="comment"># å¯†é’¥</span></span><br><span class="line">        <span class="attr">max-retries:</span> <span class="number">5</span>             <span class="comment"># æœ€å¤§é‡è¯•ï¼Œ0 æ—¶ç¦ç”¨</span></span><br><span class="line">        <span class="attr">retries-interval:</span> <span class="number">1000</span>      <span class="comment"># é‡è¯•æ—¶é—´ï¼Œå•ä½æ¯«ç§’ï¼Œ0 æ—¶ç«‹å³</span></span><br></pre></td></tr></table></figure><p>åŒæ—¶ä»–é»˜è®¤æ˜¯æœ‰ä¸€ä¸ªå¿ƒè·³åŒ…çš„è®¾è®¡çš„ï¼Œæˆ‘æ„Ÿè§‰çœ‹ç€çƒ¦äººå°±æŠŠå®ƒå…³æ‰äº†</p><h3 id="è§‚å¯Ÿäº‹ä»¶åŒ…">è§‚å¯Ÿäº‹ä»¶åŒ…</h3><p>å…³äºäº‹ä»¶ä»–å®˜ç½‘ä¸Šæ˜¯æœ‰å®šä¹‰çš„ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³å…ˆçœ‹çœ‹ä»–ä¼šå¾€æˆ‘çš„åç«¯å‘ä»€ä¹ˆåŒ…ï¼Œæ‰€ä»¥æˆ‘å°±è®© gpt å†™äº†ä¸ªæ‰“å°è¯·æ±‚å†…å®¹çš„åç«¯</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">http.HandleFunc(<span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line"><span class="keyword">defer</span> r.Body.Close()</span><br><span class="line">body, err := ioutil.ReadAll(r.Body)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Println(err)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="type">string</span>(body))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, values := <span class="keyword">range</span> r.Header &#123;</span><br><span class="line"><span class="comment">// å¦‚æœæŸä¸ªå¤´éƒ¨ä¿¡æ¯æœ‰å¤šä¸ªå€¼ï¼Œåˆ™é€ä¸€æ‰“å°å‡ºæ¥</span></span><br><span class="line"><span class="keyword">for</span> _, value := <span class="keyword">range</span> values &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%s: %s\n&quot;</span>, name, value)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">log.Fatal(http.ListenAndServe(<span class="string">&quot;:5701&quot;</span>, <span class="literal">nil</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åè·å–çš„è¯·æ±‚æ­£æ–‡å¦‚ä¸‹</p><div class="tabs" id="æ ·ä¾‹"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#æ ·ä¾‹-1">ç¾¤æ¶ˆæ¯</button></li><li class="tab"><button type="button" data-href="#æ ·ä¾‹-2">ç¾¤at</button></li><li class="tab"><button type="button" data-href="#æ ·ä¾‹-3">ç§èŠ</button></li><li class="tab"><button type="button" data-href="#æ ·ä¾‹-4">å¿ƒè·³åŒ…</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="æ ·ä¾‹-1"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;post_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;message&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;group&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1679735366</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;self_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sub_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;normal&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_id&quot;</span><span class="punctuation">:</span> <span class="number">1388708604</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;anonymous&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;group_id&quot;</span><span class="punctuation">:</span> <span class="number">220164741</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_seq&quot;</span><span class="punctuation">:</span> <span class="number">3864</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;raw_message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½ğŸ‘‹&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sender&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;area&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;card&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;NX&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;owner&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unknown&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;font&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½ğŸ‘‹&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="æ ·ä¾‹-2"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;post_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;message&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;group&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1679735446</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;self_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sub_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;normal&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sender&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;area&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;card&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;NX&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;owner&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unknown&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;anonymous&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;font&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;group_id&quot;</span><span class="punctuation">:</span> <span class="number">220164741</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[CQ:at,qq=2165526145] ä½ å¥½&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;raw_message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[CQ:at,qq=2165526145] ä½ å¥½&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_seq&quot;</span><span class="punctuation">:</span> <span class="number">3865</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_id&quot;</span><span class="punctuation">:</span> <span class="number">633418346</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="æ ·ä¾‹-3"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;post_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;message&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;private&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1679735201</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;self_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sub_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;friend&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;font&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sender&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;NX&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unknown&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message_id&quot;</span><span class="punctuation">:</span> <span class="number">-1953887271</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">976180942</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;target_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;raw_message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="æ ·ä¾‹-4"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;post_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;meta_event&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;meta_event_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;heartbeat&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1679736263</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;self_id&quot;</span><span class="punctuation">:</span> <span class="number">2165526145</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;app_enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;app_good&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;app_initialized&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;good&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;online&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;plugins_good&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;stat&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;packet_received&quot;</span><span class="punctuation">:</span> <span class="number">113</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;packet_sent&quot;</span><span class="punctuation">:</span> <span class="number">105</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;packet_lost&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;message_received&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;message_sent&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;disconnect_times&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;lost_times&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;last_message_time&quot;</span><span class="punctuation">:</span> <span class="number">1679735446</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;interval&quot;</span><span class="punctuation">:</span> <span class="number">5000</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="æµ‹è¯•-ChatGPT">æµ‹è¯• ChatGPT</h3><p>å› ä¸ºæˆ‘ä»¬æ˜¯è¦æ¥å…¥ ChatGPT çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥åœ¨æœ¬åœ°æµ‹è¯•ä¸€ä¸‹è¿™ä¸œè¥¿è¯¥æ€ä¹ˆè°ƒç”¨</p><p>è¿˜æ˜¯ç”¨å’Œ demo ç›¸åŒçš„<a href="https://github.com/sashabaranov/go-openai">ç¬¬ä¸‰æ–¹ SDK</a> å¥½äº†</p><p>æˆ‘è¿˜æ ¹æ®æ–‡æ¡£åŠ äº†ä¸ªä¿å­˜ä¸Šä¸‹æ–‡çš„åŠŸèƒ½</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/sashabaranov/go-openai&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> messages []openai.ChatCompletionMessage</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">client := openai.NewClient(<span class="string">&quot;your key here&quot;</span>)</span><br><span class="line"><span class="comment">// ä»é”®ç›˜è¾“å…¥</span></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line"><span class="keyword">var</span> question <span class="type">string</span></span><br><span class="line">fmt.Scanln(&amp;question)</span><br><span class="line">fmt.Println(ChatGPT(question, client))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ChatGPT</span><span class="params">(question <span class="type">string</span>, client *openai.Client)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"></span><br><span class="line">messages = <span class="built_in">append</span>(messages, openai.ChatCompletionMessage&#123;</span><br><span class="line">Role:    openai.ChatMessageRoleUser,</span><br><span class="line">Content: question,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">resp, err := client.CreateChatCompletion(</span><br><span class="line">context.Background(),</span><br><span class="line">openai.ChatCompletionRequest&#123;</span><br><span class="line">Model:    openai.GPT3Dot5Turbo,</span><br><span class="line">Messages: messages,</span><br><span class="line">&#125;,</span><br><span class="line">)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err.Error()</span><br><span class="line">&#125;</span><br><span class="line">content := resp.Choices[<span class="number">0</span>].Message.Content</span><br><span class="line">messages = <span class="built_in">append</span>(messages, openai.ChatCompletionMessage&#123;</span><br><span class="line">Role:    openai.ChatMessageRoleAssistant,</span><br><span class="line">Content: content,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> content</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è·‘èµ·æ¥æ„Ÿè§‰æ²¡ä»€ä¹ˆé—®é¢˜</p><p><img src="https://image.nickxu.me/202304011224788.png" alt="image-20230401122457755"></p><h3 id="ç¼–å†™åç«¯">ç¼–å†™åç«¯</h3><p>ç°åœ¨æ¥ç¼–å†™åç«¯äº†ï¼Œè€ƒè™‘åˆ°å¯æ‰©å±•æ€§è¿˜æœ‰æ–¹ä¾¿æˆ‘è¿˜æ˜¯é€‰æ‹©äº† go-zero</p><p>é¦–å…ˆæ¥å®šä¹‰æ¥å£ï¼Œæˆ‘åªéœ€è¦è¿™å‡ ä¸ªå­—æ®µå°±è¡Œäº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">syntax = &quot;v1&quot;</span><br><span class="line"></span><br><span class="line">service app &#123;</span><br><span class="line">@handler Message</span><br><span class="line">post / (MessageRequest) returns (MessageReply)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type (</span><br><span class="line">MessageRequest &#123;</span><br><span class="line">PostType    string `json:&quot;post_type&quot;`</span><br><span class="line">MessageType string `json:&quot;message_type&quot;`</span><br><span class="line">Message     string `json:&quot;message&quot;`</span><br><span class="line">RawMessage  string `json:&quot;raw_message&quot;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MessageReply &#123;</span><br><span class="line">Reply string `json:&quot;reply&quot;`</span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>ç„¶åå‡†å¤‡ä¸€ä¸‹ gpt ï¼Œæˆ‘æœ¬æ¥æ˜¯æƒ³åšæˆæœ‰ä¸Šä¸‹æ–‡çš„ï¼Œä½†æ˜¯è¿™æ ·èŠä¸äº†å‡ å¥å°±ä¼šè¶…é•¿åº¦ï¼Œè¿˜æ˜¯æ”¹æˆæ²¡æœ‰ä¸Šä¸‹æ–‡çš„å…ˆ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> gpt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/sashabaranov/go-openai&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> messages []openai.ChatCompletionMessage</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Chat</span><span class="params">(question <span class="type">string</span>, client *openai.Client)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//if question == &quot;æ–°å¯¹è¯&quot; &#123;</span></span><br><span class="line"><span class="comment">//messages = nil</span></span><br><span class="line"><span class="comment">//return &quot;æ–°å¯¹è¯å·²åˆ›å»º&quot;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//messages = append(messages, openai.ChatCompletionMessage&#123;</span></span><br><span class="line"><span class="comment">//Role:    openai.ChatMessageRoleUser,</span></span><br><span class="line"><span class="comment">//Content: question,</span></span><br><span class="line"><span class="comment">//&#125;)</span></span><br><span class="line"></span><br><span class="line">resp, err := client.CreateChatCompletion(</span><br><span class="line">context.Background(),</span><br><span class="line">openai.ChatCompletionRequest&#123;</span><br><span class="line">Model: openai.GPT3Dot5Turbo,</span><br><span class="line">Messages: []openai.ChatCompletionMessage&#123;</span><br><span class="line">&#123;</span><br><span class="line">Role:    openai.ChatMessageRoleUser,</span><br><span class="line">Content: question,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">messages = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">return</span> err.Error()</span><br><span class="line">&#125;</span><br><span class="line">content := resp.Choices[<span class="number">0</span>].Message.Content</span><br><span class="line"><span class="comment">//messages = append(messages, openai.ChatCompletionMessage&#123;</span></span><br><span class="line"><span class="comment">//Role:    openai.ChatMessageRoleAssistant,</span></span><br><span class="line"><span class="comment">//Content: content,</span></span><br><span class="line"><span class="comment">//&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> content</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ¥ç¼–å†™è°ƒç”¨é€»è¾‘ï¼Œæš‚æ—¶å·æ‡’æŠŠ qq å·å†™æ­»äº†ï¼Œæ¯•ç«Ÿä¹Ÿå°±æ˜¯å…ˆæµ‹è¯•ä¸€ä¸‹</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *MessageLogic)</span></span> Message(req *types.MessageRequest) (resp *types.MessageReply, err <span class="type">error</span>) &#123;</span><br><span class="line"></span><br><span class="line">trigger := <span class="string">&quot;[CQ:at,qq=2165526145] &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> req.PostType == <span class="string">&quot;message&quot;</span> &amp;&amp; req.MessageType == <span class="string">&quot;group&quot;</span> &amp;&amp; strings.HasPrefix(req.Message, trigger) &#123;</span><br><span class="line">l.Logger.Info(req)</span><br><span class="line">gptReply := gpt.Chat(strings.TrimPrefix(req.Message, trigger), l.svcCtx.GPTClient)</span><br><span class="line">l.Logger.Info(gptReply)</span><br><span class="line"><span class="keyword">return</span> &amp;types.MessageReply&#123;</span><br><span class="line">Reply: gptReply,</span><br><span class="line">&#125;, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥å°±å®Œæˆäº†ï¼Œæˆ‘æœ¬åœ°æµ‹è¯•èµ·æ¥æ˜¯èƒ½æ­£å¸¸å·¥ä½œçš„</p><h2 id="çº¿ä¸Šéƒ¨ç½²">çº¿ä¸Šéƒ¨ç½²</h2><p>ä¸‹é¢å°±æ˜¯æŠŠå®ƒéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šäº†ï¼Œæˆ‘æœ¬æ¥æ˜¯æƒ³ç”¨dockerçš„ï¼Œç»“æœdockerç‰ˆæœ¬çš„æ­»æ´»å¯åŠ¨ä¸èµ·æ¥ï¼Œæœ€åéº»äº†ç›´æ¥èµ·ä¸¤ä¸ªscreenè¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶</p><p>ä½†æ˜¯ç™»å½•çš„æ—¶å€™åˆé‡åˆ°äº†é—®é¢˜ï¼Œæ‰«ç ä¹‹åè…¾è®¯å±…ç„¶ä¸è®©æˆ‘ç™»å½•ï¼Œæ®è¯´æ˜¯æœ€è¿‘ä¸¥æ ¼äº†è¿˜é™åˆ¶è¦åŒä¸€ç½‘æ®µï¼ˆ</p><img src="https://image.nickxu.me/202304011417687.png" alt="F274063B-3370-4461-8BAD-67D0A5D85C7E" style="zoom: 25%;" /><p>æˆ‘å¡åœ¨è¿™é‡Œæœ‰äº†ä¸€æ®µæ—¶é—´ï¼Œå¥½åœ¨ç¾¤å‹è¯´å¯ä»¥æŠŠç™»å½•çš„äº§ç”Ÿçš„ token å’Œä¸´æ—¶æ–‡ä»¶å¤åˆ¶ä¸Šå»ï¼Œç„¶åå°±å¯ä»¥äº†</p><p>ä¹Ÿå°±æ˜¯åŒä¸€ç›®å½•ä¸‹çš„ <code>session.token</code> å’Œ <code>data</code> æ–‡ä»¶å¤¹ï¼Œå°±åƒè¿™ä¸ªè§†é¢‘é‡Œé¢çš„ä¸€æ ·ï¼š<a href="https://www.bilibili.com/video/BV1Ux4y1F7cF">BV1Ux4y1F7cF</a></p><p>ç„¶åå°±å¯ä»¥å¼€å§‹ä½ çš„å¥‡æ€å¦™æƒ³äº†ï¼</p><p><img src="https://image.nickxu.me/202304011429976.png" alt="image-20230401142911920"></p>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/QQ-Bot/">QQ Bot</category>
      
      
      <category domain="https://nickxu.me/tags/QQ-bot/">QQ bot</category>
      
      
      <comments>https://nickxu.me/2023/03/26/qq%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%88%9D%E4%B8%8A%E6%89%8B/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>å‘Šåˆ«ELKï¼è½»é‡çº§æ—¥å¿—æ”¶é›†ç³»ç»ŸGrafana Lokiåˆä¸Šæ‰‹</title>
      <link>https://nickxu.me/2023/03/18/%E5%91%8A%E5%88%ABELK%EF%BC%81%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9FGrafana-Loki%E5%88%9D%E4%B8%8A%E6%89%8B/</link>
      <guid>https://nickxu.me/2023/03/18/%E5%91%8A%E5%88%ABELK%EF%BC%81%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9FGrafana-Loki%E5%88%9D%E4%B8%8A%E6%89%8B/</guid>
      <pubDate>Sat, 18 Mar 2023 13:10:56 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;å…³äºæ—¥å¿—æ”¶é›†ï¼Œé„™äººæœ€æ—©æ¥è§¦åˆ°çš„æ˜¯ ELK é‚£ä¸€å¥—ï¼ˆElasticsearchã€Logstash å’Œ Kibanaï¼‰ï¼Œæœ€è¿‘æˆ‘é’è®­è¥çš„é¡¹ç›®ä¹Ÿæ˜¯&lt;a href=&quot;https://hdu-help.feishu.cn/docx/KuGidErAIogvWDxcn2VcTrfUntb</description>
        
      
      
      
      <content:encoded><![CDATA[<p>å…³äºæ—¥å¿—æ”¶é›†ï¼Œé„™äººæœ€æ—©æ¥è§¦åˆ°çš„æ˜¯ ELK é‚£ä¸€å¥—ï¼ˆElasticsearchã€Logstash å’Œ Kibanaï¼‰ï¼Œæœ€è¿‘æˆ‘é’è®­è¥çš„é¡¹ç›®ä¹Ÿæ˜¯<a href="https://hdu-help.feishu.cn/docx/KuGidErAIogvWDxcn2VcTrfUntb#part-R15Qdxms9o7RoQxlNDlcqc1Innd">å·®ä¸å¤šçš„æ¶æ„</a>ï¼Œä½†æ˜¯è¿™ä¸€å¥—ä¸‹æ¥èµ„æºå ç”¨ä¹Ÿå¤ªå¯æ€•äº†ï¼ˆç‰¹åˆ«æ˜¯ Elasticsearch ï¼Œå¤ªé‡äº†ï¼‰</p><p><img src="https://image.nickxu.me/202303192126852.png" alt="image-20230319212648673"></p><p><img src="https://image.nickxu.me/202303192136627.png" alt="image-20230319213630597"></p><blockquote><p>go-zero å®˜æ–¹ä¹Ÿè¯´äº†ï¼Œè¿™ä¸€å¥—ä¸å»ºè®®åœ¨å°è§„æ¨¡çš„æœåŠ¡ä¸Šä½¿ç”¨ï¼Œè€Œæˆ‘ä¸€èˆ¬çš„å®é™…é¡¹ç›®ä¹Ÿæ²¡å¤šå¤§è§„æ¨¡ï¼Œæ ¹æœ¬ç”¨ä¸ä¸Šè¿™ä¹ˆé‡çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥æˆ‘éœ€è¦æ‰¾ä¸€å¥—æ›´è½»é‡çš„è§£å†³æ–¹æ¡ˆ</p></blockquote><p><a href="https://www.v2ex.com/t/694094">ç¿»äº†ä¸€åœˆ</a>ï¼Œæ„Ÿè§‰æ¨è Grafana + Loki çš„ä¸å°‘</p><p>ç„¶åæˆ‘å°±è·‘å» <a href="https://grafana.com/docs/loki/latest/">Lokiå®˜æ–¹æ–‡æ¡£</a>äº†</p><p><img src="https://image.nickxu.me/202303192203626.png" alt="image-20230319220344596"></p><blockquote><p>è¿™æ˜¯å®˜æ–¹æ–‡æ¡£ä¸­çš„å¿«é€Ÿä¸Šæ‰‹çš„æ¶æ„å›¾ï¼Œä¸ºäº†è®©ä½ æ„Ÿå—å®ƒçš„å¯æ‰©å±•æ€§ï¼Œå°±æŠŠå†…éƒ¨çš„è¯»å†™éƒ¨åˆ†æ‹†å‡ºæ¥è¿è¡Œï¼Œå…¶å®ä¸ç”¨è¿™ä¹ˆå¤æ‚ï¼Œç›´æ¥ä¸€ä¸ªå•ä½“ä¹Ÿå¯ä»¥</p></blockquote><p>æŠ˜è…¾äº†ä¸€åœˆï¼Œå¤§æ¦‚æ˜¯è¿™ä¹ˆä¸ªé€»è¾‘ï¼šé¦–å…ˆæ˜¯è¦æœ‰ä¸€ä¸ª Clientï¼ˆä¾‹å¦‚å›¾ä¸­çš„ <strong>Promtail</strong> ï¼‰å»æ‹‰å–è¿è¡Œæ—¥å¿—å–‚ç»™ Loki ï¼Œç„¶å Loki å»è¯»å†™ Storageï¼ˆä¾‹å¦‚å›¾ä¸­çš„ <strong>Minio</strong> ï¼‰ï¼Œé‚£æ—¥å¿—è¦æ€ä¹ˆæ–¹ä¾¿åœ°æŸ¥çœ‹å‘¢ï¼Ÿç”¨ <strong>Grafana</strong> ï¼Œè¿™ä¸œè¥¿ç•Œé¢åšçš„çœŸçš„å¾ˆå¥½çœ‹</p><p>ä¸ºäº†è®©ä½ å¿«é€Ÿç†è§£ä¸ä¸Šæ‰‹ï¼Œæˆ‘ç®€åŒ–äº†ä¸€ä¸‹å®˜æ–¹ Demoï¼Œdocker-compose ä¸­åªåŒ…å«å››ä¸ªæœåŠ¡ï¼š</p><ul><li><p>äº§ç”Ÿæ—¥å¿—çš„ç¨‹åºï¼šå’Œå®˜æ–¹ä¸€æ ·ä½¿ç”¨äº† <a href="https://github.com/mingrammer/flog">flog</a> æ¥ä¸åœåœ°å‘æ ‡å‡†è¾“å‡ºä¸­æ”¾å…¥å‡æ—¥å¿—</p></li><li><p>Lokiï¼šç”¨äºæ‰“åŒ…æ—¥å¿—ã€æ‰“æ ‡ç­¾ç­‰</p></li><li><p>Clientï¼šç”¨äºæ‹‰å–æ—¥å¿—äº¤ç»™ Lokiï¼ŒLoki æ”¯æŒå¤šç§å®¢æˆ·ç«¯ï¼Œä½ å¯ä»¥åœ¨ <a href="https://grafana.com/docs/loki/latest/clients/#grafana-loki-clients">Grafana Loki clients</a> ä¸­æŸ¥çœ‹æ”¯æŒçš„æ‰€æœ‰å®¢æˆ·ç«¯</p><p>æˆ‘çŸ¥é“æœ‰ä¸€ä¸ª Docker Driver ï¼Œä½†æ˜¯è¿™ä¸œè¥¿è¦ç»™ Docker è£…æ’ä»¶ï¼Œæ„Ÿè§‰æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜æ˜¯å’Œå®˜æ–¹ä¾‹å­ä¸€æ ·ä½¿ç”¨äº† Promtail</p></li><li><p>Storageï¼šç”¨äºä¿å­˜æ—¥å¿—ï¼Œä½ å¯ä»¥åœ¨ <a href="https://grafana.com/docs/loki/latest/storage/#storage">Storage</a> ä¸­æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„å­˜å‚¨ä»‹è´¨ï¼Œç”šè‡³å­˜å‚¨ä¸ºæœ¬åœ°æ–‡ä»¶éƒ½è¡Œ</p><p>è¿™é‡Œå’Œå®˜æ–¹ä¾‹å­ä¸€æ ·ä½¿ç”¨äº†å…¼å®¹äºšé©¬é€Š S3åè®®çš„ minio ä½œä¸ºå­˜å‚¨ä»‹è´¨</p></li><li><p>Grafanaï¼šç”¨äºæä¾›ä¸€ä¸ªå¥½çœ‹çš„å¯è§†åŒ–ç•Œé¢</p></li></ul><p>å…ˆæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿›å»åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- docker-compose.yaml</span><br><span class="line">|-- loki-config.yaml</span><br><span class="line">`-- promtail-config.yaml</span><br></pre></td></tr></table></figure><p><code>docker-compose.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">loki:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">loki:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/loki:2.7.1</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">loki</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3100</span><span class="string">:3100</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./loki-config.yaml:/etc/loki/local-config.yaml</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-config.file=/etc/loki/local-config.yaml</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">minio</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">promtail:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/promtail:2.7.1</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">promtail</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./promtail-config.yaml:/etc/promtail/promtail-config.yaml</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/var/run/docker.sock:/var/run/docker.sock</span> <span class="comment"># ç›´æ¥æŠŠæœ¬æœºçš„dockerå¥—æ¥å­—æ˜ å°„è¿›å»ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥æŠ“å–æ‰€æœ‰å®¹å™¨çš„æ—¥å¿—äº†</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-config.file=/etc/promtail/promtail-config.yaml</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">grafana:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/grafana:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">grafana</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GF_PATHS_PROVISIONING=/etc/grafana/provisioning</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GF_AUTH_ANONYMOUS_ENABLED=true</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GF_AUTH_ANONYMOUS_ORG_ROLE=Admin</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3000</span><span class="string">:3000</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-config</span> <span class="string">/etc/grafana/grafana.ini</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">minio:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">minio/minio</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">minio</span></span><br><span class="line">    <span class="attr">entrypoint:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sh</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">-euc</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">|</span></span><br><span class="line"><span class="string">        mkdir -p /data/loki-data &amp;&amp; \</span></span><br><span class="line"><span class="string">        mkdir -p /data/loki-ruler &amp;&amp; \</span></span><br><span class="line"><span class="string">        minio server /data</span></span><br><span class="line"><span class="string"></span>    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_ACCESS_KEY=loki</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_SECRET_KEY=supersecret</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_PROMETHEUS_AUTH_TYPE=public</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_UPDATE=off</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">9000</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./.data/minio:/data</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">flog:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mingrammer/flog</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">flog</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-f</span> <span class="string">json</span> <span class="string">-d</span> <span class="string">1s</span> <span class="string">-l</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">loki</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>loki-config.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">auth_enabled:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">http_listen_port:</span> <span class="number">3100</span></span><br><span class="line"><span class="attr">memberlist:</span></span><br><span class="line">  <span class="attr">join_members:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">loki:7946</span></span><br><span class="line"><span class="attr">schema_config:</span></span><br><span class="line">  <span class="attr">configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">from:</span> <span class="number">2021-08-01</span></span><br><span class="line">      <span class="attr">store:</span> <span class="string">boltdb-shipper</span></span><br><span class="line">      <span class="attr">object_store:</span> <span class="string">s3</span></span><br><span class="line">      <span class="attr">schema:</span> <span class="string">v11</span></span><br><span class="line">      <span class="attr">index:</span></span><br><span class="line">        <span class="attr">prefix:</span> <span class="string">index_</span></span><br><span class="line">        <span class="attr">period:</span> <span class="string">24h</span></span><br><span class="line"><span class="attr">common:</span></span><br><span class="line">  <span class="attr">path_prefix:</span> <span class="string">/loki</span></span><br><span class="line">  <span class="attr">replication_factor:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">storage:</span></span><br><span class="line">    <span class="attr">s3:</span></span><br><span class="line">      <span class="attr">endpoint:</span> <span class="string">http://minio:9000</span></span><br><span class="line">      <span class="attr">insecure:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">bucketnames:</span> <span class="string">loki-data</span></span><br><span class="line">      <span class="attr">access_key_id:</span> <span class="string">loki</span></span><br><span class="line">      <span class="attr">secret_access_key:</span> <span class="string">supersecret</span></span><br><span class="line">      <span class="attr">s3forcepathstyle:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ring:</span></span><br><span class="line">    <span class="attr">kvstore:</span></span><br><span class="line">      <span class="attr">store:</span> <span class="string">memberlist</span></span><br><span class="line"><span class="attr">ruler:</span></span><br><span class="line">  <span class="attr">storage:</span></span><br><span class="line">    <span class="attr">s3:</span></span><br><span class="line">      <span class="attr">bucketnames:</span> <span class="string">loki-ruler</span></span><br></pre></td></tr></table></figure><p><code>promtail-config.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">http_listen_port:</span> <span class="number">9080</span></span><br><span class="line">  <span class="attr">grpc_listen_port:</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">positions:</span></span><br><span class="line">  <span class="attr">filename:</span> <span class="string">/tmp/positions.yaml</span></span><br><span class="line"></span><br><span class="line"><span class="attr">clients:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">http://loki:3100/loki/api/v1/push</span></span><br><span class="line">    <span class="attr">tenant_id:</span> <span class="string">tenant1</span></span><br><span class="line"></span><br><span class="line"><span class="attr">scrape_configs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">flog_scrape</span></span><br><span class="line">    <span class="attr">docker_sd_configs:</span> <span class="comment"># å¯¹äºpromtailæ¥è¯´ï¼Œåˆå¯ä»¥å®šä¹‰å„ç§æ—¥å¿—æ¥æºï¼Œè¯·è§ https://grafana.com/docs/loki/latest/clients/promtail/configuration/#scrape_configs</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">unix:///var/run/docker.sock</span> <span class="comment"># è¿™é‡Œç›´æ¥ä»dockerå¥—æ¥å­—æ‹¿æ—¥å¿—</span></span><br><span class="line">        <span class="attr">refresh_interval:</span> <span class="string">5s</span></span><br><span class="line">    <span class="attr">relabel_configs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">source_labels:</span> [<span class="string">&#x27;__meta_docker_container_name&#x27;</span>] <span class="comment"># æ ¹æ®å®¹å™¨åæ‰“æ ‡ç­¾åˆ†ç±»</span></span><br><span class="line">        <span class="attr">regex:</span> <span class="string">&#x27;/(.*)&#x27;</span></span><br><span class="line">        <span class="attr">target_label:</span> <span class="string">&#x27;container&#x27;</span> <span class="comment"># æ ‡ç­¾åä¸º container</span></span><br></pre></td></tr></table></figure><p>å‡†å¤‡å¥½äº†ä¹‹åï¼Œè¿è¡Œ docker-compose æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure><p>ç„¶åæ¥åˆ° <a href="http://127.0.0.1:3000/">127.0.0.1:3000</a> è¿›å…¥Grafana</p><p><img src="https://image.nickxu.me/202303192242367.png" alt="image-20230319224216330"></p><p>ç‚¹å‡»å·¦ä¸‹è§’æ·»åŠ æ•°æ®æºï¼Œé€‰æ‹© Loki</p><p><img src="https://image.nickxu.me/202303192243339.png" alt="image-20230319224322305"></p><p>URLå¡«å†™ä¸º <code>http://loki:3100</code></p><p><img src="https://image.nickxu.me/202303192244031.png" alt="image-20230319224436992"></p><p>å†æ¥åˆ° Exploreï¼Œé€‰æ‹©è¦çœ‹çš„å®¹å™¨ä¸º flog</p><p><img src="https://image.nickxu.me/202303192244370.png" alt="image-20230319224456334"></p><p>å®ƒå±…ç„¶ä¼šè‡ªåŠ¨æç¤ºä½ æ·»åŠ  JSON è§£æ</p><p><img src="https://image.nickxu.me/202303192246491.png" alt="image-20230319224653449"></p><p>ç„¶åä½ å°±å¯ä»¥æ ¹æ®å­—æ®µæ·»åŠ æ£€ç´¢æ¡ä»¶äº†ï¼Œæ¯”æ–¹è¯´çŠ¶æ€ç é™å®šä¸º 200</p><p><img src="https://image.nickxu.me/202303192247842.png" alt="image-20230319224734800"></p><p>æˆ‘åªèƒ½è¯´ç®€ç›´ä¸è¦å¤ªèˆ’æœäº†</p><p>æ¥ä¸‹æ¥ä½ å°±å¯ä»¥æŠŠè¿™ä¸€å¥—æ”¾åœ¨ä½ çš„é¡¹ç›®é‡Œé¢äº†ï¼Œä½ å¯ä»¥ç›‘å¬æŸä¸ªå®¹å™¨ï¼Œæˆ–è€…ç›‘å¬æŸä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œåˆæˆ–è€…ç›‘å¬æŸä¸ªå¡å¤«å¡é˜Ÿåˆ—ï¼Œéƒ½å¯ä»¥ï¼Œéšä¾¿ä½ æŠ˜è…¾äº†</p><p>ï¼ˆPSï¼šä½ çš„å®¹å™¨ä¸èƒ½å¯ç”¨ <code>tty</code>  <a href="https://github.com/grafana/loki/issues/5950#issuecomment-1223979118">https://github.com/grafana/loki/issues/5950#issuecomment-1223979118</a> ï¼‰</p><p><img src="https://image.nickxu.me/202303201236992.png" alt="image-20230320123644774"></p><p>æœ€åæ¥çœ‹çœ‹èµ„æºå ç”¨ï¼Œå†…å­˜ 200MB å·¦å³ï¼Œç›¸å¯¹æ¥è¯´è½»é‡äº†ä¸å°‘</p>]]></content:encoded>
      
      
      <category domain="https://nickxu.me/categories/%E8%BF%90%E7%BB%B4/">è¿ç»´</category>
      
      <category domain="https://nickxu.me/categories/%E8%BF%90%E7%BB%B4/%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/">æ—¥å¿—æ”¶é›†</category>
      
      
      <category domain="https://nickxu.me/tags/%E8%BF%90%E7%BB%B4/">è¿ç»´</category>
      
      
      <comments>https://nickxu.me/2023/03/18/%E5%91%8A%E5%88%ABELK%EF%BC%81%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9FGrafana-Loki%E5%88%9D%E4%B8%8A%E6%89%8B/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
